{"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.1:development":{"value":{"code":"dotenv.config();\nimport express from \"express\";\nimport User from \"./src/routes/User.js\";\nimport Post from \"./src/routes/Post.js\";\nimport Comment from \"./src/routes/Comment.js\";\nimport Pagination from \"./src/routes/Pagination.js\";\nimport db from \"./src/models/index.js\";\nimport client from \"./src/config/elasticsearch.js\";\nimport dotenv from \"dotenv\";\nconst app = express();\napp.use(express.json({\n  extended: true\n}));\napp.use(\"/user\", User);\napp.use(\"/post\", Post);\napp.use(\"/comment\", Comment);\napp.use(\"/pagination\", Pagination);\nclient.info().then(() => console.log(\"Application is Connected to ElasticSearch\")).catch(error => console.error(error));\ndb.sequelize.authenticate().then(() => console.log(`Connected to db`)).catch(error => console.log(error));\napp.listen(process.env.PORT, () => console.log(`Application is running on Port:${process.env.PORT}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJleHByZXNzIiwiVXNlciIsIlBvc3QiLCJDb21tZW50IiwiUGFnaW5hdGlvbiIsImRiIiwiY2xpZW50IiwiYXBwIiwidXNlIiwianNvbiIsImV4dGVuZGVkIiwiaW5mbyIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsInNlcXVlbGl6ZSIsImF1dGhlbnRpY2F0ZSIsImxpc3RlbiIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZG90ZW52LmNvbmZpZygpO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuL3NyYy9yb3V0ZXMvVXNlci5qc1wiO1xuaW1wb3J0IFBvc3QgZnJvbSBcIi4vc3JjL3JvdXRlcy9Qb3N0LmpzXCI7XG5pbXBvcnQgQ29tbWVudCBmcm9tIFwiLi9zcmMvcm91dGVzL0NvbW1lbnQuanNcIjtcbmltcG9ydCBQYWdpbmF0aW9uIGZyb20gXCIuL3NyYy9yb3V0ZXMvUGFnaW5hdGlvbi5qc1wiO1xuaW1wb3J0IGRiIGZyb20gXCIuL3NyYy9tb2RlbHMvaW5kZXguanNcIjtcbmltcG9ydCBjbGllbnQgZnJvbSBcIi4vc3JjL2NvbmZpZy9lbGFzdGljc2VhcmNoLmpzXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcblxuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5hcHAudXNlKGV4cHJlc3MuanNvbih7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbmFwcC51c2UoXCIvdXNlclwiLCBVc2VyKTtcbmFwcC51c2UoXCIvcG9zdFwiLCBQb3N0KTtcbmFwcC51c2UoXCIvY29tbWVudFwiLCBDb21tZW50KTtcbmFwcC51c2UoXCIvcGFnaW5hdGlvblwiLCBQYWdpbmF0aW9uKTtcbmNsaWVudFxuICAuaW5mbygpXG4gIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwiQXBwbGljYXRpb24gaXMgQ29ubmVjdGVkIHRvIEVsYXN0aWNTZWFyY2hcIikpXG4gIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTtcbmRiLnNlcXVlbGl6ZVxuICAuYXV0aGVudGljYXRlKClcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coYENvbm5lY3RlZCB0byBkYmApKVxuICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvcikpO1xuYXBwLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JULCAoKSA9PlxuICBjb25zb2xlLmxvZyhgQXBwbGljYXRpb24gaXMgcnVubmluZyBvbiBQb3J0OiR7cHJvY2Vzcy5lbnYuUE9SVH1gKVxuKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsTUFBUDtBQUNBLE9BQU9DLE9BQVAsTUFBb0IsU0FBcEI7QUFDQSxPQUFPQyxJQUFQLE1BQWlCLHNCQUFqQjtBQUNBLE9BQU9DLElBQVAsTUFBaUIsc0JBQWpCO0FBQ0EsT0FBT0MsT0FBUCxNQUFvQix5QkFBcEI7QUFDQSxPQUFPQyxVQUFQLE1BQXVCLDRCQUF2QjtBQUNBLE9BQU9DLEVBQVAsTUFBZSx1QkFBZjtBQUNBLE9BQU9DLE1BQVAsTUFBbUIsK0JBQW5CO0FBQ0EsT0FBT1IsTUFBUCxNQUFtQixRQUFuQjtBQUdBLE1BQU1TLEdBQUcsR0FBR1AsT0FBTyxFQUFuQjtBQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUVIsT0FBTyxDQUFDUyxJQUFSLENBQWE7RUFBRUMsUUFBUSxFQUFFO0FBQVosQ0FBYixDQUFSO0FBQ0FILEdBQUcsQ0FBQ0MsR0FBSixDQUFRLE9BQVIsRUFBaUJQLElBQWpCO0FBQ0FNLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLE9BQVIsRUFBaUJOLElBQWpCO0FBQ0FLLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFVBQVIsRUFBb0JMLE9BQXBCO0FBQ0FJLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGFBQVIsRUFBdUJKLFVBQXZCO0FBQ0FFLE1BQU0sQ0FDSEssSUFESCxHQUVHQyxJQUZILENBRVEsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksMkNBQVosQ0FGZCxFQUdHQyxLQUhILENBR1VDLEtBQUQsSUFBV0gsT0FBTyxDQUFDRyxLQUFSLENBQWNBLEtBQWQsQ0FIcEI7QUFJQVgsRUFBRSxDQUFDWSxTQUFILENBQ0dDLFlBREgsR0FFR04sSUFGSCxDQUVRLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLGlCQUFiLENBRmQsRUFHR0MsS0FISCxDQUdVQyxLQUFELElBQVdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxLQUFaLENBSHBCO0FBSUFULEdBQUcsQ0FBQ1ksTUFBSixDQUFXQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBdkIsRUFBNkIsTUFDM0JULE9BQU8sQ0FBQ0MsR0FBUixDQUFhLGtDQUFpQ00sT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQUssRUFBL0QsQ0FERiJ9","map":{"version":3,"names":["dotenv","config","express","User","Post","Comment","Pagination","db","client","app","use","json","extended","info","then","console","log","catch","error","sequelize","authenticate","listen","process","env","PORT"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/","sources":["app.js"],"sourcesContent":["dotenv.config();\nimport express from \"express\";\nimport User from \"./src/routes/User.js\";\nimport Post from \"./src/routes/Post.js\";\nimport Comment from \"./src/routes/Comment.js\";\nimport Pagination from \"./src/routes/Pagination.js\";\nimport db from \"./src/models/index.js\";\nimport client from \"./src/config/elasticsearch.js\";\nimport dotenv from \"dotenv\";\n\n\nconst app = express();\napp.use(express.json({ extended: true }));\napp.use(\"/user\", User);\napp.use(\"/post\", Post);\napp.use(\"/comment\", Comment);\napp.use(\"/pagination\", Pagination);\nclient\n  .info()\n  .then(() => console.log(\"Application is Connected to ElasticSearch\"))\n  .catch((error) => console.error(error));\ndb.sequelize\n  .authenticate()\n  .then(() => console.log(`Connected to db`))\n  .catch((error) => console.log(error));\napp.listen(process.env.PORT, () =>\n  console.log(`Application is running on Port:${process.env.PORT}`)\n);\n"],"mappings":"AAAAA,MAAM,CAACC,MAAP;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,EAAP,MAAe,uBAAf;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOR,MAAP,MAAmB,QAAnB;AAGA,MAAMS,GAAG,GAAGP,OAAO,EAAnB;AACAO,GAAG,CAACC,GAAJ,CAAQR,OAAO,CAACS,IAAR,CAAa;EAAEC,QAAQ,EAAE;AAAZ,CAAb,CAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBP,IAAjB;AACAM,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBN,IAAjB;AACAK,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBL,OAApB;AACAI,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBJ,UAAvB;AACAE,MAAM,CACHK,IADH,GAEGC,IAFH,CAEQ,MAAMC,OAAO,CAACC,GAAR,CAAY,2CAAZ,CAFd,EAGGC,KAHH,CAGUC,KAAD,IAAWH,OAAO,CAACG,KAAR,CAAcA,KAAd,CAHpB;AAIAX,EAAE,CAACY,SAAH,CACGC,YADH,GAEGN,IAFH,CAEQ,MAAMC,OAAO,CAACC,GAAR,CAAa,iBAAb,CAFd,EAGGC,KAHH,CAGUC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAHpB;AAIAT,GAAG,CAACY,MAAJ,CAAWC,OAAO,CAACC,GAAR,CAAYC,IAAvB,EAA6B,MAC3BT,OAAO,CAACC,GAAR,CAAa,kCAAiCM,OAAO,CAACC,GAAR,CAAYC,IAAK,EAA/D,CADF"}},"mtime":1663219916575},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _User = _interopRequireDefault(require(\"./src/routes/User.js\"));\n\nvar _Post = _interopRequireDefault(require(\"./src/routes/Post.js\"));\n\nvar _Comment = _interopRequireDefault(require(\"./src/routes/Comment.js\"));\n\nvar _Pagination = _interopRequireDefault(require(\"./src/routes/Pagination.js\"));\n\nvar _index = _interopRequireDefault(require(\"./src/models/index.js\"));\n\nvar _elasticsearch = _interopRequireDefault(require(\"./src/config/elasticsearch.js\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst app = (0, _express.default)();\napp.use(_express.default.json({\n  extended: true\n}));\napp.use(\"/user\", _User.default);\napp.use(\"/post\", _Post.default);\napp.use(\"/comment\", _Comment.default);\napp.use(\"/pagination\", _Pagination.default);\n\n_elasticsearch.default.info().then(() => console.log(\"Application is Connected to ElasticSearch\")).catch(error => console.error(error));\n\n_index.default.sequelize.authenticate().then(() => console.log(`Application is Connected to ${process.env.DB_NAME}`)).catch(error => console.log(error));\n\napp.listen(process.env.PORT, () => console.log(`Application is Running on Port:${process.env.PORT}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJhcHAiLCJleHByZXNzIiwidXNlIiwianNvbiIsImV4dGVuZGVkIiwiVXNlciIsIlBvc3QiLCJDb21tZW50IiwiUGFnaW5hdGlvbiIsImNsaWVudCIsImluZm8iLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJkYiIsInNlcXVlbGl6ZSIsImF1dGhlbnRpY2F0ZSIsInByb2Nlc3MiLCJlbnYiLCJEQl9OQU1FIiwibGlzdGVuIiwiUE9SVCJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpLyIsInNvdXJjZXMiOlsiYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImRvdGVudi5jb25maWcoKTtcbmltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi9zcmMvcm91dGVzL1VzZXIuanNcIjtcbmltcG9ydCBQb3N0IGZyb20gXCIuL3NyYy9yb3V0ZXMvUG9zdC5qc1wiO1xuaW1wb3J0IENvbW1lbnQgZnJvbSBcIi4vc3JjL3JvdXRlcy9Db21tZW50LmpzXCI7XG5pbXBvcnQgUGFnaW5hdGlvbiBmcm9tIFwiLi9zcmMvcm91dGVzL1BhZ2luYXRpb24uanNcIjtcbmltcG9ydCBkYiBmcm9tIFwiLi9zcmMvbW9kZWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgY2xpZW50IGZyb20gXCIuL3NyYy9jb25maWcvZWxhc3RpY3NlYXJjaC5qc1wiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuYXBwLnVzZShcIi91c2VyXCIsIFVzZXIpO1xuYXBwLnVzZShcIi9wb3N0XCIsIFBvc3QpO1xuYXBwLnVzZShcIi9jb21tZW50XCIsIENvbW1lbnQpO1xuYXBwLnVzZShcIi9wYWdpbmF0aW9uXCIsIFBhZ2luYXRpb24pO1xuY2xpZW50XG4gIC5pbmZvKClcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJBcHBsaWNhdGlvbiBpcyBDb25uZWN0ZWQgdG8gRWxhc3RpY1NlYXJjaFwiKSlcbiAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xuZGIuc2VxdWVsaXplXG4gIC5hdXRoZW50aWNhdGUoKVxuICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhgQXBwbGljYXRpb24gaXMgQ29ubmVjdGVkIHRvICR7cHJvY2Vzcy5lbnYuREJfTkFNRX1gKSlcbiAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcbmFwcC5saXN0ZW4ocHJvY2Vzcy5lbnYuUE9SVCwgKCkgPT5cbiAgY29uc29sZS5sb2coYEFwcGxpY2F0aW9uIGlzIFJ1bm5pbmcgb24gUG9ydDoke3Byb2Nlc3MuZW52LlBPUlR9YClcbik7XG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFSQUEsZUFBQSxDQUFPQyxNQUFQOztBQVVBLE1BQU1DLEdBQUcsR0FBRyxJQUFBQyxnQkFBQSxHQUFaO0FBQ0FELEdBQUcsQ0FBQ0UsR0FBSixDQUFRRCxnQkFBQSxDQUFRRSxJQUFSLENBQWE7RUFBRUMsUUFBUSxFQUFFO0FBQVosQ0FBYixDQUFSO0FBQ0FKLEdBQUcsQ0FBQ0UsR0FBSixDQUFRLE9BQVIsRUFBaUJHLGFBQWpCO0FBQ0FMLEdBQUcsQ0FBQ0UsR0FBSixDQUFRLE9BQVIsRUFBaUJJLGFBQWpCO0FBQ0FOLEdBQUcsQ0FBQ0UsR0FBSixDQUFRLFVBQVIsRUFBb0JLLGdCQUFwQjtBQUNBUCxHQUFHLENBQUNFLEdBQUosQ0FBUSxhQUFSLEVBQXVCTSxtQkFBdkI7O0FBQ0FDLHNCQUFBLENBQ0dDLElBREgsR0FFR0MsSUFGSCxDQUVRLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJDQUFaLENBRmQsRUFHR0MsS0FISCxDQUdVQyxLQUFELElBQVdILE9BQU8sQ0FBQ0csS0FBUixDQUFjQSxLQUFkLENBSHBCOztBQUlBQyxjQUFBLENBQUdDLFNBQUgsQ0FDR0MsWUFESCxHQUVHUCxJQUZILENBRVEsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQWEsK0JBQThCTSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsT0FBUSxFQUEvRCxDQUZkLEVBR0dQLEtBSEgsQ0FHVUMsS0FBRCxJQUFXSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUUsS0FBWixDQUhwQjs7QUFJQWYsR0FBRyxDQUFDc0IsTUFBSixDQUFXSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsSUFBdkIsRUFBNkIsTUFDM0JYLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLGtDQUFpQ00sT0FBTyxDQUFDQyxHQUFSLENBQVlHLElBQUssRUFBL0QsQ0FERiJ9","map":{"version":3,"names":["dotenv","config","app","express","use","json","extended","User","Post","Comment","Pagination","client","info","then","console","log","catch","error","db","sequelize","authenticate","process","env","DB_NAME","listen","PORT"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/","sources":["app.js"],"sourcesContent":["dotenv.config();\nimport express from \"express\";\nimport User from \"./src/routes/User.js\";\nimport Post from \"./src/routes/Post.js\";\nimport Comment from \"./src/routes/Comment.js\";\nimport Pagination from \"./src/routes/Pagination.js\";\nimport db from \"./src/models/index.js\";\nimport client from \"./src/config/elasticsearch.js\";\nimport dotenv from \"dotenv\";\n\nconst app = express();\napp.use(express.json({ extended: true }));\napp.use(\"/user\", User);\napp.use(\"/post\", Post);\napp.use(\"/comment\", Comment);\napp.use(\"/pagination\", Pagination);\nclient\n  .info()\n  .then(() => console.log(\"Application is Connected to ElasticSearch\"))\n  .catch((error) => console.error(error));\ndb.sequelize\n  .authenticate()\n  .then(() => console.log(`Application is Connected to ${process.env.DB_NAME}`))\n  .catch((error) => console.log(error));\napp.listen(process.env.PORT, () =>\n  console.log(`Application is Running on Port:${process.env.PORT}`)\n);\n"],"mappings":";;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AARAA,eAAA,CAAOC,MAAP;;AAUA,MAAMC,GAAG,GAAG,IAAAC,gBAAA,GAAZ;AACAD,GAAG,CAACE,GAAJ,CAAQD,gBAAA,CAAQE,IAAR,CAAa;EAAEC,QAAQ,EAAE;AAAZ,CAAb,CAAR;AACAJ,GAAG,CAACE,GAAJ,CAAQ,OAAR,EAAiBG,aAAjB;AACAL,GAAG,CAACE,GAAJ,CAAQ,OAAR,EAAiBI,aAAjB;AACAN,GAAG,CAACE,GAAJ,CAAQ,UAAR,EAAoBK,gBAApB;AACAP,GAAG,CAACE,GAAJ,CAAQ,aAAR,EAAuBM,mBAAvB;;AACAC,sBAAA,CACGC,IADH,GAEGC,IAFH,CAEQ,MAAMC,OAAO,CAACC,GAAR,CAAY,2CAAZ,CAFd,EAGGC,KAHH,CAGUC,KAAD,IAAWH,OAAO,CAACG,KAAR,CAAcA,KAAd,CAHpB;;AAIAC,cAAA,CAAGC,SAAH,CACGC,YADH,GAEGP,IAFH,CAEQ,MAAMC,OAAO,CAACC,GAAR,CAAa,+BAA8BM,OAAO,CAACC,GAAR,CAAYC,OAAQ,EAA/D,CAFd,EAGGP,KAHH,CAGUC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAHpB;;AAIAf,GAAG,CAACsB,MAAJ,CAAWH,OAAO,CAACC,GAAR,CAAYG,IAAvB,EAA6B,MAC3BX,OAAO,CAACC,GAAR,CAAa,kCAAiCM,OAAO,CAACC,GAAR,CAAYG,IAAK,EAA/D,CADF"}},"mtime":1663326262562},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _User = require(\"../controllers/User.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post(\"/signup\", _User.SignUp);\nrouter.post(\"/login\", _User.Login);\nrouter.get(\"/refreshAccess\", _User.token);\nrouter.delete(\"/logout\", _User.Logout);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsIlNpZ25VcCIsIkxvZ2luIiwiZ2V0IiwidG9rZW4iLCJkZWxldGUiLCJMb2dvdXQiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuXG5pbXBvcnQgeyBTaWduVXAsTG9naW4sdG9rZW4sTG9nb3V0IH0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1VzZXIuanNcIjtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvc2lnbnVwXCIsU2lnblVwKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsTG9naW4pO1xucm91dGVyLmdldChcIi9yZWZyZXNoQWNjZXNzXCIsdG9rZW4pO1xucm91dGVyLmRlbGV0ZShcIi9sb2dvdXRcIixMb2dvdXQpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXNCQyxZQUF0QjtBQUNBSixNQUFNLENBQUNHLElBQVAsQ0FBWSxRQUFaLEVBQXFCRSxXQUFyQjtBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxnQkFBWCxFQUE0QkMsV0FBNUI7QUFDQVAsTUFBTSxDQUFDUSxNQUFQLENBQWMsU0FBZCxFQUF3QkMsWUFBeEI7ZUFFZVQsTSJ9","map":{"version":3,"names":["router","express","Router","post","SignUp","Login","get","token","delete","Logout"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/","sources":["User.js"],"sourcesContent":["import express from \"express\";\n\nimport { SignUp,Login,token,Logout } from \"../controllers/User.js\";\n\nconst router = express.Router();\n\nrouter.post(\"/signup\",SignUp);\nrouter.post(\"/login\",Login);\nrouter.get(\"/refreshAccess\",token);\nrouter.delete(\"/logout\",Logout);\n\nexport default router;\n"],"mappings":";;;;;;;AAAA;;AAEA;;;;AAEA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAsBC,YAAtB;AACAJ,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAqBE,WAArB;AACAL,MAAM,CAACM,GAAP,CAAW,gBAAX,EAA4BC,WAA5B;AACAP,MAAM,CAACQ,MAAP,CAAc,SAAd,EAAwBC,YAAxB;eAEeT,M"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tokens = exports.token = exports.generateAccessToken = exports.SignUp = exports.ResetPassword = exports.Logout = exports.Login = exports.ForgetPassword = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nvar _sequelize = require(\"sequelize\");\n\nvar _Errors = require(\"../middleware/Errors.js\");\n\nvar _mail = _interopRequireDefault(require(\"@sendgrid/mail\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst sendGridKey = process.env.SENDGRID_KEY;\nconst resetSecret = process.env.RESET_PASSWORD_KEY;\n\n_dotenv.default.config();\n\nconst salt = _bcryptjs.default.genSaltSync(10);\n\nconst {\n  Users\n} = _models.default;\nvar tokens = [];\nexports.tokens = tokens;\n\nconst SignUp = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n\n  const hasedPassword = _bcryptjs.default.hashSync(password, salt);\n\n  try {\n    const checkAccount = await Users.findOne({\n      where: {\n        email\n      }\n    });\n    if (checkAccount) return res.json(`${email} Account Already Exists`);\n    const userArray = {\n      email: email,\n      password: hasedPassword\n    };\n    const newUser = await Users.create(userArray);\n    return res.json(newUser.dataValues);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.SignUp = SignUp;\n\nconst Login = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n\n  try {\n    const user = await Users.findOne({\n      where: {\n        email: email\n      }\n    });\n\n    if (!user) {\n      return (0, _Errors.ErrorHandling)(res, 404);\n    }\n\n    const dbpassword = user.password;\n\n    _bcryptjs.default.compare(password, dbpassword).then(match => {\n      if (!match) {\n        return (0, _Errors.ErrorHandling)(res, 401);\n      } else {\n        //Authorization\n        const accessToken = generateAccessToken({\n          user\n        });\n\n        const refreshToken = _jsonwebtoken.default.sign({\n          user\n        }, process.env.REFRESH_TOKEN_SECRET);\n\n        tokens.push(refreshToken);\n        return res.json({\n          accessToken: accessToken,\n          refreshToken: refreshToken\n        });\n      }\n    });\n  } catch (err) {\n    (0, _Errors.ErrorHandling)(err, 500);\n  }\n};\n\nexports.Login = Login;\n\nconst generateAccessToken = user => {\n  return _jsonwebtoken.default.sign(user, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: process.env.EXPIRES_IN\n  });\n};\n\nexports.generateAccessToken = generateAccessToken;\n\nconst token = (req, res) => {\n  const refreshToken = req.body.token;\n  if (refreshToken == null) return res.sendStatus(401);\n  if (!tokens.includes(refreshToken)) return res.sendStatus(403);\n\n  _jsonwebtoken.default.verify(refreshToken, process.env.REFRESH_TOKEN_SECRET, (error, user) => {\n    if (error) return res.sendStatus(403);\n    const accessToken = generateAccessToken({\n      name: user.name,\n      email: user.email,\n      password: user.password\n    });\n    res.json({\n      accessToken: accessToken\n    });\n  });\n};\n\nexports.token = token;\n\nconst Logout = async (req, res) => {\n  exports.tokens = tokens = tokens.filter(token => token !== req.body.token);\n  return res.sendStatus(204);\n};\n\nexports.Logout = Logout;\n\nconst ResetPassword = async (req, res) => {\n  // Get the token from params\n  const resetLink = req.params.token;\n  const newPassword = req.body; // if there is a token we need to decoded and check for no errors\n\n  if (resetLink) {\n    _jsonwebtoken.default.verify(resetLink, resetSecret, (error, decodedToken) => {\n      if (error) {\n        res.status().json({\n          message: 'Incorrect token or expired'\n        });\n      }\n    });\n  }\n\n  try {\n    // find user by the temporary token we stored earlier\n    const user = await Users.findAll({\n      where: {\n        resetLink: resetLink\n      }\n    }); // if there is no user, send back an error\n\n    if (!user) {\n      return res.status(400).json({\n        message: 'We could not find a match for this link'\n      });\n    } // otherwise we need to hash the new password  before saving it in the database\n\n\n    const hashPassword = _bcryptjs.default.hashSync(newPassword.password, 8);\n\n    newPassword.password = hashPassword; // update user credentials and remove the temporary link from database before saving\n\n    const updatedCredentials = {\n      password: newPassword.password,\n      resetLink: null\n    };\n    await Users.update({\n      updatedCredentials\n    }, {\n      where: {\n        [_sequelize.Op.eq]: resetLink\n      }\n    });\n    return res.status(200).json({\n      message: 'Password updated'\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: error.message\n    });\n  }\n};\n\nexports.ResetPassword = ResetPassword;\n\nconst ForgetPassword = async (req, res) => {\n  const {\n    email\n  } = req.body;\n\n  try {\n    // look for email in database\n    const user = await Users.findOne({\n      where: {\n        email: email\n      }\n    }); // if there is no user send back an error\n\n    if (!user) {\n      res.status(404).json({\n        error: \"Invalid email\"\n      });\n    } else {\n      // otherwise we need to create a temporary token that expires in 10 mins\n      const resetLink = _jsonwebtoken.default.sign({\n        user: user.email\n      }, resetSecret, {\n        expiresIn: '10m'\n      }); // update resetLink property to be the temporary token and then send email\n\n\n      await Users.update({\n        resetSecret: resetSecret\n      }, {\n        where: {\n          [_sequelize.Op.eq]: email\n        }\n      }); // we'll define this function below\n\n      sendEmail(user, resetLink);\n      res.status(200).json({\n        message: \"Check your email\"\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      message: error.message\n    });\n  }\n};\n\nexports.ForgetPassword = ForgetPassword;\n\nfunction sendEmail(user, token) {\n  _mail.default.setApiKey(sendGridKey);\n\n  const msg = {\n    to: user.email,\n    from: \"talha.shakil@kwanso.com\",\n    // your email\n    subject: \"Reset password requested\",\n    html: `\n     <a href=\"${process.env.clientURL}/reset-password/${token}\">${token}</a>\n   ` // I'm only going to use an (a tag) to make this easier to\n    // understand but feel free to add any email templates \n    // in the `html` property\n\n  };\n\n  _mail.default.send(msg);\n\n  console.log(\"Email sent\");\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kR3JpZEtleSIsInByb2Nlc3MiLCJlbnYiLCJTRU5ER1JJRF9LRVkiLCJyZXNldFNlY3JldCIsIlJFU0VUX1BBU1NXT1JEX0tFWSIsImRvdGVudiIsImNvbmZpZyIsInNhbHQiLCJiY3J5cHQiLCJnZW5TYWx0U3luYyIsIlVzZXJzIiwibW9kZWwiLCJ0b2tlbnMiLCJTaWduVXAiLCJyZXEiLCJyZXMiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsImhhc2VkUGFzc3dvcmQiLCJoYXNoU3luYyIsImNoZWNrQWNjb3VudCIsImZpbmRPbmUiLCJ3aGVyZSIsImpzb24iLCJ1c2VyQXJyYXkiLCJuZXdVc2VyIiwiY3JlYXRlIiwiZGF0YVZhbHVlcyIsImVycm9yIiwiRXJyb3JIYW5kbGluZyIsIkxvZ2luIiwidXNlciIsImRicGFzc3dvcmQiLCJjb21wYXJlIiwidGhlbiIsIm1hdGNoIiwiYWNjZXNzVG9rZW4iLCJnZW5lcmF0ZUFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwiand0Iiwic2lnbiIsIlJFRlJFU0hfVE9LRU5fU0VDUkVUIiwicHVzaCIsImVyciIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJleHBpcmVzSW4iLCJFWFBJUkVTX0lOIiwidG9rZW4iLCJzZW5kU3RhdHVzIiwiaW5jbHVkZXMiLCJ2ZXJpZnkiLCJuYW1lIiwiTG9nb3V0IiwiZmlsdGVyIiwiUmVzZXRQYXNzd29yZCIsInJlc2V0TGluayIsInBhcmFtcyIsIm5ld1Bhc3N3b3JkIiwiZGVjb2RlZFRva2VuIiwic3RhdHVzIiwibWVzc2FnZSIsImZpbmRBbGwiLCJoYXNoUGFzc3dvcmQiLCJ1cGRhdGVkQ3JlZGVudGlhbHMiLCJ1cGRhdGUiLCJPcCIsImVxIiwiRm9yZ2V0UGFzc3dvcmQiLCJzZW5kRW1haWwiLCJzZ01haWwiLCJzZXRBcGlLZXkiLCJtc2ciLCJ0byIsImZyb20iLCJzdWJqZWN0IiwiaHRtbCIsImNsaWVudFVSTCIsInNlbmQiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcbmltcG9ydCBtb2RlbCBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBPcCB9IGZyb20gXCJzZXF1ZWxpemVcIjtcbmltcG9ydCB7IEVycm9ySGFuZGxpbmcgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9FcnJvcnMuanNcIjtcbmltcG9ydCBzZ01haWwgZnJvbSAnQHNlbmRncmlkL21haWwnXG5cbmNvbnN0IHNlbmRHcmlkS2V5ID0gcHJvY2Vzcy5lbnYuU0VOREdSSURfS0VZO1xuY29uc3QgcmVzZXRTZWNyZXQgPSBwcm9jZXNzLmVudi5SRVNFVF9QQVNTV09SRF9LRVk7XG5cblxuXG5kb3RlbnYuY29uZmlnKCk7XG5jb25zdCBzYWx0ID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKTtcblxuY29uc3QgeyBVc2VycyB9ID0gbW9kZWw7XG5cbmV4cG9ydCB2YXIgdG9rZW5zID0gW107XG5cbmV4cG9ydCBjb25zdCBTaWduVXAgPSBhc3luYyAocmVxLCByZXMpID0+IHtcblxuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIGNvbnN0IGhhc2VkUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIHNhbHQpO1xuICB0cnkge1xuICAgIGNvbnN0IGNoZWNrQWNjb3VudCA9IGF3YWl0IFVzZXJzLmZpbmRPbmUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgZW1haWxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKGNoZWNrQWNjb3VudCkgcmV0dXJuIHJlcy5qc29uKGAke2VtYWlsfSBBY2NvdW50IEFscmVhZHkgRXhpc3RzYCk7XG5cbiAgICBjb25zdCB1c2VyQXJyYXkgPSB7IGVtYWlsOiBlbWFpbCwgcGFzc3dvcmQ6IGhhc2VkUGFzc3dvcmQgfTtcbiAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgVXNlcnMuY3JlYXRlKHVzZXJBcnJheSk7XG4gICAgcmV0dXJuIHJlcy5qc29uKG5ld1VzZXIuZGF0YVZhbHVlcyk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgIEVycm9ySGFuZGxpbmcocmVzKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IExvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZE9uZSh7XG4gICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcbiAgICB9KTtcbiAgICBpZiAoIXVzZXIpIHtcblxuICAgICAgcmV0dXJuIEVycm9ySGFuZGxpbmcocmVzLCA0MDQpXG4gICAgfVxuICAgIGNvbnN0IGRicGFzc3dvcmQgPSB1c2VyLnBhc3N3b3JkO1xuICAgIGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBkYnBhc3N3b3JkKS50aGVuKChtYXRjaCkgPT4ge1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gRXJyb3JIYW5kbGluZyhyZXMsIDQwMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL0F1dGhvcml6YXRpb25cbiAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBnZW5lcmF0ZUFjY2Vzc1Rva2VuKHsgdXNlciB9KTtcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gand0LnNpZ24oXG4gICAgICAgICAgeyB1c2VyIH0sXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuUkVGUkVTSF9UT0tFTl9TRUNSRVRcbiAgICAgICAgKTtcbiAgICAgICAgdG9rZW5zLnB1c2gocmVmcmVzaFRva2VuKTtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgICAgICAgcmVmcmVzaFRva2VuOiByZWZyZXNoVG9rZW4sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBFcnJvckhhbmRsaW5nKGVyciwgNTAwKTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUFjY2Vzc1Rva2VuID0gKHVzZXIpID0+IHtcbiAgcmV0dXJuIGp3dC5zaWduKHVzZXIsIHByb2Nlc3MuZW52LkFDQ0VTU19UT0tFTl9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46IHByb2Nlc3MuZW52LkVYUElSRVNfSU4sXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHRva2VuID0gKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJlcS5ib2R5LnRva2VuO1xuICBpZiAocmVmcmVzaFRva2VuID09IG51bGwpIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDEpO1xuICBpZiAoIXRva2Vucy5pbmNsdWRlcyhyZWZyZXNoVG9rZW4pKSByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAzKTtcbiAgand0LnZlcmlmeShyZWZyZXNoVG9rZW4sIHByb2Nlc3MuZW52LlJFRlJFU0hfVE9LRU5fU0VDUkVULCAoZXJyb3IsIHVzZXIpID0+IHtcbiAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDMpO1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gZ2VuZXJhdGVBY2Nlc3NUb2tlbih7XG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB1c2VyLnBhc3N3b3JkLFxuICAgIH0pO1xuICAgIHJlcy5qc29uKHsgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBMb2dvdXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdG9rZW5zID0gdG9rZW5zLmZpbHRlcigodG9rZW4pID0+IHRva2VuICE9PSByZXEuYm9keS50b2tlbik7XG4gIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDQpO1xufTtcblxuXG5cblxuXG5cbmV4cG9ydCBjb25zdCBSZXNldFBhc3N3b3JkID1cbiAgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gR2V0IHRoZSB0b2tlbiBmcm9tIHBhcmFtc1xuICAgIGNvbnN0IHJlc2V0TGluayA9IHJlcS5wYXJhbXMudG9rZW47XG4gICAgY29uc3QgbmV3UGFzc3dvcmQgPSByZXEuYm9keTtcbiAgICAvLyBpZiB0aGVyZSBpcyBhIHRva2VuIHdlIG5lZWQgdG8gZGVjb2RlZCBhbmQgY2hlY2sgZm9yIG5vIGVycm9yc1xuICAgIGlmIChyZXNldExpbmspIHtcbiAgICAgIGp3dC52ZXJpZnkocmVzZXRMaW5rLCByZXNldFNlY3JldCwgKGVycm9yLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cygpLmpzb24oeyBtZXNzYWdlOiAnSW5jb3JyZWN0IHRva2VuIG9yIGV4cGlyZWQnIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyBmaW5kIHVzZXIgYnkgdGhlIHRlbXBvcmFyeSB0b2tlbiB3ZSBzdG9yZWQgZWFybGllclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRBbGwoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIHJlc2V0TGluazogcmVzZXRMaW5rXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHVzZXIsIHNlbmQgYmFjayBhbiBlcnJvclxuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdXZSBjb3VsZCBub3QgZmluZCBhIG1hdGNoIGZvciB0aGlzIGxpbmsnIH0pO1xuICAgICAgfVxuICAgICAgLy8gb3RoZXJ3aXNlIHdlIG5lZWQgdG8gaGFzaCB0aGUgbmV3IHBhc3N3b3JkICBiZWZvcmUgc2F2aW5nIGl0IGluIHRoZSBkYXRhYmFzZVxuICAgICAgY29uc3QgaGFzaFBhc3N3b3JkID0gYmNyeXB0Lmhhc2hTeW5jKG5ld1Bhc3N3b3JkLnBhc3N3b3JkLCA4KTtcbiAgICAgIG5ld1Bhc3N3b3JkLnBhc3N3b3JkID0gaGFzaFBhc3N3b3JkO1xuICAgICAgLy8gdXBkYXRlIHVzZXIgY3JlZGVudGlhbHMgYW5kIHJlbW92ZSB0aGUgdGVtcG9yYXJ5IGxpbmsgZnJvbSBkYXRhYmFzZSBiZWZvcmUgc2F2aW5nXG4gICAgICBjb25zdCB1cGRhdGVkQ3JlZGVudGlhbHMgPSB7XG4gICAgICAgIHBhc3N3b3JkOiBuZXdQYXNzd29yZC5wYXNzd29yZCxcbiAgICAgICAgcmVzZXRMaW5rOiBudWxsXG4gICAgICB9XG4gICAgICBhd2FpdCBVc2Vycy51cGRhdGUoeyB1cGRhdGVkQ3JlZGVudGlhbHMgfSwge1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIFtPcC5lcV06IHJlc2V0TGluayxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdQYXNzd29yZCB1cGRhdGVkJyB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIH1cbiAgfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuZXhwb3J0IGNvbnN0IEZvcmdldFBhc3N3b3JkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgZW1haWwgfSA9IHJlcS5ib2R5O1xuXG4gIHRyeSB7XG4gICAgLy8gbG9vayBmb3IgZW1haWwgaW4gZGF0YWJhc2VcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZE9uZSh7XG4gICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcbiAgICB9KTtcbiAgICAvLyBpZiB0aGVyZSBpcyBubyB1c2VyIHNlbmQgYmFjayBhbiBlcnJvclxuICAgIGlmICghdXNlcikge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogXCJJbnZhbGlkIGVtYWlsXCIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG90aGVyd2lzZSB3ZSBuZWVkIHRvIGNyZWF0ZSBhIHRlbXBvcmFyeSB0b2tlbiB0aGF0IGV4cGlyZXMgaW4gMTAgbWluc1xuICAgICAgY29uc3QgcmVzZXRMaW5rID0gand0LnNpZ24oeyB1c2VyOiB1c2VyLmVtYWlsIH0sXG4gICAgICAgIHJlc2V0U2VjcmV0LCB7IGV4cGlyZXNJbjogJzEwbScgfSk7XG4gICAgICAvLyB1cGRhdGUgcmVzZXRMaW5rIHByb3BlcnR5IHRvIGJlIHRoZSB0ZW1wb3JhcnkgdG9rZW4gYW5kIHRoZW4gc2VuZCBlbWFpbFxuICAgICAgYXdhaXQgVXNlcnMudXBkYXRlKHsgcmVzZXRTZWNyZXQ6IHJlc2V0U2VjcmV0IH0sIHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBbT3AuZXFdOiBlbWFpbCxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyB3ZSdsbCBkZWZpbmUgdGhpcyBmdW5jdGlvbiBiZWxvd1xuICAgICAgc2VuZEVtYWlsKHVzZXIsIHJlc2V0TGluayk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiQ2hlY2sgeW91ciBlbWFpbFwiIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VuZEVtYWlsKHVzZXIsIHRva2VuKSB7XG5cbiAgc2dNYWlsLnNldEFwaUtleShzZW5kR3JpZEtleSk7XG5cblxuICBjb25zdCBtc2cgPSB7XG4gICAgdG86IHVzZXIuZW1haWwsXG4gICAgZnJvbTogXCJ0YWxoYS5zaGFraWxAa3dhbnNvLmNvbVwiLCAvLyB5b3VyIGVtYWlsXG4gICAgc3ViamVjdDogXCJSZXNldCBwYXNzd29yZCByZXF1ZXN0ZWRcIixcbiAgICBodG1sOiBgXG4gICAgIDxhIGhyZWY9XCIke3Byb2Nlc3MuZW52LmNsaWVudFVSTH0vcmVzZXQtcGFzc3dvcmQvJHt0b2tlbn1cIj4ke3Rva2VufTwvYT5cbiAgIGBcbiAgICAvLyBJJ20gb25seSBnb2luZyB0byB1c2UgYW4gKGEgdGFnKSB0byBtYWtlIHRoaXMgZWFzaWVyIHRvXG4gICAgLy8gdW5kZXJzdGFuZCBidXQgZmVlbCBmcmVlIHRvIGFkZCBhbnkgZW1haWwgdGVtcGxhdGVzIFxuICAgIC8vIGluIHRoZSBgaHRtbGAgcHJvcGVydHlcbiAgfTtcblxuICBzZ01haWwuc2VuZChtc2cpXG4gIGNvbnNvbGUubG9nKFwiRW1haWwgc2VudFwiKTtcblxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUFoQztBQUNBLE1BQU1DLFdBQVcsR0FBR0gsT0FBTyxDQUFDQyxHQUFSLENBQVlHLGtCQUFoQzs7QUFJQUMsZUFBQSxDQUFPQyxNQUFQOztBQUNBLE1BQU1DLElBQUksR0FBR0MsaUJBQUEsQ0FBT0MsV0FBUCxDQUFtQixFQUFuQixDQUFiOztBQUVBLE1BQU07RUFBRUM7QUFBRixJQUFZQyxlQUFsQjtBQUVPLElBQUlDLE1BQU0sR0FBRyxFQUFiOzs7QUFFQSxNQUFNQyxNQUFNLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBRXhDLE1BQU07SUFBRUMsS0FBRjtJQUFTQztFQUFULElBQXNCSCxHQUFHLENBQUNJLElBQWhDOztF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","map":{"version":3,"names":["sendGridKey","process","env","SENDGRID_KEY","resetSecret","RESET_PASSWORD_KEY","dotenv","config","salt","bcrypt","genSaltSync","Users","model","tokens","SignUp","req","res","email","password","body","hasedPassword","hashSync","checkAccount","findOne","where","json","userArray","newUser","create","dataValues","error","ErrorHandling","Login","user","dbpassword","compare","then","match","accessToken","generateAccessToken","refreshToken","jwt","sign","REFRESH_TOKEN_SECRET","push","err","ACCESS_TOKEN_SECRET","expiresIn","EXPIRES_IN","token","sendStatus","includes","verify","name","Logout","filter","ResetPassword","resetLink","params","newPassword","decodedToken","status","message","findAll","hashPassword","updatedCredentials","update","Op","eq","ForgetPassword","sendEmail","sgMail","setApiKey","msg","to","from","subject","html","clientURL","send","console","log"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/","sources":["User.js"],"sourcesContent":["import dotenv from \"dotenv\";\nimport jwt from \"jsonwebtoken\";\nimport bcrypt from \"bcryptjs\";\nimport model from \"../models\";\nimport { Op } from \"sequelize\";\nimport { ErrorHandling } from \"../middleware/Errors.js\";\nimport sgMail from '@sendgrid/mail'\n\nconst sendGridKey = process.env.SENDGRID_KEY;\nconst resetSecret = process.env.RESET_PASSWORD_KEY;\n\n\n\ndotenv.config();\nconst salt = bcrypt.genSaltSync(10);\n\nconst { Users } = model;\n\nexport var tokens = [];\n\nexport const SignUp = async (req, res) => {\n\n  const { email, password } = req.body;\n  const hasedPassword = bcrypt.hashSync(password, salt);\n  try {\n    const checkAccount = await Users.findOne({\n      where: {\n        email\n      },\n    });\n    if (checkAccount) return res.json(`${email} Account Already Exists`);\n\n    const userArray = { email: email, password: hasedPassword };\n    const newUser = await Users.create(userArray);\n    return res.json(newUser.dataValues);\n\n  } catch (error) {\n\n    ErrorHandling(res);\n  }\n};\n\nexport const Login = async (req, res) => {\n  const { email, password } = req.body;\n  try {\n    const user = await Users.findOne({\n      where: { email: email },\n    });\n    if (!user) {\n\n      return ErrorHandling(res, 404)\n    }\n    const dbpassword = user.password;\n    bcrypt.compare(password, dbpassword).then((match) => {\n      if (!match) {\n        return ErrorHandling(res, 401);\n      } else {\n        //Authorization\n        const accessToken = generateAccessToken({ user });\n        const refreshToken = jwt.sign(\n          { user },\n          process.env.REFRESH_TOKEN_SECRET\n        );\n        tokens.push(refreshToken);\n        return res.json({\n          accessToken: accessToken,\n          refreshToken: refreshToken,\n        });\n      }\n    });\n  } catch (err) {\n    ErrorHandling(err, 500);\n  }\n};\nexport const generateAccessToken = (user) => {\n  return jwt.sign(user, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: process.env.EXPIRES_IN,\n  });\n};\n\nexport const token = (req, res) => {\n  const refreshToken = req.body.token;\n  if (refreshToken == null) return res.sendStatus(401);\n  if (!tokens.includes(refreshToken)) return res.sendStatus(403);\n  jwt.verify(refreshToken, process.env.REFRESH_TOKEN_SECRET, (error, user) => {\n    if (error) return res.sendStatus(403);\n    const accessToken = generateAccessToken({\n      name: user.name,\n      email: user.email,\n      password: user.password,\n    });\n    res.json({ accessToken: accessToken });\n  });\n};\n\nexport const Logout = async (req, res) => {\n  tokens = tokens.filter((token) => token !== req.body.token);\n  return res.sendStatus(204);\n};\n\n\n\n\n\n\nexport const ResetPassword =\n  async (req, res) => {\n    // Get the token from params\n    const resetLink = req.params.token;\n    const newPassword = req.body;\n    // if there is a token we need to decoded and check for no errors\n    if (resetLink) {\n      jwt.verify(resetLink, resetSecret, (error, decodedToken) => {\n        if (error) {\n          res.status().json({ message: 'Incorrect token or expired' })\n        }\n      })\n    }\n    try {\n      // find user by the temporary token we stored earlier\n      const user = await Users.findAll({\n        where: {\n          resetLink: resetLink\n        }\n      })\n\n      // if there is no user, send back an error\n      if (!user) {\n        return res.status(400).json({ message: 'We could not find a match for this link' });\n      }\n      // otherwise we need to hash the new password  before saving it in the database\n      const hashPassword = bcrypt.hashSync(newPassword.password, 8);\n      newPassword.password = hashPassword;\n      // update user credentials and remove the temporary link from database before saving\n      const updatedCredentials = {\n        password: newPassword.password,\n        resetLink: null\n      }\n      await Users.update({ updatedCredentials }, {\n        where: {\n          [Op.eq]: resetLink,\n        }\n      })\n      return res.status(200).json({ message: 'Password updated' });\n    } catch (error) {\n      res.status(500).json({ message: error.message });\n    }\n  }\n\n\n\n\n\n\n\n\n\n\n\n\nexport const ForgetPassword = async (req, res) => {\n  const { email } = req.body;\n\n  try {\n    // look for email in database\n    const user = await Users.findOne({\n      where: { email: email },\n    });\n    // if there is no user send back an error\n    if (!user) {\n      res.status(404).json({ error: \"Invalid email\" });\n    } else {\n      // otherwise we need to create a temporary token that expires in 10 mins\n      const resetLink = jwt.sign({ user: user.email },\n        resetSecret, { expiresIn: '10m' });\n      // update resetLink property to be the temporary token and then send email\n      await Users.update({ resetSecret: resetSecret }, {\n        where: {\n          [Op.eq]: email,\n        }\n      });\n      // we'll define this function below\n      sendEmail(user, resetLink);\n      res.status(200).json({ message: \"Check your email\" });\n    }\n  } catch (error) {\n    res.status(500).json({ message: error.message });\n  }\n}\n\nfunction sendEmail(user, token) {\n\n  sgMail.setApiKey(sendGridKey);\n\n\n  const msg = {\n    to: user.email,\n    from: \"talha.shakil@kwanso.com\", // your email\n    subject: \"Reset password requested\",\n    html: `\n     <a href=\"${process.env.clientURL}/reset-password/${token}\">${token}</a>\n   `\n    // I'm only going to use an (a tag) to make this easier to\n    // understand but feel free to add any email templates \n    // in the `html` property\n  };\n\n  sgMail.send(msg)\n  console.log(\"Email sent\");\n\n}\n"],"mappings":"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"}},"mtime":1663658841059},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nvar _config = require(\"../config/config.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst basename = _path.default.basename(__filename);\n\nconst config = _config.development;\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new _sequelize.default(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new _sequelize.default(config.database, config.username, config.password, config);\n}\n\n_fs.default.readdirSync(__dirname).filter(file => file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\").forEach(file => {\n  // eslint-disable-next-line global-require,import/no-dynamic-require\n  const model = require(_path.default.join(__dirname, file)).default(sequelize, _sequelize.default.DataTypes);\n\n  db[model.name] = model;\n});\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = _sequelize.default;\nvar _default = db;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlbmFtZSIsInBhdGgiLCJfX2ZpbGVuYW1lIiwiY29uZmlnIiwiZGV2ZWxvcG1lbnQiLCJkYiIsInNlcXVlbGl6ZSIsInVzZV9lbnZfdmFyaWFibGUiLCJTZXF1ZWxpemUiLCJwcm9jZXNzIiwiZW52IiwiZGF0YWJhc2UiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZnMiLCJyZWFkZGlyU3luYyIsIl9fZGlybmFtZSIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibW9kZWwiLCJyZXF1aXJlIiwiam9pbiIsImRlZmF1bHQiLCJEYXRhVHlwZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IFNlcXVlbGl6ZSBmcm9tIFwic2VxdWVsaXplXCI7XG5pbXBvcnQgeyBkZXZlbG9wbWVudCB9IGZyb20gXCIuLi9jb25maWcvY29uZmlnLmpzXCI7XG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XG5jb25zdCBjb25maWcgPSBkZXZlbG9wbWVudDtcbmNvbnN0IGRiID0ge307XG5sZXQgc2VxdWVsaXplO1xuaWYgKGNvbmZpZy51c2VfZW52X3ZhcmlhYmxlKSB7XG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xufSBlbHNlIHtcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShcbiAgICBjb25maWcuZGF0YWJhc2UsXG4gICAgY29uZmlnLnVzZXJuYW1lLFxuICAgIGNvbmZpZy5wYXNzd29yZCxcbiAgICBjb25maWdcbiAgKTtcbn1cbmZzLnJlYWRkaXJTeW5jKF9fZGlybmFtZSlcbiAgLmZpbHRlcihcbiAgICAoZmlsZSkgPT5cbiAgICAgIGZpbGUuaW5kZXhPZihcIi5cIikgIT09IDAgJiYgZmlsZSAhPT0gYmFzZW5hbWUgJiYgZmlsZS5zbGljZSgtMykgPT09IFwiLmpzXCJcbiAgKVxuICAuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZSxpbXBvcnQvbm8tZHluYW1pYy1yZXF1aXJlXG4gICAgY29uc3QgbW9kZWwgPSByZXF1aXJlKHBhdGguam9pbihfX2Rpcm5hbWUsIGZpbGUpKS5kZWZhdWx0KFxuICAgICAgc2VxdWVsaXplLFxuICAgICAgU2VxdWVsaXplLkRhdGFUeXBlc1xuICAgICk7XG4gICAgZGJbbW9kZWwubmFtZV0gPSBtb2RlbDtcbiAgfSk7XG5PYmplY3Qua2V5cyhkYikuZm9yRWFjaCgobW9kZWxOYW1lKSA9PiB7XG4gIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xuICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKGRiKTtcbiAgfVxufSk7XG5kYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7XG5kYi5TZXF1ZWxpemUgPSBTZXF1ZWxpemU7XG5cbmV4cG9ydCBkZWZhdWx0IGRiO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQSxNQUFNQSxRQUFRLEdBQUdDLGFBQUEsQ0FBS0QsUUFBTCxDQUFjRSxVQUFkLENBQWpCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0MsbUJBQWY7QUFDQSxNQUFNQyxFQUFFLEdBQUcsRUFBWDtBQUNBLElBQUlDLFNBQUo7O0FBQ0EsSUFBSUgsTUFBTSxDQUFDSSxnQkFBWCxFQUE2QjtFQUMzQkQsU0FBUyxHQUFHLElBQUlFLGtCQUFKLENBQWNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZUCxNQUFNLENBQUNJLGdCQUFuQixDQUFkLEVBQW9ESixNQUFwRCxDQUFaO0FBQ0QsQ0FGRCxNQUVPO0VBQ0xHLFNBQVMsR0FBRyxJQUFJRSxrQkFBSixDQUNWTCxNQUFNLENBQUNRLFFBREcsRUFFVlIsTUFBTSxDQUFDUyxRQUZHLEVBR1ZULE1BQU0sQ0FBQ1UsUUFIRyxFQUlWVixNQUpVLENBQVo7QUFNRDs7QUFDRFcsV0FBQSxDQUFHQyxXQUFILENBQWVDLFNBQWYsRUFDR0MsTUFESCxDQUVLQyxJQUFELElBQ0VBLElBQUksQ0FBQ0MsT0FBTCxDQUFhLEdBQWIsTUFBc0IsQ0FBdEIsSUFBMkJELElBQUksS0FBS2xCLFFBQXBDLElBQWdEa0IsSUFBSSxDQUFDRSxLQUFMLENBQVcsQ0FBQyxDQUFaLE1BQW1CLEtBSHpFLEVBS0dDLE9BTEgsQ0FLWUgsSUFBRCxJQUFVO0VBQ2pCO0VBQ0EsTUFBTUksS0FBSyxHQUFHQyxPQUFPLENBQUN0QixhQUFBLENBQUt1QixJQUFMLENBQVVSLFNBQVYsRUFBcUJFLElBQXJCLENBQUQsQ0FBUCxDQUFvQ08sT0FBcEMsQ0FDWm5CLFNBRFksRUFFWkUsa0JBQUEsQ0FBVWtCLFNBRkUsQ0FBZDs7RUFJQXJCLEVBQUUsQ0FBQ2lCLEtBQUssQ0FBQ0ssSUFBUCxDQUFGLEdBQWlCTCxLQUFqQjtBQUNELENBWkg7O0FBYUFNLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZeEIsRUFBWixFQUFnQmdCLE9BQWhCLENBQXlCUyxTQUFELElBQWU7RUFDckMsSUFBSXpCLEVBQUUsQ0FBQ3lCLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtJQUMzQjFCLEVBQUUsQ0FBQ3lCLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCMUIsRUFBeEI7RUFDRDtBQUNGLENBSkQ7QUFLQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDRyxTQUFILEdBQWVBLGtCQUFmO2VBRWVILEUifQ==","map":{"version":3,"names":["basename","path","__filename","config","development","db","sequelize","use_env_variable","Sequelize","process","env","database","username","password","fs","readdirSync","__dirname","filter","file","indexOf","slice","forEach","model","require","join","default","DataTypes","name","Object","keys","modelName","associate"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["index.js"],"sourcesContent":["import fs from \"fs\";\nimport path from \"path\";\nimport Sequelize from \"sequelize\";\nimport { development } from \"../config/config.js\";\nconst basename = path.basename(__filename);\nconst config = development;\nconst db = {};\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(\n    config.database,\n    config.username,\n    config.password,\n    config\n  );\n}\nfs.readdirSync(__dirname)\n  .filter(\n    (file) =>\n      file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\"\n  )\n  .forEach((file) => {\n    // eslint-disable-next-line global-require,import/no-dynamic-require\n    const model = require(path.join(__dirname, file)).default(\n      sequelize,\n      Sequelize.DataTypes\n    );\n    db[model.name] = model;\n  });\nObject.keys(db).forEach((modelName) => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nexport default db;\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AACA,MAAMA,QAAQ,GAAGC,aAAA,CAAKD,QAAL,CAAcE,UAAd,CAAjB;;AACA,MAAMC,MAAM,GAAGC,mBAAf;AACA,MAAMC,EAAE,GAAG,EAAX;AACA,IAAIC,SAAJ;;AACA,IAAIH,MAAM,CAACI,gBAAX,EAA6B;EAC3BD,SAAS,GAAG,IAAIE,kBAAJ,CAAcC,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACI,gBAAnB,CAAd,EAAoDJ,MAApD,CAAZ;AACD,CAFD,MAEO;EACLG,SAAS,GAAG,IAAIE,kBAAJ,CACVL,MAAM,CAACQ,QADG,EAEVR,MAAM,CAACS,QAFG,EAGVT,MAAM,CAACU,QAHG,EAIVV,MAJU,CAAZ;AAMD;;AACDW,WAAA,CAAGC,WAAH,CAAeC,SAAf,EACGC,MADH,CAEKC,IAAD,IACEA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAKlB,QAApC,IAAgDkB,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAHzE,EAKGC,OALH,CAKYH,IAAD,IAAU;EACjB;EACA,MAAMI,KAAK,GAAGC,OAAO,CAACtB,aAAA,CAAKuB,IAAL,CAAUR,SAAV,EAAqBE,IAArB,CAAD,CAAP,CAAoCO,OAApC,CACZnB,SADY,EAEZE,kBAAA,CAAUkB,SAFE,CAAd;;EAIArB,EAAE,CAACiB,KAAK,CAACK,IAAP,CAAF,GAAiBL,KAAjB;AACD,CAZH;;AAaAM,MAAM,CAACC,IAAP,CAAYxB,EAAZ,EAAgBgB,OAAhB,CAAyBS,SAAD,IAAe;EACrC,IAAIzB,EAAE,CAACyB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;IAC3B1B,EAAE,CAACyB,SAAD,CAAF,CAAcC,SAAd,CAAwB1B,EAAxB;EACD;AACF,CAJD;AAKAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACG,SAAH,GAAeA,kBAAf;eAEeH,E"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.test = exports.production = exports.elasticSearch = exports.development = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst development = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false\n};\nexports.development = development;\nconst test = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false\n};\nexports.test = test;\nconst production = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false\n};\nexports.production = production;\nconst elasticSearch = {\n  username: process.env.Cloud_USERNAME,\n  password: process.env.Cloud_PASSWORD,\n  cloud: process.env.Cloud_NAME,\n  host: process.env.Cloud_HOST,\n  cloudID: process.env.Cloud_ID\n};\nexports.elasticSearch = elasticSearch;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJkZXZlbG9wbWVudCIsInVzZXJuYW1lIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVJOQU1FIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsImRhdGFiYXNlIiwiREJfTkFNRSIsImhvc3QiLCJEQl9IT1NUIiwiZGlhbGVjdCIsInBvcnQiLCJEQl9QT1JUIiwibG9nZ2luZyIsInRlc3QiLCJwcm9kdWN0aW9uIiwiZWxhc3RpY1NlYXJjaCIsIkNsb3VkX1VTRVJOQU1FIiwiQ2xvdWRfUEFTU1dPUkQiLCJjbG91ZCIsIkNsb3VkX05BTUUiLCJDbG91ZF9IT1NUIiwiY2xvdWRJRCIsIkNsb3VkX0lEIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL2NvbmZpZy8iLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmRvdGVudi5jb25maWcoKTtcbmV4cG9ydCBjb25zdCBkZXZlbG9wbWVudCA9IHtcbiAgdXNlcm5hbWU6IHByb2Nlc3MuZW52LkRCX1VTRVJOQU1FLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NULFxuICBkaWFsZWN0OiBcInBvc3RncmVzXCIsXG4gIHBvcnQ6IHByb2Nlc3MuZW52LkRCX1BPUlQsXG4gIGxvZ2dpbmc6IGZhbHNlLFxufTtcbmV4cG9ydCBjb25zdCB0ZXN0ID0ge1xuICB1c2VybmFtZTogcHJvY2Vzcy5lbnYuREJfVVNFUk5BTUUsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUsXG4gIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsXG4gIGRpYWxlY3Q6IFwicG9zdGdyZXNcIixcbiAgcG9ydDogcHJvY2Vzcy5lbnYuREJfUE9SVCxcbiAgbG9nZ2luZzogZmFsc2UsXG59O1xuZXhwb3J0IGNvbnN0IHByb2R1Y3Rpb24gPSB7XG4gIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5EQl9VU0VSTkFNRSxcbiAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JELFxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREJfTkFNRSxcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCxcbiAgZGlhbGVjdDogXCJwb3N0Z3Jlc1wiLFxuICBwb3J0OiBwcm9jZXNzLmVudi5EQl9QT1JULFxuICBsb2dnaW5nOiBmYWxzZSxcbn07XG5leHBvcnQgY29uc3QgZWxhc3RpY1NlYXJjaCA9IHtcbiAgdXNlcm5hbWU6IHByb2Nlc3MuZW52LkNsb3VkX1VTRVJOQU1FLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuQ2xvdWRfUEFTU1dPUkQsXG4gIGNsb3VkOiBwcm9jZXNzLmVudi5DbG91ZF9OQU1FLFxuICBob3N0OiBwcm9jZXNzLmVudi5DbG91ZF9IT1NULFxuICBjbG91ZElEOiBwcm9jZXNzLmVudi5DbG91ZF9JRCxcbn07XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0FBLGVBQUEsQ0FBT0MsTUFBUDs7QUFDTyxNQUFNQyxXQUFXLEdBQUc7RUFDekJDLFFBQVEsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFdBREc7RUFFekJDLFFBQVEsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLFdBRkc7RUFHekJDLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLLE9BSEc7RUFJekJDLElBQUksRUFBRVAsT0FBTyxDQUFDQyxHQUFSLENBQVlPLE9BSk87RUFLekJDLE9BQU8sRUFBRSxVQUxnQjtFQU16QkMsSUFBSSxFQUFFVixPQUFPLENBQUNDLEdBQVIsQ0FBWVUsT0FOTztFQU96QkMsT0FBTyxFQUFFO0FBUGdCLENBQXBCOztBQVNBLE1BQU1DLElBQUksR0FBRztFQUNsQmQsUUFBUSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FESjtFQUVsQkMsUUFBUSxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsV0FGSjtFQUdsQkMsUUFBUSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUssT0FISjtFQUlsQkMsSUFBSSxFQUFFUCxPQUFPLENBQUNDLEdBQVIsQ0FBWU8sT0FKQTtFQUtsQkMsT0FBTyxFQUFFLFVBTFM7RUFNbEJDLElBQUksRUFBRVYsT0FBTyxDQUFDQyxHQUFSLENBQVlVLE9BTkE7RUFPbEJDLE9BQU8sRUFBRTtBQVBTLENBQWI7O0FBU0EsTUFBTUUsVUFBVSxHQUFHO0VBQ3hCZixRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQURFO0VBRXhCQyxRQUFRLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxXQUZFO0VBR3hCQyxRQUFRLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxPQUhFO0VBSXhCQyxJQUFJLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTyxPQUpNO0VBS3hCQyxPQUFPLEVBQUUsVUFMZTtFQU14QkMsSUFBSSxFQUFFVixPQUFPLENBQUNDLEdBQVIsQ0FBWVUsT0FOTTtFQU94QkMsT0FBTyxFQUFFO0FBUGUsQ0FBbkI7O0FBU0EsTUFBTUcsYUFBYSxHQUFHO0VBQzNCaEIsUUFBUSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWWUsY0FESztFQUUzQmIsUUFBUSxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWWdCLGNBRks7RUFHM0JDLEtBQUssRUFBRWxCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZa0IsVUFIUTtFQUkzQlosSUFBSSxFQUFFUCxPQUFPLENBQUNDLEdBQVIsQ0FBWW1CLFVBSlM7RUFLM0JDLE9BQU8sRUFBRXJCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZcUI7QUFMTSxDQUF0QiJ9","map":{"version":3,"names":["dotenv","config","development","username","process","env","DB_USERNAME","password","DB_PASSWORD","database","DB_NAME","host","DB_HOST","dialect","port","DB_PORT","logging","test","production","elasticSearch","Cloud_USERNAME","Cloud_PASSWORD","cloud","Cloud_NAME","Cloud_HOST","cloudID","Cloud_ID"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/","sources":["config.js"],"sourcesContent":["import dotenv from \"dotenv\";\ndotenv.config();\nexport const development = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false,\n};\nexport const test = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false,\n};\nexport const production = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false,\n};\nexport const elasticSearch = {\n  username: process.env.Cloud_USERNAME,\n  password: process.env.Cloud_PASSWORD,\n  cloud: process.env.Cloud_NAME,\n  host: process.env.Cloud_HOST,\n  cloudID: process.env.Cloud_ID,\n};\n\n"],"mappings":";;;;;;;AAAA;;;;AACAA,eAAA,CAAOC,MAAP;;AACO,MAAMC,WAAW,GAAG;EACzBC,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADG;EAEzBC,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFG;EAGzBC,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHG;EAIzBC,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJO;EAKzBC,OAAO,EAAE,UALgB;EAMzBC,IAAI,EAAEV,OAAO,CAACC,GAAR,CAAYU,OANO;EAOzBC,OAAO,EAAE;AAPgB,CAApB;;AASA,MAAMC,IAAI,GAAG;EAClBd,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADJ;EAElBC,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFJ;EAGlBC,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHJ;EAIlBC,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJA;EAKlBC,OAAO,EAAE,UALS;EAMlBC,IAAI,EAAEV,OAAO,CAACC,GAAR,CAAYU,OANA;EAOlBC,OAAO,EAAE;AAPS,CAAb;;AASA,MAAME,UAAU,GAAG;EACxBf,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADE;EAExBC,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFE;EAGxBC,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHE;EAIxBC,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJM;EAKxBC,OAAO,EAAE,UALe;EAMxBC,IAAI,EAAEV,OAAO,CAACC,GAAR,CAAYU,OANM;EAOxBC,OAAO,EAAE;AAPe,CAAnB;;AASA,MAAMG,aAAa,GAAG;EAC3BhB,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYe,cADK;EAE3Bb,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYgB,cAFK;EAG3BC,KAAK,EAAElB,OAAO,CAACC,GAAR,CAAYkB,UAHQ;EAI3BZ,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYmB,UAJS;EAK3BC,OAAO,EAAErB,OAAO,CAACC,GAAR,CAAYqB;AALM,CAAtB"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/comments.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _default = (sequelize, DataTypes) => {\n  class Comments extends _sequelize.Model {\n    static associate(models) {\n      Comments.belongsTo(models.Posts, {\n        foreignKey: \"postId\",\n        as: \"Commented_on\"\n      });\n      Comments.belongsTo(models.Users, {\n        foreignKey: \"userId\",\n        as: \"Commented_By\"\n      });\n      Comments.hasMany(models.Comments, {\n        foreignKey: \"parentId\",\n        as: \"Replies\"\n      });\n      Comments.belongsTo(models.Comments, {\n        foreignKey: \"parentId\",\n        as: \"Replied_on\"\n      });\n    }\n\n  }\n\n  Comments.init({\n    id: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      primaryKey: true,\n      defaultValue: sequelize.fn(\"uuid_generate_v4\")\n    },\n    postId: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      references: {\n        model: \"Posts\",\n        key: \"id\"\n      }\n    },\n    userId: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      references: {\n        model: \"Users\",\n        key: \"id\"\n      }\n    },\n    parentId: {\n      type: DataTypes.UUID,\n      references: {\n        model: \"Comments\",\n        key: \"id\"\n      },\n      defaultValue: null\n    },\n    title: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    body: {\n      type: DataTypes.STRING,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: \"Comments\"\n  });\n  return Comments;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJDb21tZW50cyIsIk1vZGVsIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiUG9zdHMiLCJmb3JlaWduS2V5IiwiYXMiLCJVc2VycyIsImhhc01hbnkiLCJpbml0IiwiaWQiLCJ0eXBlIiwiVVVJRCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJkZWZhdWx0VmFsdWUiLCJmbiIsInBvc3RJZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsInVzZXJJZCIsInBhcmVudElkIiwidGl0bGUiLCJTVFJJTkciLCJib2R5IiwibW9kZWxOYW1lIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbImNvbW1lbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgTW9kZWwgfSBmcm9tIFwic2VxdWVsaXplXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBDb21tZW50cyBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgQ29tbWVudHMuYmVsb25nc1RvKG1vZGVscy5Qb3N0cywge1xuICAgICAgICBmb3JlaWduS2V5OiBcInBvc3RJZFwiLFxuICAgICAgICBhczogXCJDb21tZW50ZWRfb25cIixcbiAgICAgIH0pO1xuICAgICAgQ29tbWVudHMuYmVsb25nc1RvKG1vZGVscy5Vc2Vycywge1xuICAgICAgICBmb3JlaWduS2V5OiBcInVzZXJJZFwiLFxuICAgICAgICBhczogXCJDb21tZW50ZWRfQnlcIixcbiAgICAgIH0pO1xuICAgICAgQ29tbWVudHMuaGFzTWFueShtb2RlbHMuQ29tbWVudHMsIHtcbiAgICAgICAgZm9yZWlnbktleTogXCJwYXJlbnRJZFwiLFxuICAgICAgICBhczogXCJSZXBsaWVzXCIsXG4gICAgICB9KTtcbiAgICAgIENvbW1lbnRzLmJlbG9uZ3NUbyhtb2RlbHMuQ29tbWVudHMsIHtcbiAgICAgICAgZm9yZWlnbktleTogXCJwYXJlbnRJZFwiLFxuICAgICAgICBhczogXCJSZXBsaWVkX29uXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgQ29tbWVudHMuaW5pdChcbiAgICB7XG4gICAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBzZXF1ZWxpemUuZm4oXCJ1dWlkX2dlbmVyYXRlX3Y0XCIpLFxuICAgICAgfSxcbiAgICAgIHBvc3RJZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIlBvc3RzXCIsXG4gICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdXNlcklkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgbW9kZWw6IFwiVXNlcnNcIixcbiAgICAgICAgICBrZXk6IFwiaWRcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJlbnRJZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIkNvbW1lbnRzXCIsXG4gICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgIH0sXG4gICAgICB0aXRsZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IHsgdHlwZTogRGF0YVR5cGVzLlNUUklORywgYWxsb3dOdWxsOiBmYWxzZSB9LFxuICAgIH0sXG4gICAge1xuICAgICAgc2VxdWVsaXplLFxuICAgICAgbW9kZWxOYW1lOiBcIkNvbW1lbnRzXCIsXG4gICAgfVxuICApO1xuICByZXR1cm4gQ29tbWVudHM7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUNBOztlQUVlLENBQUNBLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN2QyxNQUFNQyxRQUFOLFNBQXVCQyxnQkFBdkIsQ0FBNkI7SUFDWCxPQUFUQyxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QkgsUUFBUSxDQUFDSSxTQUFULENBQW1CRCxNQUFNLENBQUNFLEtBQTFCLEVBQWlDO1FBQy9CQyxVQUFVLEVBQUUsUUFEbUI7UUFFL0JDLEVBQUUsRUFBRTtNQUYyQixDQUFqQztNQUlBUCxRQUFRLENBQUNJLFNBQVQsQ0FBbUJELE1BQU0sQ0FBQ0ssS0FBMUIsRUFBaUM7UUFDL0JGLFVBQVUsRUFBRSxRQURtQjtRQUUvQkMsRUFBRSxFQUFFO01BRjJCLENBQWpDO01BSUFQLFFBQVEsQ0FBQ1MsT0FBVCxDQUFpQk4sTUFBTSxDQUFDSCxRQUF4QixFQUFrQztRQUNoQ00sVUFBVSxFQUFFLFVBRG9CO1FBRWhDQyxFQUFFLEVBQUU7TUFGNEIsQ0FBbEM7TUFJQVAsUUFBUSxDQUFDSSxTQUFULENBQW1CRCxNQUFNLENBQUNILFFBQTFCLEVBQW9DO1FBQ2xDTSxVQUFVLEVBQUUsVUFEc0I7UUFFbENDLEVBQUUsRUFBRTtNQUY4QixDQUFwQztJQUlEOztFQWxCMEI7O0VBb0I3QlAsUUFBUSxDQUFDVSxJQUFULENBQ0U7SUFDRUMsRUFBRSxFQUFFO01BQ0ZDLElBQUksRUFBRWIsU0FBUyxDQUFDYyxJQURkO01BRUZDLFNBQVMsRUFBRSxLQUZUO01BR0ZDLFVBQVUsRUFBRSxJQUhWO01BSUZDLFlBQVksRUFBRWxCLFNBQVMsQ0FBQ21CLEVBQVYsQ0FBYSxrQkFBYjtJQUpaLENBRE47SUFPRUMsTUFBTSxFQUFFO01BQ05OLElBQUksRUFBRWIsU0FBUyxDQUFDYyxJQURWO01BRU5DLFNBQVMsRUFBRSxLQUZMO01BR05LLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsT0FERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhOLENBUFY7SUFlRUMsTUFBTSxFQUFFO01BQ05WLElBQUksRUFBRWIsU0FBUyxDQUFDYyxJQURWO01BRU5DLFNBQVMsRUFBRSxLQUZMO01BR05LLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsT0FERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhOLENBZlY7SUF1QkVFLFFBQVEsRUFBRTtNQUNSWCxJQUFJLEVBQUViLFNBQVMsQ0FBQ2MsSUFEUjtNQUVSTSxVQUFVLEVBQUU7UUFDVkMsS0FBSyxFQUFFLFVBREc7UUFFVkMsR0FBRyxFQUFFO01BRkssQ0FGSjtNQU1STCxZQUFZLEVBQUU7SUFOTixDQXZCWjtJQStCRVEsS0FBSyxFQUFFO01BQ0xaLElBQUksRUFBRWIsU0FBUyxDQUFDMEIsTUFEWDtNQUVMWCxTQUFTLEVBQUU7SUFGTixDQS9CVDtJQW1DRVksSUFBSSxFQUFFO01BQUVkLElBQUksRUFBRWIsU0FBUyxDQUFDMEIsTUFBbEI7TUFBMEJYLFNBQVMsRUFBRTtJQUFyQztFQW5DUixDQURGLEVBc0NFO0lBQ0VoQixTQURGO0lBRUU2QixTQUFTLEVBQUU7RUFGYixDQXRDRjtFQTJDQSxPQUFPM0IsUUFBUDtBQUNELEMifQ==","map":{"version":3,"names":["sequelize","DataTypes","Comments","Model","associate","models","belongsTo","Posts","foreignKey","as","Users","hasMany","init","id","type","UUID","allowNull","primaryKey","defaultValue","fn","postId","references","model","key","userId","parentId","title","STRING","body","modelName"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["comments.js"],"sourcesContent":["\"use strict\";\nimport { Model } from \"sequelize\";\n\nexport default (sequelize, DataTypes) => {\n  class Comments extends Model {\n    static associate(models) {\n      Comments.belongsTo(models.Posts, {\n        foreignKey: \"postId\",\n        as: \"Commented_on\",\n      });\n      Comments.belongsTo(models.Users, {\n        foreignKey: \"userId\",\n        as: \"Commented_By\",\n      });\n      Comments.hasMany(models.Comments, {\n        foreignKey: \"parentId\",\n        as: \"Replies\",\n      });\n      Comments.belongsTo(models.Comments, {\n        foreignKey: \"parentId\",\n        as: \"Replied_on\",\n      });\n    }\n  }\n  Comments.init(\n    {\n      id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        primaryKey: true,\n        defaultValue: sequelize.fn(\"uuid_generate_v4\"),\n      },\n      postId: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n          model: \"Posts\",\n          key: \"id\",\n        },\n      },\n      userId: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n          model: \"Users\",\n          key: \"id\",\n        },\n      },\n      parentId: {\n        type: DataTypes.UUID,\n        references: {\n          model: \"Comments\",\n          key: \"id\",\n        },\n        defaultValue: null,\n      },\n      title: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      body: { type: DataTypes.STRING, allowNull: false },\n    },\n    {\n      sequelize,\n      modelName: \"Comments\",\n    }\n  );\n  return Comments;\n};\n"],"mappings":"AAAA;;;;;;;AACA;;eAEe,CAACA,SAAD,EAAYC,SAAZ,KAA0B;EACvC,MAAMC,QAAN,SAAuBC,gBAAvB,CAA6B;IACX,OAATC,SAAS,CAACC,MAAD,EAAS;MACvBH,QAAQ,CAACI,SAAT,CAAmBD,MAAM,CAACE,KAA1B,EAAiC;QAC/BC,UAAU,EAAE,QADmB;QAE/BC,EAAE,EAAE;MAF2B,CAAjC;MAIAP,QAAQ,CAACI,SAAT,CAAmBD,MAAM,CAACK,KAA1B,EAAiC;QAC/BF,UAAU,EAAE,QADmB;QAE/BC,EAAE,EAAE;MAF2B,CAAjC;MAIAP,QAAQ,CAACS,OAAT,CAAiBN,MAAM,CAACH,QAAxB,EAAkC;QAChCM,UAAU,EAAE,UADoB;QAEhCC,EAAE,EAAE;MAF4B,CAAlC;MAIAP,QAAQ,CAACI,SAAT,CAAmBD,MAAM,CAACH,QAA1B,EAAoC;QAClCM,UAAU,EAAE,UADsB;QAElCC,EAAE,EAAE;MAF8B,CAApC;IAID;;EAlB0B;;EAoB7BP,QAAQ,CAACU,IAAT,CACE;IACEC,EAAE,EAAE;MACFC,IAAI,EAAEb,SAAS,CAACc,IADd;MAEFC,SAAS,EAAE,KAFT;MAGFC,UAAU,EAAE,IAHV;MAIFC,YAAY,EAAElB,SAAS,CAACmB,EAAV,CAAa,kBAAb;IAJZ,CADN;IAOEC,MAAM,EAAE;MACNN,IAAI,EAAEb,SAAS,CAACc,IADV;MAENC,SAAS,EAAE,KAFL;MAGNK,UAAU,EAAE;QACVC,KAAK,EAAE,OADG;QAEVC,GAAG,EAAE;MAFK;IAHN,CAPV;IAeEC,MAAM,EAAE;MACNV,IAAI,EAAEb,SAAS,CAACc,IADV;MAENC,SAAS,EAAE,KAFL;MAGNK,UAAU,EAAE;QACVC,KAAK,EAAE,OADG;QAEVC,GAAG,EAAE;MAFK;IAHN,CAfV;IAuBEE,QAAQ,EAAE;MACRX,IAAI,EAAEb,SAAS,CAACc,IADR;MAERM,UAAU,EAAE;QACVC,KAAK,EAAE,UADG;QAEVC,GAAG,EAAE;MAFK,CAFJ;MAMRL,YAAY,EAAE;IANN,CAvBZ;IA+BEQ,KAAK,EAAE;MACLZ,IAAI,EAAEb,SAAS,CAAC0B,MADX;MAELX,SAAS,EAAE;IAFN,CA/BT;IAmCEY,IAAI,EAAE;MAAEd,IAAI,EAAEb,SAAS,CAAC0B,MAAlB;MAA0BX,SAAS,EAAE;IAArC;EAnCR,CADF,EAsCE;IACEhB,SADF;IAEE6B,SAAS,EAAE;EAFb,CAtCF;EA2CA,OAAO3B,QAAP;AACD,C"}},"mtime":1663326264006},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _default = (sequelize, DataTypes) => {\n  class Posts extends _sequelize.Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      Posts.belongsTo(models.Users, {\n        foreignKey: \"userId\",\n        as: \"Posted_By\"\n      });\n      Posts.hasMany(models.Comments, {\n        foreignKey: \"postId\",\n        as: \"Comments\"\n      });\n    }\n\n  }\n\n  Posts.init({\n    id: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      primaryKey: true,\n      defaultValue: sequelize.fn(\"uuid_generate_v4\")\n    },\n    userId: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      references: {\n        model: \"Users\",\n        key: \"id\"\n      }\n    },\n    title: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    body: {\n      type: DataTypes.STRING,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: \"Posts\"\n  });\n  return Posts;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJQb3N0cyIsIk1vZGVsIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiVXNlcnMiLCJmb3JlaWduS2V5IiwiYXMiLCJoYXNNYW55IiwiQ29tbWVudHMiLCJpbml0IiwiaWQiLCJ0eXBlIiwiVVVJRCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJkZWZhdWx0VmFsdWUiLCJmbiIsInVzZXJJZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsInRpdGxlIiwiU1RSSU5HIiwiYm9keSIsIm1vZGVsTmFtZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJwb3N0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgTW9kZWwgfSBmcm9tIFwic2VxdWVsaXplXCI7XG5leHBvcnQgZGVmYXVsdCAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgY2xhc3MgUG9zdHMgZXh0ZW5kcyBNb2RlbCB7XG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cbiAgICAgKiBUaGUgYG1vZGVscy9pbmRleGAgZmlsZSB3aWxsIGNhbGwgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseS5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgUG9zdHMuYmVsb25nc1RvKG1vZGVscy5Vc2VycywgeyBmb3JlaWduS2V5OiBcInVzZXJJZFwiLCBhczogXCJQb3N0ZWRfQnlcIiB9KTtcbiAgICAgIFBvc3RzLmhhc01hbnkobW9kZWxzLkNvbW1lbnRzLCB7IGZvcmVpZ25LZXk6IFwicG9zdElkXCIsIGFzOiBcIkNvbW1lbnRzXCIgfSk7XG4gICAgfVxuICB9XG4gIFBvc3RzLmluaXQoXG4gICAge1xuICAgICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlVVSUQsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogc2VxdWVsaXplLmZuKFwidXVpZF9nZW5lcmF0ZV92NFwiKSxcbiAgICAgIH0sXG4gICAgICB1c2VySWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlVVSUQsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICBtb2RlbDogXCJVc2Vyc1wiLFxuICAgICAgICAgIGtleTogXCJpZFwiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHRpdGxlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgYm9keToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNlcXVlbGl6ZSxcbiAgICAgIG1vZGVsTmFtZTogXCJQb3N0c1wiLFxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIFBvc3RzO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFDQTs7ZUFDZSxDQUFDQSxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDdkMsTUFBTUMsS0FBTixTQUFvQkMsZ0JBQXBCLENBQTBCO0lBQ3hCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7SUFDb0IsT0FBVEMsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkJILEtBQUssQ0FBQ0ksU0FBTixDQUFnQkQsTUFBTSxDQUFDRSxLQUF2QixFQUE4QjtRQUFFQyxVQUFVLEVBQUUsUUFBZDtRQUF3QkMsRUFBRSxFQUFFO01BQTVCLENBQTlCO01BQ0FQLEtBQUssQ0FBQ1EsT0FBTixDQUFjTCxNQUFNLENBQUNNLFFBQXJCLEVBQStCO1FBQUVILFVBQVUsRUFBRSxRQUFkO1FBQXdCQyxFQUFFLEVBQUU7TUFBNUIsQ0FBL0I7SUFDRDs7RUFUdUI7O0VBVzFCUCxLQUFLLENBQUNVLElBQU4sQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsSUFBSSxFQUFFYixTQUFTLENBQUNjLElBRGQ7TUFFRkMsU0FBUyxFQUFFLEtBRlQ7TUFHRkMsVUFBVSxFQUFFLElBSFY7TUFJRkMsWUFBWSxFQUFFbEIsU0FBUyxDQUFDbUIsRUFBVixDQUFhLGtCQUFiO0lBSlosQ0FETjtJQU9FQyxNQUFNLEVBQUU7TUFDTk4sSUFBSSxFQUFFYixTQUFTLENBQUNjLElBRFY7TUFFTkMsU0FBUyxFQUFFLEtBRkw7TUFHTkssVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxPQURHO1FBRVZDLEdBQUcsRUFBRTtNQUZLO0lBSE4sQ0FQVjtJQWVFQyxLQUFLLEVBQUU7TUFDTFYsSUFBSSxFQUFFYixTQUFTLENBQUN3QixNQURYO01BRUxULFNBQVMsRUFBRTtJQUZOLENBZlQ7SUFtQkVVLElBQUksRUFBRTtNQUNKWixJQUFJLEVBQUViLFNBQVMsQ0FBQ3dCLE1BRFo7TUFFSlQsU0FBUyxFQUFFO0lBRlA7RUFuQlIsQ0FERixFQXlCRTtJQUNFaEIsU0FERjtJQUVFMkIsU0FBUyxFQUFFO0VBRmIsQ0F6QkY7RUE4QkEsT0FBT3pCLEtBQVA7QUFDRCxDIn0=","map":{"version":3,"names":["sequelize","DataTypes","Posts","Model","associate","models","belongsTo","Users","foreignKey","as","hasMany","Comments","init","id","type","UUID","allowNull","primaryKey","defaultValue","fn","userId","references","model","key","title","STRING","body","modelName"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["post.js"],"sourcesContent":["\"use strict\";\nimport { Model } from \"sequelize\";\nexport default (sequelize, DataTypes) => {\n  class Posts extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      Posts.belongsTo(models.Users, { foreignKey: \"userId\", as: \"Posted_By\" });\n      Posts.hasMany(models.Comments, { foreignKey: \"postId\", as: \"Comments\" });\n    }\n  }\n  Posts.init(\n    {\n      id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        primaryKey: true,\n        defaultValue: sequelize.fn(\"uuid_generate_v4\"),\n      },\n      userId: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n          model: \"Users\",\n          key: \"id\",\n        },\n      },\n      title: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      body: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Posts\",\n    }\n  );\n  return Posts;\n};\n"],"mappings":"AAAA;;;;;;;AACA;;eACe,CAACA,SAAD,EAAYC,SAAZ,KAA0B;EACvC,MAAMC,KAAN,SAAoBC,gBAApB,CAA0B;IACxB;AACJ;AACA;AACA;AACA;IACoB,OAATC,SAAS,CAACC,MAAD,EAAS;MACvBH,KAAK,CAACI,SAAN,CAAgBD,MAAM,CAACE,KAAvB,EAA8B;QAAEC,UAAU,EAAE,QAAd;QAAwBC,EAAE,EAAE;MAA5B,CAA9B;MACAP,KAAK,CAACQ,OAAN,CAAcL,MAAM,CAACM,QAArB,EAA+B;QAAEH,UAAU,EAAE,QAAd;QAAwBC,EAAE,EAAE;MAA5B,CAA/B;IACD;;EATuB;;EAW1BP,KAAK,CAACU,IAAN,CACE;IACEC,EAAE,EAAE;MACFC,IAAI,EAAEb,SAAS,CAACc,IADd;MAEFC,SAAS,EAAE,KAFT;MAGFC,UAAU,EAAE,IAHV;MAIFC,YAAY,EAAElB,SAAS,CAACmB,EAAV,CAAa,kBAAb;IAJZ,CADN;IAOEC,MAAM,EAAE;MACNN,IAAI,EAAEb,SAAS,CAACc,IADV;MAENC,SAAS,EAAE,KAFL;MAGNK,UAAU,EAAE;QACVC,KAAK,EAAE,OADG;QAEVC,GAAG,EAAE;MAFK;IAHN,CAPV;IAeEC,KAAK,EAAE;MACLV,IAAI,EAAEb,SAAS,CAACwB,MADX;MAELT,SAAS,EAAE;IAFN,CAfT;IAmBEU,IAAI,EAAE;MACJZ,IAAI,EAAEb,SAAS,CAACwB,MADZ;MAEJT,SAAS,EAAE;IAFP;EAnBR,CADF,EAyBE;IACEhB,SADF;IAEE2B,SAAS,EAAE;EAFb,CAzBF;EA8BA,OAAOzB,KAAP;AACD,C"}},"mtime":1663326264006},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _default = (sequelize, DataTypes) => {\n  class Users extends _sequelize.Model {\n    static associate(models) {\n      Users.hasMany(models.Posts, {\n        foreignKey: \"userId\",\n        as: \"Posts\"\n      });\n      Users.hasMany(models.Comments, {\n        foreignKey: \"userId\",\n        as: \"Comments\"\n      });\n    }\n\n  }\n\n  Users.init({\n    id: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      primaryKey: true,\n      defaultValue: sequelize.fn(\"uuid_generate_v4\")\n    },\n    name: {\n      type: DataTypes.STRING\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    resetLink: {\n      type: DataTypes.STRING\n    }\n  }, {\n    sequelize,\n    modelName: \"Users\"\n  });\n  return Users;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJVc2VycyIsIk1vZGVsIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaGFzTWFueSIsIlBvc3RzIiwiZm9yZWlnbktleSIsImFzIiwiQ29tbWVudHMiLCJpbml0IiwiaWQiLCJ0eXBlIiwiVVVJRCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJkZWZhdWx0VmFsdWUiLCJmbiIsIm5hbWUiLCJTVFJJTkciLCJlbWFpbCIsInBhc3N3b3JkIiwicmVzZXRMaW5rIiwibW9kZWxOYW1lIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbInVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBNb2RlbCB9IGZyb20gXCJzZXF1ZWxpemVcIjtcbmV4cG9ydCBkZWZhdWx0IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBVc2VycyBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgVXNlcnMuaGFzTWFueShtb2RlbHMuUG9zdHMsIHsgZm9yZWlnbktleTogXCJ1c2VySWRcIiwgYXM6IFwiUG9zdHNcIiB9KTtcbiAgICAgIFVzZXJzLmhhc01hbnkobW9kZWxzLkNvbW1lbnRzLCB7IGZvcmVpZ25LZXk6IFwidXNlcklkXCIsIGFzOiBcIkNvbW1lbnRzXCIgfSk7XG4gICAgfVxuICB9XG4gIFVzZXJzLmluaXQoXG4gICAge1xuICAgICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlVVSUQsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogc2VxdWVsaXplLmZuKFwidXVpZF9nZW5lcmF0ZV92NFwiKSxcbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkdcbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgcmVzZXRMaW5rOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICB9LFxuXG4gICAgfSxcbiAgICB7XG4gICAgICBzZXF1ZWxpemUsXG4gICAgICBtb2RlbE5hbWU6IFwiVXNlcnNcIixcbiAgICB9XG4gICk7XG4gIHJldHVybiBVc2Vycztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FBQ0E7O2VBQ2UsQ0FBQ0EsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3ZDLE1BQU1DLEtBQU4sU0FBb0JDLGdCQUFwQixDQUEwQjtJQUNSLE9BQVRDLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCSCxLQUFLLENBQUNJLE9BQU4sQ0FBY0QsTUFBTSxDQUFDRSxLQUFyQixFQUE0QjtRQUFFQyxVQUFVLEVBQUUsUUFBZDtRQUF3QkMsRUFBRSxFQUFFO01BQTVCLENBQTVCO01BQ0FQLEtBQUssQ0FBQ0ksT0FBTixDQUFjRCxNQUFNLENBQUNLLFFBQXJCLEVBQStCO1FBQUVGLFVBQVUsRUFBRSxRQUFkO1FBQXdCQyxFQUFFLEVBQUU7TUFBNUIsQ0FBL0I7SUFDRDs7RUFKdUI7O0VBTTFCUCxLQUFLLENBQUNTLElBQU4sQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsSUFBSSxFQUFFWixTQUFTLENBQUNhLElBRGQ7TUFFRkMsU0FBUyxFQUFFLEtBRlQ7TUFHRkMsVUFBVSxFQUFFLElBSFY7TUFJRkMsWUFBWSxFQUFFakIsU0FBUyxDQUFDa0IsRUFBVixDQUFhLGtCQUFiO0lBSlosQ0FETjtJQU9FQyxJQUFJLEVBQUU7TUFDSk4sSUFBSSxFQUFFWixTQUFTLENBQUNtQjtJQURaLENBUFI7SUFVRUMsS0FBSyxFQUFFO01BQ0xSLElBQUksRUFBRVosU0FBUyxDQUFDbUIsTUFEWDtNQUVMTCxTQUFTLEVBQUU7SUFGTixDQVZUO0lBY0VPLFFBQVEsRUFBRTtNQUNSVCxJQUFJLEVBQUVaLFNBQVMsQ0FBQ21CLE1BRFI7TUFFUkwsU0FBUyxFQUFFO0lBRkgsQ0FkWjtJQWtCRVEsU0FBUyxFQUFFO01BQ1RWLElBQUksRUFBRVosU0FBUyxDQUFDbUI7SUFEUDtFQWxCYixDQURGLEVBd0JFO0lBQ0VwQixTQURGO0lBRUV3QixTQUFTLEVBQUU7RUFGYixDQXhCRjtFQTZCQSxPQUFPdEIsS0FBUDtBQUNELEMifQ==","map":{"version":3,"names":["sequelize","DataTypes","Users","Model","associate","models","hasMany","Posts","foreignKey","as","Comments","init","id","type","UUID","allowNull","primaryKey","defaultValue","fn","name","STRING","email","password","resetLink","modelName"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["user.js"],"sourcesContent":["\"use strict\";\nimport { Model } from \"sequelize\";\nexport default (sequelize, DataTypes) => {\n  class Users extends Model {\n    static associate(models) {\n      Users.hasMany(models.Posts, { foreignKey: \"userId\", as: \"Posts\" });\n      Users.hasMany(models.Comments, { foreignKey: \"userId\", as: \"Comments\" });\n    }\n  }\n  Users.init(\n    {\n      id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        primaryKey: true,\n        defaultValue: sequelize.fn(\"uuid_generate_v4\"),\n      },\n      name: {\n        type: DataTypes.STRING\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      password: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      resetLink: {\n        type: DataTypes.STRING,\n      },\n\n    },\n    {\n      sequelize,\n      modelName: \"Users\",\n    }\n  );\n  return Users;\n};\n"],"mappings":"AAAA;;;;;;;AACA;;eACe,CAACA,SAAD,EAAYC,SAAZ,KAA0B;EACvC,MAAMC,KAAN,SAAoBC,gBAApB,CAA0B;IACR,OAATC,SAAS,CAACC,MAAD,EAAS;MACvBH,KAAK,CAACI,OAAN,CAAcD,MAAM,CAACE,KAArB,EAA4B;QAAEC,UAAU,EAAE,QAAd;QAAwBC,EAAE,EAAE;MAA5B,CAA5B;MACAP,KAAK,CAACI,OAAN,CAAcD,MAAM,CAACK,QAArB,EAA+B;QAAEF,UAAU,EAAE,QAAd;QAAwBC,EAAE,EAAE;MAA5B,CAA/B;IACD;;EAJuB;;EAM1BP,KAAK,CAACS,IAAN,CACE;IACEC,EAAE,EAAE;MACFC,IAAI,EAAEZ,SAAS,CAACa,IADd;MAEFC,SAAS,EAAE,KAFT;MAGFC,UAAU,EAAE,IAHV;MAIFC,YAAY,EAAEjB,SAAS,CAACkB,EAAV,CAAa,kBAAb;IAJZ,CADN;IAOEC,IAAI,EAAE;MACJN,IAAI,EAAEZ,SAAS,CAACmB;IADZ,CAPR;IAUEC,KAAK,EAAE;MACLR,IAAI,EAAEZ,SAAS,CAACmB,MADX;MAELL,SAAS,EAAE;IAFN,CAVT;IAcEO,QAAQ,EAAE;MACRT,IAAI,EAAEZ,SAAS,CAACmB,MADR;MAERL,SAAS,EAAE;IAFH,CAdZ;IAkBEQ,SAAS,EAAE;MACTV,IAAI,EAAEZ,SAAS,CAACmB;IADP;EAlBb,CADF,EAwBE;IACEpB,SADF;IAEEwB,SAAS,EAAE;EAFb,CAxBF;EA6BA,OAAOtB,KAAP;AACD,C"}},"mtime":1663585595192},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/Errors.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorHandling = void 0;\n\nconst ErrorHandling = (res, status = 500) => {\n  // console.log(\">>>>>>>>>>>>>>>>>>>>>res\", res)\n  const error = {\n    status,\n    message: \"\"\n  };\n\n  switch (status) {\n    case 400:\n      error.status = 400;\n      error.message = \"Bad request\";\n      break;\n\n    case 401:\n      error.status = 401;\n      error.message = \"Invalid Authentication Credentials\";\n      break;\n\n    case 402:\n      error.status = 402;\n      error.message = \"Payment Required\";\n      break;\n\n    case 403:\n      error.status = 403;\n      error.message = \"Forbidden response\";\n\n    default:\n      404;\n      error.status = 404;\n      error.message = \"User Not Found\";\n  }\n\n  return res.json(error);\n};\n\nexports.ErrorHandling = ErrorHandling;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFcnJvckhhbmRsaW5nIiwicmVzIiwic3RhdHVzIiwiZXJyb3IiLCJtZXNzYWdlIiwianNvbiJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiRXJyb3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFcnJvckhhbmRsaW5nID0gKHJlcywgc3RhdHVzID0gNTAwKSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKFwiPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+cmVzXCIsIHJlcylcbiAgY29uc3QgZXJyb3IgPSB7IHN0YXR1cywgbWVzc2FnZTogXCJcIiB9XG5cbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlIDQwMDpcbiAgICAgIGVycm9yLnN0YXR1cyA9IDQwMDtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSBcIkJhZCByZXF1ZXN0XCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQwMTpcbiAgICAgIGVycm9yLnN0YXR1cyA9IDQwMTtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSBcIkludmFsaWQgQXV0aGVudGljYXRpb24gQ3JlZGVudGlhbHNcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNDAyOlxuICAgICAgZXJyb3Iuc3RhdHVzID0gNDAyO1xuICAgICAgZXJyb3IubWVzc2FnZSA9IFwiUGF5bWVudCBSZXF1aXJlZFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0MDM6XG4gICAgICBlcnJvci5zdGF0dXMgPSA0MDM7XG4gICAgICBlcnJvci5tZXNzYWdlID0gXCJGb3JiaWRkZW4gcmVzcG9uc2VcIjtcbiAgICBkZWZhdWx0OiA0MDQ7XG4gICAgICBlcnJvci5zdGF0dXMgPSA0MDRcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSBcIlVzZXIgTm90IEZvdW5kXCI7XG4gIH1cblxuICByZXR1cm4gcmVzLmpzb24oZXJyb3IpO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLGFBQWEsR0FBRyxDQUFDQyxHQUFELEVBQU1DLE1BQU0sR0FBRyxHQUFmLEtBQXVCO0VBQ2xEO0VBQ0EsTUFBTUMsS0FBSyxHQUFHO0lBQUVELE1BQUY7SUFBVUUsT0FBTyxFQUFFO0VBQW5CLENBQWQ7O0VBRUEsUUFBUUYsTUFBUjtJQUNFLEtBQUssR0FBTDtNQUNFQyxLQUFLLENBQUNELE1BQU4sR0FBZSxHQUFmO01BQ0FDLEtBQUssQ0FBQ0MsT0FBTixHQUFnQixhQUFoQjtNQUNBOztJQUNGLEtBQUssR0FBTDtNQUNFRCxLQUFLLENBQUNELE1BQU4sR0FBZSxHQUFmO01BQ0FDLEtBQUssQ0FBQ0MsT0FBTixHQUFnQixvQ0FBaEI7TUFDQTs7SUFDRixLQUFLLEdBQUw7TUFDRUQsS0FBSyxDQUFDRCxNQUFOLEdBQWUsR0FBZjtNQUNBQyxLQUFLLENBQUNDLE9BQU4sR0FBZ0Isa0JBQWhCO01BQ0E7O0lBQ0YsS0FBSyxHQUFMO01BQ0VELEtBQUssQ0FBQ0QsTUFBTixHQUFlLEdBQWY7TUFDQUMsS0FBSyxDQUFDQyxPQUFOLEdBQWdCLG9CQUFoQjs7SUFDRjtNQUFTO01BQ1BELEtBQUssQ0FBQ0QsTUFBTixHQUFlLEdBQWY7TUFDQUMsS0FBSyxDQUFDQyxPQUFOLEdBQWdCLGdCQUFoQjtFQWxCSjs7RUFxQkEsT0FBT0gsR0FBRyxDQUFDSSxJQUFKLENBQVNGLEtBQVQsQ0FBUDtBQUNELENBMUJNIn0=","map":{"version":3,"names":["ErrorHandling","res","status","error","message","json"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/","sources":["Errors.js"],"sourcesContent":["export const ErrorHandling = (res, status = 500) => {\n  // console.log(\">>>>>>>>>>>>>>>>>>>>>res\", res)\n  const error = { status, message: \"\" }\n\n  switch (status) {\n    case 400:\n      error.status = 400;\n      error.message = \"Bad request\";\n      break;\n    case 401:\n      error.status = 401;\n      error.message = \"Invalid Authentication Credentials\";\n      break;\n    case 402:\n      error.status = 402;\n      error.message = \"Payment Required\";\n      break;\n    case 403:\n      error.status = 403;\n      error.message = \"Forbidden response\";\n    default: 404;\n      error.status = 404\n      error.message = \"User Not Found\";\n  }\n\n  return res.json(error);\n}"],"mappings":";;;;;;;AAAO,MAAMA,aAAa,GAAG,CAACC,GAAD,EAAMC,MAAM,GAAG,GAAf,KAAuB;EAClD;EACA,MAAMC,KAAK,GAAG;IAAED,MAAF;IAAUE,OAAO,EAAE;EAAnB,CAAd;;EAEA,QAAQF,MAAR;IACE,KAAK,GAAL;MACEC,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,aAAhB;MACA;;IACF,KAAK,GAAL;MACED,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,oCAAhB;MACA;;IACF,KAAK,GAAL;MACED,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,kBAAhB;MACA;;IACF,KAAK,GAAL;MACED,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,oBAAhB;;IACF;MAAS;MACPD,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,gBAAhB;EAlBJ;;EAqBA,OAAOH,GAAG,CAACI,IAAJ,CAASF,KAAT,CAAP;AACD,CA1BM"}},"mtime":1663322808296},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _Post = require(\"../controllers/Post.js\");\n\nvar _Authentication = require(\"../middleware/Authentication.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post(\"/\", _Authentication.Authentication, _Post.AddPost);\nrouter.put(\"/:id/:pid\", _Authentication.Authentication, _Post.updatePosts);\nrouter.delete(\"/:id/:pid\", _Authentication.Authentication, _Post.deletePosts);\nrouter.get(\"/:title\", _Post.searchPosts);\nrouter.get(\"/\", _Authentication.Authentication, _Post.myPosts);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsIkF1dGhlbnRpY2F0aW9uIiwiQWRkUG9zdCIsInB1dCIsInVwZGF0ZVBvc3RzIiwiZGVsZXRlIiwiZGVsZXRlUG9zdHMiLCJnZXQiLCJzZWFyY2hQb3N0cyIsIm15UG9zdHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiUG9zdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHtcbiAgQWRkUG9zdCxcbiAgZGVsZXRlUG9zdHMsXG4gIG15UG9zdHMsXG4gIHNlYXJjaFBvc3RzLFxuICB1cGRhdGVQb3N0cyxcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1Bvc3QuanNcIjtcbmltcG9ydCB7IEF1dGhlbnRpY2F0aW9uIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvQXV0aGVudGljYXRpb24uanNcIjtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvXCIsIEF1dGhlbnRpY2F0aW9uLCBBZGRQb3N0KTtcbnJvdXRlci5wdXQoXCIvOmlkLzpwaWRcIiwgQXV0aGVudGljYXRpb24sIHVwZGF0ZVBvc3RzKTtcbnJvdXRlci5kZWxldGUoXCIvOmlkLzpwaWRcIiwgQXV0aGVudGljYXRpb24sIGRlbGV0ZVBvc3RzKTtcbnJvdXRlci5nZXQoXCIvOnRpdGxlXCIsIHNlYXJjaFBvc3RzKTtcblxucm91dGVyLmdldChcIi9cIiwgQXV0aGVudGljYXRpb24sIG15UG9zdHMpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFPQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxHQUFaLEVBQWlCQyw4QkFBakIsRUFBaUNDLGFBQWpDO0FBQ0FMLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLFdBQVgsRUFBd0JGLDhCQUF4QixFQUF3Q0csaUJBQXhDO0FBQ0FQLE1BQU0sQ0FBQ1EsTUFBUCxDQUFjLFdBQWQsRUFBMkJKLDhCQUEzQixFQUEyQ0ssaUJBQTNDO0FBQ0FULE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLFNBQVgsRUFBc0JDLGlCQUF0QjtBQUVBWCxNQUFNLENBQUNVLEdBQVAsQ0FBVyxHQUFYLEVBQWdCTiw4QkFBaEIsRUFBZ0NRLGFBQWhDO2VBRWVaLE0ifQ==","map":{"version":3,"names":["router","express","Router","post","Authentication","AddPost","put","updatePosts","delete","deletePosts","get","searchPosts","myPosts"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/","sources":["Post.js"],"sourcesContent":["import express from \"express\";\nimport {\n  AddPost,\n  deletePosts,\n  myPosts,\n  searchPosts,\n  updatePosts,\n} from \"../controllers/Post.js\";\nimport { Authentication } from \"../middleware/Authentication.js\";\n\nconst router = express.Router();\n\nrouter.post(\"/\", Authentication, AddPost);\nrouter.put(\"/:id/:pid\", Authentication, updatePosts);\nrouter.delete(\"/:id/:pid\", Authentication, deletePosts);\nrouter.get(\"/:title\", searchPosts);\n\nrouter.get(\"/\", Authentication, myPosts);\n\nexport default router;\n"],"mappings":";;;;;;;AAAA;;AACA;;AAOA;;;;AAEA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,8BAAjB,EAAiCC,aAAjC;AACAL,MAAM,CAACM,GAAP,CAAW,WAAX,EAAwBF,8BAAxB,EAAwCG,iBAAxC;AACAP,MAAM,CAACQ,MAAP,CAAc,WAAd,EAA2BJ,8BAA3B,EAA2CK,iBAA3C;AACAT,MAAM,CAACU,GAAP,CAAW,SAAX,EAAsBC,iBAAtB;AAEAX,MAAM,CAACU,GAAP,CAAW,GAAX,EAAgBN,8BAAhB,EAAgCQ,aAAhC;eAEeZ,M"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updatePosts = exports.searchPosts = exports.myPosts = exports.getPosts = exports.deletePosts = exports.AddPost = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nvar _elasticsearch = _interopRequireDefault(require(\"../config/elasticsearch.js\"));\n\nvar _Errors = require(\"../middleware/Errors.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  Users,\n  Posts,\n  Comments\n} = _models.default;\n\nconst AddPost = async (req, res) => {\n  const {\n    userId,\n    title,\n    body\n  } = req.body;\n\n  try {\n    const addNewPost = await Posts.create({\n      userId: userId,\n      title: title,\n      body: body\n    });\n    const C_post = await _elasticsearch.default.index({\n      index: \"posts\",\n      body: addNewPost\n    });\n    return res.json(C_post);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.AddPost = AddPost;\n\nconst getPosts = async (req, res) => {\n  try {\n    const getAll = await Posts.findAll({\n      include: {\n        model: Comments,\n        as: 'Comments'\n      }\n    });\n    res.json(getAll);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.getPosts = getPosts;\n\nconst updatePosts = async (req, res) => {\n  const {\n    id,\n    pid\n  } = req.params;\n\n  try {\n    const updatePost = await Posts.update({ ...req.body\n    }, {\n      where: {\n        id: id\n      }\n    });\n    const update = await Posts.findOne({\n      where: {\n        id: id\n      }\n    });\n    const newValues = Object.assign(update, { ...req.body\n    });\n    const U_post = await _elasticsearch.default.update({\n      index: \"posts\",\n      id: pid,\n      body: {\n        doc: newValues\n      }\n    });\n    return res.json(`Updated Successfully Id = ${id}`);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.updatePosts = updatePosts;\n\nconst deletePosts = async (req, res) => {\n  try {\n    const {\n      id,\n      pid\n    } = req.params;\n    const deletePosts = await Posts.destroy({\n      where: {\n        id: id\n      }\n    });\n    const D_posts = await _elasticsearch.default.delete({\n      index: \"posts\",\n      id: pid\n    });\n    return res.json(`Successfully Deleted Id = ${id}`);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.deletePosts = deletePosts;\n\nconst searchPosts = async (req, res) => {\n  let query = {\n    index: \"posts\",\n    body: {\n      query: {\n        query_string: {\n          query: req.params.title,\n          default_field: \"*\"\n        }\n      }\n    }\n  };\n\n  try {\n    const C_post = await _elasticsearch.default.search(query);\n    return res.json(C_post.body.hits.hits);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.searchPosts = searchPosts;\n\nconst myPosts = async (req, res) => {\n  try {\n    const LoginDetails = await Users.findAll({\n      where: {\n        email: req.user.user.email\n      }\n    });\n    if (!LoginDetails) return res.json(`Un Authorized Access`);else {\n      const myPosts = await Posts.findAll({\n        where: {\n          userId: LoginDetails[0].id\n        }\n      });\n      if (!myPosts) return res.json(`You haven't Posted Anything!!`);else return res.json(myPosts);\n    }\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.myPosts = myPosts;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VycyIsIlBvc3RzIiwiQ29tbWVudHMiLCJtb2RlbCIsIkFkZFBvc3QiLCJyZXEiLCJyZXMiLCJ1c2VySWQiLCJ0aXRsZSIsImJvZHkiLCJhZGROZXdQb3N0IiwiY3JlYXRlIiwiQ19wb3N0IiwiY2xpZW50IiwiaW5kZXgiLCJqc29uIiwiZXJyb3IiLCJFcnJvckhhbmRsaW5nIiwiZ2V0UG9zdHMiLCJnZXRBbGwiLCJmaW5kQWxsIiwiaW5jbHVkZSIsImFzIiwidXBkYXRlUG9zdHMiLCJpZCIsInBpZCIsInBhcmFtcyIsInVwZGF0ZVBvc3QiLCJ1cGRhdGUiLCJ3aGVyZSIsImZpbmRPbmUiLCJuZXdWYWx1ZXMiLCJPYmplY3QiLCJhc3NpZ24iLCJVX3Bvc3QiLCJkb2MiLCJkZWxldGVQb3N0cyIsImRlc3Ryb3kiLCJEX3Bvc3RzIiwiZGVsZXRlIiwic2VhcmNoUG9zdHMiLCJxdWVyeSIsInF1ZXJ5X3N0cmluZyIsImRlZmF1bHRfZmllbGQiLCJzZWFyY2giLCJoaXRzIiwibXlQb3N0cyIsIkxvZ2luRGV0YWlscyIsImVtYWlsIiwidXNlciJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlBvc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVsIGZyb20gJy4uL21vZGVscyc7XG5pbXBvcnQgY2xpZW50IGZyb20gJy4uL2NvbmZpZy9lbGFzdGljc2VhcmNoLmpzJztcbmltcG9ydCB7IEVycm9ySGFuZGxpbmcgfSBmcm9tICcuLi9taWRkbGV3YXJlL0Vycm9ycy5qcyc7XG5cbmNvbnN0IHsgIFVzZXJzLFBvc3RzLENvbW1lbnRzIH0gPSBtb2RlbDtcblxuZXhwb3J0IGNvbnN0IEFkZFBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IHVzZXJJZCwgdGl0bGUsIGJvZHkgfSA9IHJlcS5ib2R5O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZGROZXdQb3N0ID0gYXdhaXQgUG9zdHMuY3JlYXRlKHtcbiAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgYm9keTogYm9keSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgQ19wb3N0ID0gYXdhaXQgY2xpZW50LmluZGV4KHtcbiAgICAgICAgaW5kZXg6IFwicG9zdHNcIixcbiAgICAgICAgYm9keTogYWRkTmV3UG9zdCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKENfcG9zdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIEVycm9ySGFuZGxpbmcocmVzKTtcbiAgICB9XG4gIH1cblxuZXhwb3J0IGNvbnN0IGdldFBvc3RzID0gYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGdldEFsbCA9IGF3YWl0IFBvc3RzLmZpbmRBbGwoe1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBDb21tZW50cyxcbiAgICAgICAgICAgICAgICBhczogJ0NvbW1lbnRzJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLmpzb24oZ2V0QWxsKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBFcnJvckhhbmRsaW5nKHJlcyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGlkLCBwaWQgfSA9IHJlcS5wYXJhbXM7XG4gIHRyeSB7XG4gICAgY29uc3QgdXBkYXRlUG9zdCA9IGF3YWl0IFBvc3RzLnVwZGF0ZSh7Li4ucmVxLmJvZHl9LHt3aGVyZToge1xuICAgICAgaWQ6IGlkXG4gICAgfX0pO1xuICAgIGNvbnN0IHVwZGF0ZSA9IGF3YWl0IFBvc3RzLmZpbmRPbmUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgaWQ6IGlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgbmV3VmFsdWVzID0gT2JqZWN0LmFzc2lnbih1cGRhdGUsey4uLnJlcS5ib2R5fSlcbiAgICBjb25zdCBVX3Bvc3QgPSBhd2FpdCBjbGllbnQudXBkYXRlKHtcbiAgICAgIGluZGV4OiBcInBvc3RzXCIsXG4gICAgICBpZDogcGlkLFxuICAgICAgYm9keToge1xuICAgICAgICBkb2M6IG5ld1ZhbHVlc1xuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHJlcy5qc29uKGBVcGRhdGVkIFN1Y2Nlc3NmdWxseSBJZCA9ICR7aWR9YCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVQb3N0cyA9IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGlkLCBwaWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgZGVsZXRlUG9zdHMgPSBhd2FpdCBQb3N0cy5kZXN0cm95KHsgd2hlcmU6IHsgaWQ6IGlkIH0gfSk7XG4gICAgY29uc3QgRF9wb3N0cyA9IGF3YWl0IGNsaWVudC5kZWxldGUoe1xuICAgICAgaW5kZXg6IFwicG9zdHNcIixcbiAgICAgIGlkOiBwaWRcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmpzb24oYFN1Y2Nlc3NmdWxseSBEZWxldGVkIElkID0gJHtpZH1gKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBFcnJvckhhbmRsaW5nKHJlcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNlYXJjaFBvc3RzID0gYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIGxldCBxdWVyeSA9IHtcbiAgICAgICAgaW5kZXg6IFwicG9zdHNcIixcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmc6IHtcbiAgICAgICAgICAgICAgcXVlcnk6ICByZXEucGFyYW1zLnRpdGxlLFxuICAgICAgICAgICAgICBkZWZhdWx0X2ZpZWxkOiBcIipcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IENfcG9zdCA9IGF3YWl0IGNsaWVudC5zZWFyY2gocXVlcnkpO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oQ19wb3N0LmJvZHkuaGl0cy5oaXRzKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEVycm9ySGFuZGxpbmcocmVzKTtcbiAgICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IG15UG9zdHMgPSBhc3luYyhyZXEscmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgICBjb25zdCBMb2dpbkRldGFpbHMgPSBhd2FpdCBVc2Vycy5maW5kQWxsKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBlbWFpbDogcmVxLnVzZXIudXNlci5lbWFpbFxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgaWYoIUxvZ2luRGV0YWlscykgcmV0dXJuIHJlcy5qc29uKGBVbiBBdXRob3JpemVkIEFjY2Vzc2ApXG4gICAgICBlbHNle1xuICAgICAgICAgIGNvbnN0IG15UG9zdHMgPSBhd2FpdCBQb3N0cy5maW5kQWxsKHtcbiAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgIHVzZXJJZDogTG9naW5EZXRhaWxzWzBdLmlkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZighbXlQb3N0cykgcmV0dXJuIHJlcy5qc29uKGBZb3UgaGF2ZW4ndCBQb3N0ZWQgQW55dGhpbmchIWApO1xuICAgICAgICAgIGVsc2UgcmV0dXJuIHJlcy5qc29uKG15UG9zdHMpO1xuICAgICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICB9XG59Il0sIm1hcHBpbmdz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","map":{"version":3,"names":["Users","Posts","Comments","model","AddPost","req","res","userId","title","body","addNewPost","create","C_post","client","index","json","error","ErrorHandling","getPosts","getAll","findAll","include","as","updatePosts","id","pid","params","updatePost","update","where","findOne","newValues","Object","assign","U_post","doc","deletePosts","destroy","D_posts","delete","searchPosts","query","query_string","default_field","search","hits","myPosts","LoginDetails","email","user"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/","sources":["Post.js"],"sourcesContent":["import model from '../models';\nimport client from '../config/elasticsearch.js';\nimport { ErrorHandling } from '../middleware/Errors.js';\n\nconst {  Users,Posts,Comments } = model;\n\nexport const AddPost = async (req, res) => {\n    const { userId, title, body } = req.body;\n    try {\n      const addNewPost = await Posts.create({\n        userId: userId,\n        title: title,\n        body: body,\n      });\n      const C_post = await client.index({\n        index: \"posts\",\n        body: addNewPost,\n      });\n      return res.json(C_post);\n    } catch (error) {\n      ErrorHandling(res);\n    }\n  }\n\nexport const getPosts = async(req,res) => {\n    try {\n        const getAll = await Posts.findAll({\n            include: {\n                model: Comments,\n                as: 'Comments'\n            }\n        });\n        res.json(getAll);\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\n\nexport const updatePosts = async (req, res) => {\n    const { id, pid } = req.params;\n  try {\n    const updatePost = await Posts.update({...req.body},{where: {\n      id: id\n    }});\n    const update = await Posts.findOne({\n      where: {\n        id: id\n      }\n    });\n    const newValues = Object.assign(update,{...req.body})\n    const U_post = await client.update({\n      index: \"posts\",\n      id: pid,\n      body: {\n        doc: newValues\n      }\n    })\n    return res.json(`Updated Successfully Id = ${id}`);\n  } catch (error) {\n    ErrorHandling(res);\n  }\n}\n\nexport const deletePosts = async(req,res) => {\n  try {\n    const { id, pid } = req.params;\n    const deletePosts = await Posts.destroy({ where: { id: id } });\n    const D_posts = await client.delete({\n      index: \"posts\",\n      id: pid\n    });\n    return res.json(`Successfully Deleted Id = ${id}`);\n  } catch (error) {\n    ErrorHandling(res);\n  }\n}\n\nexport const searchPosts = async(req,res) => {\n    let query = {\n        index: \"posts\",\n        body: {\n          query: {\n            query_string: {\n              query:  req.params.title,\n              default_field: \"*\",\n            },\n          },\n        }\n      };\n      try {\n        const C_post = await client.search(query);\n        return res.json(C_post.body.hits.hits);\n      } catch (error) {\n        ErrorHandling(res);\n      }\n}\n\nexport const myPosts = async(req,res) => {\n  try {\n      const LoginDetails = await Users.findAll({\n        where: {\n          email: req.user.user.email\n        }\n      })\n      if(!LoginDetails) return res.json(`Un Authorized Access`)\n      else{\n          const myPosts = await Posts.findAll({\n              where: {\n                  userId: LoginDetails[0].id\n              }\n          });\n          if(!myPosts) return res.json(`You haven't Posted Anything!!`);\n          else return res.json(myPosts);\n      }\n  } catch (error) {\n      ErrorHandling(res);\n  }\n}"],"mappings":"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"}},"mtime":1663326264006},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/elasticsearch.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst {\n  Client\n} = require(\"@elastic/elasticsearch\");\n\nconst client = new Client({\n  node: \"http://localhost:9200\"\n});\nvar _default = client;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGllbnQiLCJyZXF1aXJlIiwiY2xpZW50Iiwibm9kZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJlbGFzdGljc2VhcmNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgQ2xpZW50IH0gPSByZXF1aXJlKFwiQGVsYXN0aWMvZWxhc3RpY3NlYXJjaFwiKTtcbmNvbnN0IGNsaWVudCA9IG5ldyBDbGllbnQoe1xuICBub2RlOiBcImh0dHA6Ly9sb2NhbGhvc3Q6OTIwMFwiLFxufSk7XG5leHBvcnQgZGVmYXVsdCBjbGllbnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTTtFQUFFQTtBQUFGLElBQWFDLE9BQU8sQ0FBQyx3QkFBRCxDQUExQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUcsSUFBSUYsTUFBSixDQUFXO0VBQ3hCRyxJQUFJLEVBQUU7QUFEa0IsQ0FBWCxDQUFmO2VBR2VELE0ifQ==","map":{"version":3,"names":["Client","require","client","node"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/","sources":["elasticsearch.js"],"sourcesContent":["const { Client } = require(\"@elastic/elasticsearch\");\nconst client = new Client({\n  node: \"http://localhost:9200\",\n});\nexport default client;"],"mappings":";;;;;;;AAAA,MAAM;EAAEA;AAAF,IAAaC,OAAO,CAAC,wBAAD,CAA1B;;AACA,MAAMC,MAAM,GAAG,IAAIF,MAAJ,CAAW;EACxBG,IAAI,EAAE;AADkB,CAAX,CAAf;eAGeD,M"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/Authentication.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authentication = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst Authentication = (req, res, next) => {\n  const authHeader = req.headers['authorization'];\n  const token = authHeader && authHeader.split(' ')[1];\n  if (token == null) return res.sendStatus(401);\n\n  _jsonwebtoken.default.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, user) => {\n    if (err) return res.json(`User is not Authorized Access Denied!`);\n    req.user = user;\n    next();\n  });\n};\n\nexports.Authentication = Authentication;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJBdXRoZW50aWNhdGlvbiIsInJlcSIsInJlcyIsIm5leHQiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsInRva2VuIiwic3BsaXQiLCJzZW5kU3RhdHVzIiwiand0IiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJlcnIiLCJ1c2VyIiwianNvbiJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBjb25zdCBBdXRoZW50aWNhdGlvbiA9IChyZXEscmVzLG5leHQpID0+IHtcbiAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXTtcbiAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIgJiYgYXV0aEhlYWRlci5zcGxpdCgnICcpWzFdO1xuICAgIGlmKHRva2VuID09IG51bGwpIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDEpO1xuICAgIGp3dC52ZXJpZnkodG9rZW4scHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwoZXJyLHVzZXIpID0+IHtcbiAgICAgICAgaWYoZXJyKSByZXR1cm4gcmVzLmpzb24oYFVzZXIgaXMgbm90IEF1dGhvcml6ZWQgQWNjZXNzIERlbmllZCFgKTtcbiAgICAgICAgcmVxLnVzZXIgPSB1c2VyO1xuICAgICAgICBuZXh0KCk7XG4gICAgfSlcbn1cblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQUEsZUFBQSxDQUFPQyxNQUFQOztBQUVPLE1BQU1DLGNBQWMsR0FBRyxDQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBU0MsSUFBVCxLQUFrQjtFQUM1QyxNQUFNQyxVQUFVLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZLGVBQVosQ0FBbkI7RUFDQSxNQUFNQyxLQUFLLEdBQUdGLFVBQVUsSUFBSUEsVUFBVSxDQUFDRyxLQUFYLENBQWlCLEdBQWpCLEVBQXNCLENBQXRCLENBQTVCO0VBQ0EsSUFBR0QsS0FBSyxJQUFJLElBQVosRUFBa0IsT0FBT0osR0FBRyxDQUFDTSxVQUFKLENBQWUsR0FBZixDQUFQOztFQUNsQkMscUJBQUEsQ0FBSUMsTUFBSixDQUFXSixLQUFYLEVBQWlCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsbUJBQTdCLEVBQWlELENBQUNDLEdBQUQsRUFBS0MsSUFBTCxLQUFjO0lBQzNELElBQUdELEdBQUgsRUFBUSxPQUFPWixHQUFHLENBQUNjLElBQUosQ0FBVSx1Q0FBVixDQUFQO0lBQ1JmLEdBQUcsQ0FBQ2MsSUFBSixHQUFXQSxJQUFYO0lBQ0FaLElBQUk7RUFDUCxDQUpEO0FBS0gsQ0FUTSJ9","map":{"version":3,"names":["dotenv","config","Authentication","req","res","next","authHeader","headers","token","split","sendStatus","jwt","verify","process","env","ACCESS_TOKEN_SECRET","err","user","json"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/","sources":["Authentication.js"],"sourcesContent":["import dotenv from 'dotenv';\nimport jwt from 'jsonwebtoken';\n\ndotenv.config();\n\nexport const Authentication = (req,res,next) => {\n    const authHeader = req.headers['authorization'];\n    const token = authHeader && authHeader.split(' ')[1];\n    if(token == null) return res.sendStatus(401);\n    jwt.verify(token,process.env.ACCESS_TOKEN_SECRET,(err,user) => {\n        if(err) return res.json(`User is not Authorized Access Denied!`);\n        req.user = user;\n        next();\n    })\n}\n\n"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,eAAA,CAAOC,MAAP;;AAEO,MAAMC,cAAc,GAAG,CAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,KAAkB;EAC5C,MAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;EACA,MAAMC,KAAK,GAAGF,UAAU,IAAIA,UAAU,CAACG,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAA5B;EACA,IAAGD,KAAK,IAAI,IAAZ,EAAkB,OAAOJ,GAAG,CAACM,UAAJ,CAAe,GAAf,CAAP;;EAClBC,qBAAA,CAAIC,MAAJ,CAAWJ,KAAX,EAAiBK,OAAO,CAACC,GAAR,CAAYC,mBAA7B,EAAiD,CAACC,GAAD,EAAKC,IAAL,KAAc;IAC3D,IAAGD,GAAH,EAAQ,OAAOZ,GAAG,CAACc,IAAJ,CAAU,uCAAV,CAAP;IACRf,GAAG,CAACc,IAAJ,GAAWA,IAAX;IACAZ,IAAI;EACP,CAJD;AAKH,CATM"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/Comment.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _Comment = require(\"../controllers/Comment.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _Comment.getComments);\nrouter.post(\"/\", _Comment.addComment);\nrouter.put(\"/:id\", _Comment.updateComment);\nrouter.delete(\"/:id\", _Comment.deleteComment);\nrouter.get(\"/replies\", _Comment.getRepliesfromComment);\nrouter.post(\"/addReply\", _Comment.addReply);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiZ2V0Q29tbWVudHMiLCJwb3N0IiwiYWRkQ29tbWVudCIsInB1dCIsInVwZGF0ZUNvbW1lbnQiLCJkZWxldGUiLCJkZWxldGVDb21tZW50IiwiZ2V0UmVwbGllc2Zyb21Db21tZW50IiwiYWRkUmVwbHkiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiQ29tbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IGFkZENvbW1lbnQsIGFkZFJlcGx5LCBkZWxldGVDb21tZW50LCBnZXRDb21tZW50cywgZ2V0UmVwbGllc2Zyb21Db21tZW50LCB1cGRhdGVDb21tZW50IH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29tbWVudC5qcyc7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLGdldENvbW1lbnRzKTtcbnJvdXRlci5wb3N0KFwiL1wiLGFkZENvbW1lbnQpO1xucm91dGVyLnB1dChcIi86aWRcIix1cGRhdGVDb21tZW50KTtcbnJvdXRlci5kZWxldGUoXCIvOmlkXCIsZGVsZXRlQ29tbWVudCk7XG5yb3V0ZXIuZ2V0KFwiL3JlcGxpZXNcIixnZXRSZXBsaWVzZnJvbUNvbW1lbnQpO1xucm91dGVyLnBvc3QoXCIvYWRkUmVwbHlcIixhZGRSZXBseSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWVDLG9CQUFmO0FBQ0FKLE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLEdBQVosRUFBZ0JDLG1CQUFoQjtBQUNBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxNQUFYLEVBQWtCQyxzQkFBbEI7QUFDQVIsTUFBTSxDQUFDUyxNQUFQLENBQWMsTUFBZCxFQUFxQkMsc0JBQXJCO0FBQ0FWLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFVBQVgsRUFBc0JRLDhCQUF0QjtBQUNBWCxNQUFNLENBQUNLLElBQVAsQ0FBWSxXQUFaLEVBQXdCTyxpQkFBeEI7ZUFFZVosTSJ9","map":{"version":3,"names":["router","express","Router","get","getComments","post","addComment","put","updateComment","delete","deleteComment","getRepliesfromComment","addReply"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/","sources":["Comment.js"],"sourcesContent":["import express from 'express';\nimport { addComment, addReply, deleteComment, getComments, getRepliesfromComment, updateComment } from '../controllers/Comment.js';\nconst router = express.Router();\n\nrouter.get(\"/\",getComments);\nrouter.post(\"/\",addComment);\nrouter.put(\"/:id\",updateComment);\nrouter.delete(\"/:id\",deleteComment);\nrouter.get(\"/replies\",getRepliesfromComment);\nrouter.post(\"/addReply\",addReply);\n\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAeC,oBAAf;AACAJ,MAAM,CAACK,IAAP,CAAY,GAAZ,EAAgBC,mBAAhB;AACAN,MAAM,CAACO,GAAP,CAAW,MAAX,EAAkBC,sBAAlB;AACAR,MAAM,CAACS,MAAP,CAAc,MAAd,EAAqBC,sBAArB;AACAV,MAAM,CAACG,GAAP,CAAW,UAAX,EAAsBQ,8BAAtB;AACAX,MAAM,CAACK,IAAP,CAAY,WAAZ,EAAwBO,iBAAxB;eAEeZ,M"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/Comment.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateComment = exports.getRepliesfromComment = exports.getComments = exports.deleteComment = exports.addReply = exports.addComment = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nvar _Errors = require(\"../middleware/Errors.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  Comments\n} = _models.default;\n\nconst addComment = async (req, res) => {\n  const {\n    postId,\n    userId,\n    title,\n    body\n  } = req.body;\n\n  try {\n    const addC = await Comments.create({\n      postId: postId,\n      userId: userId,\n      title: title,\n      body: body\n    });\n    res.json(addC);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.addComment = addComment;\n\nconst getComments = async (req, res) => {\n  try {\n    const getAll = await Comments.findAll();\n    res.json(getAll);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.getComments = getComments;\n\nconst updateComment = async (req, res) => {\n  const update = { ...req.body\n  };\n  const {\n    id\n  } = req.params;\n\n  try {\n    const updateC = await Comments.update(update, {\n      where: {\n        id: id\n      }\n    });\n    res.json(`Successfully Updated Id = ${id}`);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.updateComment = updateComment;\n\nconst deleteComment = async (req, res) => {\n  const {\n    id\n  } = req.params;\n\n  try {\n    const deleteC = await Comments.destroy({\n      where: {\n        id: id\n      }\n    });\n    res.json(`Successfully Deleted Id = ${id}`);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.deleteComment = deleteComment;\n\nconst getRepliesfromComment = async (req, res) => {\n  try {\n    const replies = await Comments.findAll({\n      include: {\n        model: Comments,\n        as: 'Replies'\n      }\n    });\n    res.json(replies);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.getRepliesfromComment = getRepliesfromComment;\n\nconst addReply = async (req, res) => {\n  const {\n    userId,\n    postId,\n    parentId,\n    title,\n    body\n  } = req.body;\n\n  try {\n    const addReply = await Comments.create({\n      userId: userId,\n      postId: postId,\n      parentId: parentId,\n      title: title,\n      body: body\n    });\n    return res.json(addReply);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.addReply = addReply;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb21tZW50cyIsIm1vZGVsIiwiYWRkQ29tbWVudCIsInJlcSIsInJlcyIsInBvc3RJZCIsInVzZXJJZCIsInRpdGxlIiwiYm9keSIsImFkZEMiLCJjcmVhdGUiLCJqc29uIiwiZXJyb3IiLCJFcnJvckhhbmRsaW5nIiwiZ2V0Q29tbWVudHMiLCJnZXRBbGwiLCJmaW5kQWxsIiwidXBkYXRlQ29tbWVudCIsInVwZGF0ZSIsImlkIiwicGFyYW1zIiwidXBkYXRlQyIsIndoZXJlIiwiZGVsZXRlQ29tbWVudCIsImRlbGV0ZUMiLCJkZXN0cm95IiwiZ2V0UmVwbGllc2Zyb21Db21tZW50IiwicmVwbGllcyIsImluY2x1ZGUiLCJhcyIsImFkZFJlcGx5IiwicGFyZW50SWQiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJDb21tZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbCBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHsgRXJyb3JIYW5kbGluZyB9IGZyb20gJy4uL21pZGRsZXdhcmUvRXJyb3JzLmpzJztcblxuY29uc3QgeyBDb21tZW50cyB9ID0gbW9kZWw7XG5cbmV4cG9ydCBjb25zdCBhZGRDb21tZW50ID0gYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIGNvbnN0IHsgcG9zdElkLCB1c2VySWQsdGl0bGUsYm9keSB9ID0gcmVxLmJvZHk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWRkQyA9IGF3YWl0IENvbW1lbnRzLmNyZWF0ZSh7cG9zdElkOiBwb3N0SWQsdXNlcklkOiB1c2VySWQsdGl0bGU6IHRpdGxlLGJvZHk6IGJvZHl9KTtcbiAgICAgICAgcmVzLmpzb24oYWRkQyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICAgIH0gXG59XG5cbmV4cG9ydCBjb25zdCBnZXRDb21tZW50cyA9IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBnZXRBbGwgPSBhd2FpdCBDb21tZW50cy5maW5kQWxsKCk7XG4gICAgICAgIHJlcy5qc29uKGdldEFsbCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNvbW1lbnQgPSBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlID0gey4uLnJlcS5ib2R5fTtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUMgPSBhd2FpdCBDb21tZW50cy51cGRhdGUodXBkYXRlLHt3aGVyZToge2lkOiBpZH19KVxuICAgICAgICByZXMuanNvbihgU3VjY2Vzc2Z1bGx5IFVwZGF0ZWQgSWQgPSAke2lkfWApXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNvbW1lbnQgPSBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVsZXRlQyA9IGF3YWl0IENvbW1lbnRzLmRlc3Ryb3koe3doZXJlOiB7aWQ6IGlkfX0pXG4gICAgICAgIHJlcy5qc29uKGBTdWNjZXNzZnVsbHkgRGVsZXRlZCBJZCA9ICR7aWR9YCkgOyAgICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBFcnJvckhhbmRsaW5nKHJlcyk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGdldFJlcGxpZXNmcm9tQ29tbWVudCA9IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXBsaWVzICA9IGF3YWl0IENvbW1lbnRzLmZpbmRBbGwoe1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBDb21tZW50cyxcbiAgICAgICAgICAgICAgICBhczogJ1JlcGxpZXMnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5qc29uKHJlcGxpZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEVycm9ySGFuZGxpbmcocmVzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBhZGRSZXBseSA9IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICBjb25zdCB7IHVzZXJJZCxwb3N0SWQscGFyZW50SWQsdGl0bGUsYm9keSB9ID0gcmVxLmJvZHk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWRkUmVwbHkgPSBhd2FpdCBDb21tZW50cy5jcmVhdGUoe3VzZXJJZDogdXNlcklkLHBvc3RJZDogcG9zdElkLHBhcmVudElkOiBwYXJlbnRJZCx0aXRsZTogdGl0bGUsYm9keTogYm9keX0pO1xuICAgICAgICAgcmV0dXJuICAgcmVzLmpzb24oYWRkUmVwbHkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEVycm9ySGFuZGxpbmcocmVzKTtcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNO0VBQUVBO0FBQUYsSUFBZUMsZUFBckI7O0FBRU8sTUFBTUMsVUFBVSxHQUFHLE9BQU1DLEdBQU4sRUFBVUMsR0FBVixLQUFrQjtFQUN4QyxNQUFNO0lBQUVDLE1BQUY7SUFBVUMsTUFBVjtJQUFpQkMsS0FBakI7SUFBdUJDO0VBQXZCLElBQWdDTCxHQUFHLENBQUNLLElBQTFDOztFQUNBLElBQUk7SUFDQSxNQUFNQyxJQUFJLEdBQUcsTUFBTVQsUUFBUSxDQUFDVSxNQUFULENBQWdCO01BQUNMLE1BQU0sRUFBRUEsTUFBVDtNQUFnQkMsTUFBTSxFQUFFQSxNQUF4QjtNQUErQkMsS0FB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","map":{"version":3,"names":["Comments","model","addComment","req","res","postId","userId","title","body","addC","create","json","error","ErrorHandling","getComments","getAll","findAll","updateComment","update","id","params","updateC","where","deleteComment","deleteC","destroy","getRepliesfromComment","replies","include","as","addReply","parentId"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/","sources":["Comment.js"],"sourcesContent":["import model from '../models';\nimport { ErrorHandling } from '../middleware/Errors.js';\n\nconst { Comments } = model;\n\nexport const addComment = async(req,res) => {\n    const { postId, userId,title,body } = req.body;\n    try {\n        const addC = await Comments.create({postId: postId,userId: userId,title: title,body: body});\n        res.json(addC);\n    } catch (error) {\n        ErrorHandling(res);\n    } \n}\n\nexport const getComments = async(req,res) => {\n    try {\n        const getAll = await Comments.findAll();\n        res.json(getAll);\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\n\nexport const updateComment = async(req,res) => {\n    const update = {...req.body};\n    const { id } = req.params;\n    try {\n        const updateC = await Comments.update(update,{where: {id: id}})\n        res.json(`Successfully Updated Id = ${id}`)\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\n\nexport const deleteComment = async(req,res) => {\n    const {id} = req.params;\n    try {\n        const deleteC = await Comments.destroy({where: {id: id}})\n        res.json(`Successfully Deleted Id = ${id}`) ;       \n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\nexport const getRepliesfromComment = async(req,res) => {\n    try {\n        const replies  = await Comments.findAll({\n            include: {\n                model: Comments,\n                as: 'Replies'\n            }\n        })\n        res.json(replies);\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\n\nexport const addReply = async(req,res) => {\n    const { userId,postId,parentId,title,body } = req.body;\n    try {\n        const addReply = await Comments.create({userId: userId,postId: postId,parentId: parentId,title: title,body: body});\n         return   res.json(addReply);\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}"],"mappings":"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"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/Pagination.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _Post = require(\"../controllers/Post.js\");\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nvar _Pagination = require(\"../middleware/Pagination.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nconst {\n  Posts\n} = _models.default;\nrouter.get(\"/allPosts\", _Post.getPosts);\nrouter.get(\"/paginated\", (0, _Pagination.PaginatedResults)(Posts), _Pagination.getData);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiUG9zdHMiLCJtb2RlbCIsImdldCIsImdldFBvc3RzIiwiUGFnaW5hdGVkUmVzdWx0cyIsImdldERhdGEiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiUGFnaW5hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IGdldFBvc3RzIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvUG9zdC5qcyc7XG5pbXBvcnQgbW9kZWwgZnJvbSAnLi4vbW9kZWxzJztcbmltcG9ydCB7IFBhZ2luYXRlZFJlc3VsdHMsZ2V0RGF0YSB9IGZyb20gJy4uL21pZGRsZXdhcmUvUGFnaW5hdGlvbi5qcyc7XG5cblxuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuY29uc3QgeyBQb3N0cyB9ID0gbW9kZWw7XG5cbnJvdXRlci5nZXQoXCIvYWxsUG9zdHNcIixnZXRQb3N0cyk7XG5yb3V0ZXIuZ2V0KFwiL3BhZ2luYXRlZFwiLCBQYWdpbmF0ZWRSZXN1bHRzKFBvc3RzKSxnZXREYXRhKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBSUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBQSxDQUFRQyxNQUFSLEVBQWY7O0FBQ0EsTUFBTTtFQUFFQztBQUFGLElBQVlDLGVBQWxCO0FBRUFKLE1BQU0sQ0FBQ0ssR0FBUCxDQUFXLFdBQVgsRUFBdUJDLGNBQXZCO0FBQ0FOLE1BQU0sQ0FBQ0ssR0FBUCxDQUFXLFlBQVgsRUFBeUIsSUFBQUUsNEJBQUEsRUFBaUJKLEtBQWpCLENBQXpCLEVBQWlESyxtQkFBakQ7ZUFFZVIsTSJ9","map":{"version":3,"names":["router","express","Router","Posts","model","get","getPosts","PaginatedResults","getData"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/","sources":["Pagination.js"],"sourcesContent":["import express from 'express';\nimport { getPosts } from '../controllers/Post.js';\nimport model from '../models';\nimport { PaginatedResults,getData } from '../middleware/Pagination.js';\n\n\n\nconst router = express.Router();\nconst { Posts } = model;\n\nrouter.get(\"/allPosts\",getPosts);\nrouter.get(\"/paginated\", PaginatedResults(Posts),getData);\n\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAIA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AACA,MAAM;EAAEC;AAAF,IAAYC,eAAlB;AAEAJ,MAAM,CAACK,GAAP,CAAW,WAAX,EAAuBC,cAAvB;AACAN,MAAM,CAACK,GAAP,CAAW,YAAX,EAAyB,IAAAE,4BAAA,EAAiBJ,KAAjB,CAAzB,EAAiDK,mBAAjD;eAEeR,M"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/Pagination.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PaginatedResults = PaginatedResults;\nexports.getData = exports.compare = void 0;\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getData = (req, res) => {\n  const data = res.paginatedResults;\n  return res.json(data);\n};\n\nexports.getData = getData;\n\nfunction PaginatedResults(model) {\n  return async (req, res, next) => {\n    const limit = parseInt(req.query.limit);\n    const cursor = req.query.cursor;\n    let results = {};\n\n    try {\n      results.data = await model.findAll({\n        where: {\n          createdAt: {\n            [_sequelize.default.Op.gte]: cursor\n          }\n        },\n        limit: limit,\n        order: [['createdAt', 'ASC']]\n      });\n      results.next = await compare(cursor, 'gt', limit, model);\n      results.prev = await compare(cursor, 'lt', limit, model);\n      res.paginatedResults = results;\n      next();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\n\nconst compare = async (cursor, condition, limit, model) => {\n  if (condition === 'gt') {\n    const {\n      count,\n      rows\n    } = await model.findAndCountAll({\n      where: {\n        createdAt: {\n          [_sequelize.default.Op.gt]: cursor\n        }\n      },\n      limit: limit,\n      order: [['createdAt', 'ASC']]\n    });\n\n    if (count <= limit) {\n      return null;\n    } else {\n      return rows[rows.length - 1].createdAt;\n    }\n  } else {\n    const {\n      count,\n      rows\n    } = await model.findAndCountAll({\n      where: {\n        createdAt: {\n          [_sequelize.default.Op.lt]: cursor\n        }\n      },\n      limit: limit,\n      order: [['createdAt', 'DESC']]\n    });\n\n    if (count === 0) {\n      return null;\n    } else {\n      return rows[rows.length - 1].createdAt;\n    }\n  }\n};\n\nexports.compare = compare;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXREYXRhIiwicmVxIiwicmVzIiwiZGF0YSIsInBhZ2luYXRlZFJlc3VsdHMiLCJqc29uIiwiUGFnaW5hdGVkUmVzdWx0cyIsIm1vZGVsIiwibmV4dCIsImxpbWl0IiwicGFyc2VJbnQiLCJxdWVyeSIsImN1cnNvciIsInJlc3VsdHMiLCJmaW5kQWxsIiwid2hlcmUiLCJjcmVhdGVkQXQiLCJzZXF1ZWxpemUiLCJPcCIsImd0ZSIsIm9yZGVyIiwiY29tcGFyZSIsInByZXYiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjb25kaXRpb24iLCJjb3VudCIsInJvd3MiLCJmaW5kQW5kQ291bnRBbGwiLCJndCIsImxlbmd0aCIsImx0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL21pZGRsZXdhcmUvIiwic291cmNlcyI6WyJQYWdpbmF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXF1ZWxpemUgZnJvbSBcInNlcXVlbGl6ZVwiO1xuXG5leHBvcnQgY29uc3QgZ2V0RGF0YSA9IChyZXEscmVzKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHJlcy5wYWdpbmF0ZWRSZXN1bHRzO1xuICAgIHJldHVybiByZXMuanNvbihkYXRhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2luYXRlZFJlc3VsdHMobW9kZWwpIHtcbiAgICByZXR1cm4gIGFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHJlcS5xdWVyeS5saW1pdCk7XG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHJlcS5xdWVyeS5jdXJzb3I7XG4gICAgICAgIGxldCByZXN1bHRzID0ge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdHMuZGF0YSA9IGF3YWl0IG1vZGVsLmZpbmRBbGwoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDoge1tzZXF1ZWxpemUuT3AuZ3RlXTogY3Vyc29yfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGltaXQ6IGxpbWl0LFxuICAgICAgICAgICAgICAgIG9yZGVyOiBbWydjcmVhdGVkQXQnLCdBU0MnXV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzdWx0cy5uZXh0ID0gYXdhaXQgY29tcGFyZShjdXJzb3IsJ2d0JyxsaW1pdCxtb2RlbCk7XG4gICAgICAgICAgICByZXN1bHRzLnByZXYgPSBhd2FpdCBjb21wYXJlKGN1cnNvciwnbHQnLGxpbWl0LG1vZGVsKTtcbiAgICAgICAgICAgIHJlcy5wYWdpbmF0ZWRSZXN1bHRzID0gcmVzdWx0cztcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgY29tcGFyZSA9IGFzeW5jKGN1cnNvcixjb25kaXRpb24sbGltaXQsbW9kZWwpID0+IHtcbiAgICBpZihjb25kaXRpb24gPT09J2d0Jyl7XG4gICAgY29uc3QgeyBjb3VudCAsIHJvd3MgfSA9IGF3YWl0IG1vZGVsLmZpbmRBbmRDb3VudEFsbCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgICAgICAgICBbc2VxdWVsaXplLk9wLmd0XTogY3Vyc29yXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICAgICBsaW1pdDogbGltaXQsXG4gICAgICAgICAgICBvcmRlcjogW1snY3JlYXRlZEF0JywnQVNDJ11dXG4gICAgfSlcbiAgICBpZihjb3VudCA8PSAgbGltaXQpe1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgcmV0dXJuIHJvd3Nbcm93cy5sZW5ndGgtMV0uY3JlYXRlZEF0O1xuICAgIH1cbn1cbmVsc2V7XG4gICAgY29uc3QgeyBjb3VudCAsIHJvd3MgfSA9IGF3YWl0IG1vZGVsLmZpbmRBbmRDb3VudEFsbCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgICAgICAgICBbc2VxdWVsaXplLk9wLmx0XTogY3Vyc29yXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxpbWl0OiBsaW1pdCxcbiAgICAgICAgb3JkZXI6IFtbJ2NyZWF0ZWRBdCcsJ0RFU0MnXV1cbiAgICB9KVxuICAgIGlmKGNvdW50ID09PSAwKXtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAgIHJldHVybiByb3dzW3Jvd3MubGVuZ3RoLTFdLmNyZWF0ZWRBdDtcbiAgICB9XG59XG5cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUVPLE1BQU1BLE9BQU8sR0FBRyxDQUFDQyxHQUFELEVBQUtDLEdBQUwsS0FBYTtFQUNoQyxNQUFNQyxJQUFJLEdBQUdELEdBQUcsQ0FBQ0UsZ0JBQWpCO0VBQ0EsT0FBT0YsR0FBRyxDQUFDRyxJQUFKLENBQVNGLElBQVQsQ0FBUDtBQUNILENBSE07Ozs7QUFLQSxTQUFTRyxnQkFBVCxDQUEwQkMsS0FBMUIsRUFBaUM7RUFDcEMsT0FBUSxPQUFNTixHQUFOLEVBQVVDLEdBQVYsRUFBY00sSUFBZCxLQUF1QjtJQUMzQixNQUFNQyxLQUFLLEdBQUdDLFFBQVEsQ0FBQ1QsR0FBRyxDQUFDVSxLQUFKLENBQVVGLEtBQVgsQ0FBdEI7SUFDQSxNQUFNRyxNQUFNLEdBQUdYLEdBQUcsQ0FBQ1UsS0FBSixDQUFVQyxNQUF6QjtJQUNBLElBQUlDLE9BQU8sR0FBRyxFQUFkOztJQUNBLElBQUk7TUFDQUEsT0FBTyxDQUFDVixJQUFSLEdBQWUsTUFBTUksS0FBSyxDQUFDTyxPQUFOLENBQWM7UUFDL0JDLEtBQUssRUFBRTtVQUNIQyxTQUFTLEVBQUU7WUFBQyxDQUFDQyxrQkFBQSxDQUFVQyxFQUFWLENBQWFDLEdBQWQsR0FBb0JQO1VBQXJCO1FBRFIsQ0FEd0I7UUFJL0JILEtBQUssRUFBRUEsS0FKd0I7UUFLL0JXLEtBQUssRUFBRSxDQUFDLENBQUMsV0FBRCxFQUFhLEtBQWIsQ0FBRDtNQUx3QixDQUFkLENBQXJCO01BT0FQLE9BQU8sQ0FBQ0wsSUFBUixHQUFlLE1BQU1hLE9BQU8sQ0FBQ1QsTUFBRCxFQUFRLElBQVIsRUFBYUgsS0FBYixFQUFtQkYsS0FBbkIsQ0FBNUI7TUFDQU0sT0FBTyxDQUFDUyxJQUFSLEdBQWUsTUFBTUQsT0FBTyxDQUFDVCxNQUFELEVBQVEsSUFBUixFQUFhSCxLQUFiLEVBQW1CRixLQUFuQixDQUE1QjtNQUNBTCxHQUFHLENBQUNFLGdCQUFKLEdBQXVCUyxPQUF2QjtNQUNBTCxJQUFJO0lBQ1AsQ0FaRCxDQVlFLE9BQU9lLEtBQVAsRUFBYztNQUNaQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBWjtJQUNIO0VBQ0osQ0FuQkQ7QUFvQkg7O0FBRU0sTUFBTUYsT0FBTyxHQUFHLE9BQU1ULE1BQU4sRUFBYWMsU0FBYixFQUF1QmpCLEtBQXZCLEVBQTZCRixLQUE3QixLQUF1QztFQUMxRCxJQUFHbUIsU0FBUyxLQUFJLElBQWhCLEVBQXFCO0lBQ3JCLE1BQU07TUFBRUMsS0FBRjtNQUFVQztJQUFWLElBQW1CLE1BQU1yQixLQUFLLENBQUNzQixlQUFOLENBQXNCO01BQ2pEZCxLQUFLLEVBQUU7UUFDSEMsU0FBUyxFQUFFO1VBQ1AsQ0FBQ0Msa0JBQUEsQ0FBVUMsRUFBVixDQUFhWSxFQUFkLEdBQW1CbEI7UUFEWjtNQURSLENBRDBDO01BTTdDSCxLQUFLLEVBQUVBLEtBTnNDO01BTzdDVyxLQUFLLEVBQUUsQ0FBQyxDQUFDLFdBQUQsRUFBYSxLQUFiLENBQUQ7SUFQc0MsQ0FBdEIsQ0FBL0I7O0lBU0EsSUFBR08sS0FBSyxJQUFLbEIsS0FBYixFQUFtQjtNQUNmLE9BQU8sSUFBUDtJQUNILENBRkQsTUFHSTtNQUNBLE9BQU9tQixJQUFJLENBQUNBLElBQUksQ0FBQ0csTUFBTCxHQUFZLENBQWIsQ0FBSixDQUFvQmYsU0FBM0I7SUFDSDtFQUNKLENBaEJHLE1BaUJBO0lBQ0EsTUFBTTtNQUFFVyxLQUFGO01BQVVDO0lBQVYsSUFBbUIsTUFBTXJCLEtBQUssQ0FBQ3NCLGVBQU4sQ0FBc0I7TUFDakRkLEtBQUssRUFBRTtRQUNIQyxTQUFTLEVBQUU7VUFDUCxDQUFDQyxrQkFBQSxDQUFVQyxFQUFWLENBQWFjLEVBQWQsR0FBbUJwQjtRQURaO01BRFIsQ0FEMEM7TUFNakRILEtBQUssRUFBRUEsS0FOMEM7TUFPakRXLEtBQUssRUFBRSxDQUFDLENBQUMsV0FBRCxFQUFhLE1BQWIsQ0FBRDtJQVAwQyxDQUF0QixDQUEvQjs7SUFTQSxJQUFHTyxLQUFLLEtBQUssQ0FBYixFQUFlO01BQ1gsT0FBTyxJQUFQO0lBQ0gsQ0FGRCxNQUdJO01BQ0EsT0FBT0MsSUFBSSxDQUFDQSxJQUFJLENBQUNHLE1BQUwsR0FBWSxDQUFiLENBQUosQ0FBb0JmLFNBQTNCO0lBQ0g7RUFDSjtBQUVBLENBcENNIn0=","map":{"version":3,"names":["getData","req","res","data","paginatedResults","json","PaginatedResults","model","next","limit","parseInt","query","cursor","results","findAll","where","createdAt","sequelize","Op","gte","order","compare","prev","error","console","log","condition","count","rows","findAndCountAll","gt","length","lt"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/","sources":["Pagination.js"],"sourcesContent":["import sequelize from \"sequelize\";\n\nexport const getData = (req,res) => {\n    const data = res.paginatedResults;\n    return res.json(data);\n}\n\nexport function PaginatedResults(model) {\n    return  async(req,res,next) => {\n        const limit = parseInt(req.query.limit);\n        const cursor = req.query.cursor;\n        let results = {}\n        try {\n            results.data = await model.findAll({\n                where: {\n                    createdAt: {[sequelize.Op.gte]: cursor}\n                },\n                limit: limit,\n                order: [['createdAt','ASC']]\n            });\n            results.next = await compare(cursor,'gt',limit,model);\n            results.prev = await compare(cursor,'lt',limit,model);\n            res.paginatedResults = results;\n            next();\n        } catch (error) {\n            console.log(error)\n        }\n    }\n}\n\nexport const compare = async(cursor,condition,limit,model) => {\n    if(condition ==='gt'){\n    const { count , rows } = await model.findAndCountAll({\n        where: {\n            createdAt: {\n                [sequelize.Op.gt]: cursor\n            }\n        },\n            limit: limit,\n            order: [['createdAt','ASC']]\n    })\n    if(count <=  limit){\n        return null;\n    }\n    else{\n        return rows[rows.length-1].createdAt;\n    }\n}\nelse{\n    const { count , rows } = await model.findAndCountAll({\n        where: {\n            createdAt: {\n                [sequelize.Op.lt]: cursor\n            }\n        },\n        limit: limit,\n        order: [['createdAt','DESC']]\n    })\n    if(count === 0){\n        return null;\n    }\n    else{\n        return rows[rows.length-1].createdAt;\n    }\n}\n\n}\n"],"mappings":";;;;;;;;AAAA;;;;AAEO,MAAMA,OAAO,GAAG,CAACC,GAAD,EAAKC,GAAL,KAAa;EAChC,MAAMC,IAAI,GAAGD,GAAG,CAACE,gBAAjB;EACA,OAAOF,GAAG,CAACG,IAAJ,CAASF,IAAT,CAAP;AACH,CAHM;;;;AAKA,SAASG,gBAAT,CAA0BC,KAA1B,EAAiC;EACpC,OAAQ,OAAMN,GAAN,EAAUC,GAAV,EAAcM,IAAd,KAAuB;IAC3B,MAAMC,KAAK,GAAGC,QAAQ,CAACT,GAAG,CAACU,KAAJ,CAAUF,KAAX,CAAtB;IACA,MAAMG,MAAM,GAAGX,GAAG,CAACU,KAAJ,CAAUC,MAAzB;IACA,IAAIC,OAAO,GAAG,EAAd;;IACA,IAAI;MACAA,OAAO,CAACV,IAAR,GAAe,MAAMI,KAAK,CAACO,OAAN,CAAc;QAC/BC,KAAK,EAAE;UACHC,SAAS,EAAE;YAAC,CAACC,kBAAA,CAAUC,EAAV,CAAaC,GAAd,GAAoBP;UAArB;QADR,CADwB;QAI/BH,KAAK,EAAEA,KAJwB;QAK/BW,KAAK,EAAE,CAAC,CAAC,WAAD,EAAa,KAAb,CAAD;MALwB,CAAd,CAArB;MAOAP,OAAO,CAACL,IAAR,GAAe,MAAMa,OAAO,CAACT,MAAD,EAAQ,IAAR,EAAaH,KAAb,EAAmBF,KAAnB,CAA5B;MACAM,OAAO,CAACS,IAAR,GAAe,MAAMD,OAAO,CAACT,MAAD,EAAQ,IAAR,EAAaH,KAAb,EAAmBF,KAAnB,CAA5B;MACAL,GAAG,CAACE,gBAAJ,GAAuBS,OAAvB;MACAL,IAAI;IACP,CAZD,CAYE,OAAOe,KAAP,EAAc;MACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACH;EACJ,CAnBD;AAoBH;;AAEM,MAAMF,OAAO,GAAG,OAAMT,MAAN,EAAac,SAAb,EAAuBjB,KAAvB,EAA6BF,KAA7B,KAAuC;EAC1D,IAAGmB,SAAS,KAAI,IAAhB,EAAqB;IACrB,MAAM;MAAEC,KAAF;MAAUC;IAAV,IAAmB,MAAMrB,KAAK,CAACsB,eAAN,CAAsB;MACjDd,KAAK,EAAE;QACHC,SAAS,EAAE;UACP,CAACC,kBAAA,CAAUC,EAAV,CAAaY,EAAd,GAAmBlB;QADZ;MADR,CAD0C;MAM7CH,KAAK,EAAEA,KANsC;MAO7CW,KAAK,EAAE,CAAC,CAAC,WAAD,EAAa,KAAb,CAAD;IAPsC,CAAtB,CAA/B;;IASA,IAAGO,KAAK,IAAKlB,KAAb,EAAmB;MACf,OAAO,IAAP;IACH,CAFD,MAGI;MACA,OAAOmB,IAAI,CAACA,IAAI,CAACG,MAAL,GAAY,CAAb,CAAJ,CAAoBf,SAA3B;IACH;EACJ,CAhBG,MAiBA;IACA,MAAM;MAAEW,KAAF;MAAUC;IAAV,IAAmB,MAAMrB,KAAK,CAACsB,eAAN,CAAsB;MACjDd,KAAK,EAAE;QACHC,SAAS,EAAE;UACP,CAACC,kBAAA,CAAUC,EAAV,CAAac,EAAd,GAAmBpB;QADZ;MADR,CAD0C;MAMjDH,KAAK,EAAEA,KAN0C;MAOjDW,KAAK,EAAE,CAAC,CAAC,WAAD,EAAa,MAAb,CAAD;IAP0C,CAAtB,CAA/B;;IASA,IAAGO,KAAK,KAAK,CAAb,EAAe;MACX,OAAO,IAAP;IACH,CAFD,MAGI;MACA,OAAOC,IAAI,CAACA,IAAI,CAACG,MAAL,GAAY,CAAb,CAAJ,CAAoBf,SAA3B;IACH;EACJ;AAEA,CApCM"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _User = require(\"../controllers/User.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post(\"/signup\", _User.SignUp);\nrouter.post(\"/login\", _User.Login);\nrouter.get(\"/refreshAccess\", _User.token);\nrouter.delete(\"/logout\", _User.Logout);\nrouter.put(\"/resetPassword/:token\", _User.ResetPassword);\nrouter.post(\"/forgetPassword\", _User.ForgetPassword);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsIlNpZ25VcCIsIkxvZ2luIiwiZ2V0IiwidG9rZW4iLCJkZWxldGUiLCJMb2dvdXQiLCJwdXQiLCJSZXNldFBhc3N3b3JkIiwiRm9yZ2V0UGFzc3dvcmQiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuXG5pbXBvcnQgeyBTaWduVXAsIExvZ2luLCB0b2tlbiwgTG9nb3V0LCBSZXNldFBhc3N3b3JkLCBGb3JnZXRQYXNzd29yZCB9IGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyLmpzXCI7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KFwiL3NpZ251cFwiLCBTaWduVXApO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgTG9naW4pO1xucm91dGVyLmdldChcIi9yZWZyZXNoQWNjZXNzXCIsIHRva2VuKTtcbnJvdXRlci5kZWxldGUoXCIvbG9nb3V0XCIsIExvZ291dCk7XG5yb3V0ZXIucHV0KFwiL3Jlc2V0UGFzc3dvcmQvOnRva2VuXCIsIFJlc2V0UGFzc3dvcmQpXG5yb3V0ZXIucG9zdChcIi9mb3JnZXRQYXNzd29yZFwiLCBGb3JnZXRQYXNzd29yZClcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFBLENBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksU0FBWixFQUF1QkMsWUFBdkI7QUFDQUosTUFBTSxDQUFDRyxJQUFQLENBQVksUUFBWixFQUFzQkUsV0FBdEI7QUFDQUwsTUFBTSxDQUFDTSxHQUFQLENBQVcsZ0JBQVgsRUFBNkJDLFdBQTdCO0FBQ0FQLE1BQU0sQ0FBQ1EsTUFBUCxDQUFjLFNBQWQsRUFBeUJDLFlBQXpCO0FBQ0FULE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLHVCQUFYLEVBQW9DQyxtQkFBcEM7QUFDQVgsTUFBTSxDQUFDRyxJQUFQLENBQVksaUJBQVosRUFBK0JTLG9CQUEvQjtlQUVlWixNIn0=","map":{"version":3,"names":["router","express","Router","post","SignUp","Login","get","token","delete","Logout","put","ResetPassword","ForgetPassword"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/","sources":["User.js"],"sourcesContent":["import express from \"express\";\n\nimport { SignUp, Login, token, Logout, ResetPassword, ForgetPassword } from \"../controllers/User.js\";\n\nconst router = express.Router();\n\nrouter.post(\"/signup\", SignUp);\nrouter.post(\"/login\", Login);\nrouter.get(\"/refreshAccess\", token);\nrouter.delete(\"/logout\", Logout);\nrouter.put(\"/resetPassword/:token\", ResetPassword)\nrouter.post(\"/forgetPassword\", ForgetPassword)\n\nexport default router;\n"],"mappings":";;;;;;;AAAA;;AAEA;;;;AAEA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuBC,YAAvB;AACAJ,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAsBE,WAAtB;AACAL,MAAM,CAACM,GAAP,CAAW,gBAAX,EAA6BC,WAA7B;AACAP,MAAM,CAACQ,MAAP,CAAc,SAAd,EAAyBC,YAAzB;AACAT,MAAM,CAACU,GAAP,CAAW,uBAAX,EAAoCC,mBAApC;AACAX,MAAM,CAACG,IAAP,CAAY,iBAAZ,EAA+BS,oBAA/B;eAEeZ,M"}},"mtime":1663659090382},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tokens = exports.token = exports.generateAccessToken = exports.SignUp = exports.ResetPassword = exports.Logout = exports.Login = exports.ForgetPassword = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nvar _Errors = require(\"../middleware/Errors.js\");\n\nvar _mail = _interopRequireDefault(require(\"@sendgrid/mail\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst sendGridKey = process.env.SENDGRID_KEY;\nconst resetSecret = process.env.RESET_PASSWORD_KEY;\n\n_dotenv.default.config();\n\nconst salt = _bcryptjs.default.genSaltSync(10);\n\nconst {\n  Users\n} = _models.default;\nvar tokens = [];\nexports.tokens = tokens;\n\nconst SignUp = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n\n  const hasedPassword = _bcryptjs.default.hashSync(password, salt);\n\n  try {\n    const checkAccount = await Users.findOne({\n      where: {\n        email\n      }\n    });\n    if (checkAccount) return res.json(`${email}  Already Exists`);\n    const userArray = {\n      email: email,\n      password: hasedPassword\n    };\n    const newUser = await Users.create(userArray);\n    return res.json(newUser.dataValues);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.SignUp = SignUp;\n\nconst Login = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n\n  try {\n    const user = await Users.findOne({\n      where: {\n        email: email\n      }\n    });\n\n    if (!user) {\n      return (0, _Errors.ErrorHandling)(res, 404);\n    }\n\n    const dbpassword = user.password;\n\n    _bcryptjs.default.compare(password, dbpassword).then(match => {\n      if (!match) {\n        return (0, _Errors.ErrorHandling)(res, 401);\n      } else {\n        //Authorization\n        const accessToken = generateAccessToken({\n          user\n        });\n\n        const refreshToken = _jsonwebtoken.default.sign({\n          user\n        }, process.env.REFRESH_TOKEN_SECRET);\n\n        tokens.push(refreshToken);\n        return res.json({\n          accessToken: accessToken,\n          refreshToken: refreshToken\n        });\n      }\n    });\n  } catch (err) {\n    (0, _Errors.ErrorHandling)(err, 500);\n  }\n};\n\nexports.Login = Login;\n\nconst generateAccessToken = user => {\n  return _jsonwebtoken.default.sign(user, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: process.env.EXPIRES_IN\n  });\n};\n\nexports.generateAccessToken = generateAccessToken;\n\nconst token = (req, res) => {\n  const refreshToken = req.body.token;\n  if (refreshToken == null) return res.sendStatus(401);\n  if (!tokens.includes(refreshToken)) return res.sendStatus(403);\n\n  _jsonwebtoken.default.verify(refreshToken, process.env.REFRESH_TOKEN_SECRET, (error, user) => {\n    if (error) return res.sendStatus(403);\n    const accessToken = generateAccessToken({\n      name: user.name,\n      email: user.email,\n      password: user.password\n    });\n    res.json({\n      accessToken: accessToken\n    });\n  });\n};\n\nexports.token = token;\n\nconst Logout = async (req, res) => {\n  exports.tokens = tokens = tokens.filter(token => token !== req.body.token);\n  return res.sendStatus(204);\n};\n\nexports.Logout = Logout;\n\nconst ForgetPassword = async (req, res) => {\n  const {\n    email\n  } = req.body;\n\n  try {\n    // look for email in database\n    const user = await Users.findOne({\n      where: {\n        email: email\n      }\n    }); // if there is no user send back an error\n\n    if (!user) {\n      return res.status(404).json({\n        error: \"Invalid email\"\n      });\n    } // otherwise we need to create a temporary token that expires in 10 mins\n\n\n    const resetLink = _jsonwebtoken.default.sign({\n      user: user.email\n    }, resetSecret, {\n      expiresIn: '1d'\n    });\n\n    user.resetLink = resetLink;\n    await user.save(); // we'll define this function below\n\n    sendEmail(user, resetLink);\n    return res.status(200).json({\n      message: \"Check your email\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      message: error.message\n    });\n  }\n};\n\nexports.ForgetPassword = ForgetPassword;\n\nfunction sendEmail(user, token) {\n  _mail.default.setApiKey(sendGridKey);\n\n  const msg = {\n    to: user.email,\n    from: \"talha.shakil@kwanso.com\",\n    // your email\n    subject: \"Reset password requested\",\n    html: `\n     <a href=\"${process.env.clientURL}/reset-password/${token}\">${token}</a>\n   `\n  };\n\n  _mail.default.send(msg);\n\n  console.log(\"Email sent\");\n}\n\nconst ResetPassword = async (req, res) => {\n  try {\n    // Get the token from params\n    const {\n      password\n    } = req.body;\n    const resetLink = req.params.token;\n    const user = await Users.findOne({\n      where: {\n        resetLink\n      }\n    }); // if there is no user, send back an error\n\n    if (!user) {\n      return res.status(400).json({\n        message: 'We could not find a match for this link'\n      });\n    }\n\n    _jsonwebtoken.default.verify(req.params.token, resetSecret, error => {\n      if (error) {\n        return res.status(400).json({\n          message: \"token is invalid\"\n        });\n      }\n    });\n\n    const hashPassword = _bcryptjs.default.hashSync(password, 8); // update user credentials and remove the temporary link from database before saving\n\n\n    user.password = hashPassword;\n    user.resetLink = null;\n    await user.save();\n    return res.status(200).json({\n      message: 'Password updated'\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: error.message\n    });\n  }\n};\n\nexports.ResetPassword = ResetPassword;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kR3JpZEtleSIsInByb2Nlc3MiLCJlbnYiLCJTRU5ER1JJRF9LRVkiLCJyZXNldFNlY3JldCIsIlJFU0VUX1BBU1NXT1JEX0tFWSIsImRvdGVudiIsImNvbmZpZyIsInNhbHQiLCJiY3J5cHQiLCJnZW5TYWx0U3luYyIsIlVzZXJzIiwibW9kZWwiLCJ0b2tlbnMiLCJTaWduVXAiLCJyZXEiLCJyZXMiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsImhhc2VkUGFzc3dvcmQiLCJoYXNoU3luYyIsImNoZWNrQWNjb3VudCIsImZpbmRPbmUiLCJ3aGVyZSIsImpzb24iLCJ1c2VyQXJyYXkiLCJuZXdVc2VyIiwiY3JlYXRlIiwiZGF0YVZhbHVlcyIsImVycm9yIiwiRXJyb3JIYW5kbGluZyIsIkxvZ2luIiwidXNlciIsImRicGFzc3dvcmQiLCJjb21wYXJlIiwidGhlbiIsIm1hdGNoIiwiYWNjZXNzVG9rZW4iLCJnZW5lcmF0ZUFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwiand0Iiwic2lnbiIsIlJFRlJFU0hfVE9LRU5fU0VDUkVUIiwicHVzaCIsImVyciIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJleHBpcmVzSW4iLCJFWFBJUkVTX0lOIiwidG9rZW4iLCJzZW5kU3RhdHVzIiwiaW5jbHVkZXMiLCJ2ZXJpZnkiLCJuYW1lIiwiTG9nb3V0IiwiZmlsdGVyIiwiRm9yZ2V0UGFzc3dvcmQiLCJzdGF0dXMiLCJyZXNldExpbmsiLCJzYXZlIiwic2VuZEVtYWlsIiwibWVzc2FnZSIsInNnTWFpbCIsInNldEFwaUtleSIsIm1zZyIsInRvIiwiZnJvbSIsInN1YmplY3QiLCJodG1sIiwiY2xpZW50VVJMIiwic2VuZCIsImNvbnNvbGUiLCJsb2ciLCJSZXNldFBhc3N3b3JkIiwicGFyYW1zIiwiaGFzaFBhc3N3b3JkIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcbmltcG9ydCBtb2RlbCBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmltcG9ydCB7IEVycm9ySGFuZGxpbmcgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9FcnJvcnMuanNcIjtcbmltcG9ydCBzZ01haWwgZnJvbSAnQHNlbmRncmlkL21haWwnXG5cbmNvbnN0IHNlbmRHcmlkS2V5ID0gcHJvY2Vzcy5lbnYuU0VOREdSSURfS0VZO1xuY29uc3QgcmVzZXRTZWNyZXQgPSBwcm9jZXNzLmVudi5SRVNFVF9QQVNTV09SRF9LRVk7XG5cblxuXG5kb3RlbnYuY29uZmlnKCk7XG5jb25zdCBzYWx0ID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKTtcblxuY29uc3QgeyBVc2VycyB9ID0gbW9kZWw7XG5cbmV4cG9ydCB2YXIgdG9rZW5zID0gW107XG5cbmV4cG9ydCBjb25zdCBTaWduVXAgPSBhc3luYyAocmVxLCByZXMpID0+IHtcblxuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIGNvbnN0IGhhc2VkUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIHNhbHQpO1xuICB0cnkge1xuICAgIGNvbnN0IGNoZWNrQWNjb3VudCA9IGF3YWl0IFVzZXJzLmZpbmRPbmUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgZW1haWxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKGNoZWNrQWNjb3VudCkgcmV0dXJuIHJlcy5qc29uKGAke2VtYWlsfSAgQWxyZWFkeSBFeGlzdHNgKTtcblxuICAgIGNvbnN0IHVzZXJBcnJheSA9IHsgZW1haWw6IGVtYWlsLCBwYXNzd29yZDogaGFzZWRQYXNzd29yZCB9O1xuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBVc2Vycy5jcmVhdGUodXNlckFycmF5KTtcbiAgICByZXR1cm4gcmVzLmpzb24obmV3VXNlci5kYXRhVmFsdWVzKTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgTG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxuICAgIH0pO1xuICAgIGlmICghdXNlcikge1xuXG4gICAgICByZXR1cm4gRXJyb3JIYW5kbGluZyhyZXMsIDQwNClcbiAgICB9XG4gICAgY29uc3QgZGJwYXNzd29yZCA9IHVzZXIucGFzc3dvcmQ7XG4gICAgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGRicGFzc3dvcmQpLnRoZW4oKG1hdGNoKSA9PiB7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBFcnJvckhhbmRsaW5nKHJlcywgNDAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vQXV0aG9yaXphdGlvblxuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGdlbmVyYXRlQWNjZXNzVG9rZW4oeyB1c2VyIH0pO1xuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBqd3Quc2lnbihcbiAgICAgICAgICB7IHVzZXIgfSxcbiAgICAgICAgICBwcm9jZXNzLmVudi5SRUZSRVNIX1RPS0VOX1NFQ1JFVFxuICAgICAgICApO1xuICAgICAgICB0b2tlbnMucHVzaChyZWZyZXNoVG9rZW4pO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICAgICAgICByZWZyZXNoVG9rZW46IHJlZnJlc2hUb2tlbixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIEVycm9ySGFuZGxpbmcoZXJyLCA1MDApO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQWNjZXNzVG9rZW4gPSAodXNlcikgPT4ge1xuICByZXR1cm4gand0LnNpZ24odXNlciwgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwge1xuICAgIGV4cGlyZXNJbjogcHJvY2Vzcy5lbnYuRVhQSVJFU19JTixcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgdG9rZW4gPSAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcmVmcmVzaFRva2VuID0gcmVxLmJvZHkudG9rZW47XG4gIGlmIChyZWZyZXNoVG9rZW4gPT0gbnVsbCkgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XG4gIGlmICghdG9rZW5zLmluY2x1ZGVzKHJlZnJlc2hUb2tlbikpIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDMpO1xuICBqd3QudmVyaWZ5KHJlZnJlc2hUb2tlbiwgcHJvY2Vzcy5lbnYuUkVGUkVTSF9UT0tFTl9TRUNSRVQsIChlcnJvciwgdXNlcikgPT4ge1xuICAgIGlmIChlcnJvcikgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMyk7XG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSBnZW5lcmF0ZUFjY2Vzc1Rva2VuKHtcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQsXG4gICAgfSk7XG4gICAgcmVzLmpzb24oeyBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4gfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IExvZ291dCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0b2tlbnMgPSB0b2tlbnMuZmlsdGVyKCh0b2tlbikgPT4gdG9rZW4gIT09IHJlcS5ib2R5LnRva2VuKTtcbiAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDIwNCk7XG59O1xuXG5leHBvcnQgY29uc3QgRm9yZ2V0UGFzc3dvcmQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBlbWFpbCB9ID0gcmVxLmJvZHk7XG5cbiAgdHJ5IHtcbiAgICAvLyBsb29rIGZvciBlbWFpbCBpbiBkYXRhYmFzZVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxuICAgIH0pO1xuICAgIC8vIGlmIHRoZXJlIGlzIG5vIHVzZXIgc2VuZCBiYWNrIGFuIGVycm9yXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogXCJJbnZhbGlkIGVtYWlsXCIgfSk7XG4gICAgfVxuICAgIC8vIG90aGVyd2lzZSB3ZSBuZWVkIHRvIGNyZWF0ZSBhIHRlbXBvcmFyeSB0b2tlbiB0aGF0IGV4cGlyZXMgaW4gMTAgbWluc1xuICAgIGNvbnN0IHJlc2V0TGluayA9IGp3dC5zaWduKHsgdXNlcjogdXNlci5lbWFpbCB9LCByZXNldFNlY3JldCwgeyBleHBpcmVzSW46ICcxZCcgfSk7XG4gICAgdXNlci5yZXNldExpbmsgPSByZXNldExpbms7XG4gICAgYXdhaXQgdXNlci5zYXZlKCk7XG5cbiAgICAvLyB3ZSdsbCBkZWZpbmUgdGhpcyBmdW5jdGlvbiBiZWxvd1xuICAgIHNlbmRFbWFpbCh1c2VyLCByZXNldExpbmspO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiQ2hlY2sgeW91ciBlbWFpbFwiIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZW5kRW1haWwodXNlciwgdG9rZW4pIHtcblxuICBzZ01haWwuc2V0QXBpS2V5KHNlbmRHcmlkS2V5KTtcblxuXG4gIGNvbnN0IG1zZyA9IHtcbiAgICB0bzogdXNlci5lbWFpbCxcbiAgICBmcm9tOiBcInRhbGhhLnNoYWtpbEBrd2Fuc28uY29tXCIsIC8vIHlvdXIgZW1haWxcbiAgICBzdWJqZWN0OiBcIlJlc2V0IHBhc3N3b3JkIHJlcXVlc3RlZFwiLFxuICAgIGh0bWw6IGBcbiAgICAgPGEgaHJlZj1cIiR7cHJvY2Vzcy5lbnYuY2xpZW50VVJMfS9yZXNldC1wYXNzd29yZC8ke3Rva2VufVwiPiR7dG9rZW59PC9hPlxuICAgYFxuXG4gIH07XG5cbiAgc2dNYWlsLnNlbmQobXNnKVxuICBjb25zb2xlLmxvZyhcIkVtYWlsIHNlbnRcIik7XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJlc2V0UGFzc3dvcmQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgdGhlIHRva2VuIGZyb20gcGFyYW1zXG4gICAgY29uc3QgeyBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgcmVzZXRMaW5rID0gcmVxLnBhcmFtcy50b2tlbjtcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHJlc2V0TGlua1xuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBpZiB0aGVyZSBpcyBubyB1c2VyLCBzZW5kIGJhY2sgYW4gZXJyb3JcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdXZSBjb3VsZCBub3QgZmluZCBhIG1hdGNoIGZvciB0aGlzIGxpbmsnIH0pO1xuICAgIH1cblxuICAgIGp3dC52ZXJpZnkocmVxLnBhcmFtcy50b2tlbiwgcmVzZXRTZWNyZXQsIChlcnJvcikgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwidG9rZW4gaXMgaW52YWxpZFwiIH0pXG4gICAgICB9XG5cbiAgICB9KVxuICAgIGNvbnN0IGhhc2hQYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgOCk7XG4gICAgLy8gdXBkYXRlIHVzZXIgY3JlZGVudGlhbHMgYW5kIHJlbW92ZSB0aGUgdGVtcG9yYXJ5IGxpbmsgZnJvbSBkYXRhYmFzZSBiZWZvcmUgc2F2aW5nXG4gICAgdXNlci5wYXNzd29yZCA9IGhhc2hQYXNzd29yZFxuICAgIHVzZXIucmVzZXRMaW5rID0gbnVsbDtcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdQYXNzd29yZCB1cGRhdGVkJyB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcblxuICB9XG59XG5cblxuXG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOzs7O0FBRUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBaEM7QUFDQSxNQUFNQyxXQUFXLEdBQUdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxrQkFBaEM7O0FBSUFDLGVBQUEsQ0FBT0MsTUFBUDs7QUFDQSxNQUFNQyxJQUFJLEdBQUdDLGlCQUFBLENBQU9DLFdBQVAsQ0FBbUIsRUFBbkIsQ0FBYjs7QUFFQSxNQUFNO0VBQUVDO0FBQUYsSUFBWUMsZUFBbEI7QUFFTyxJQUFJQyxNQUFNLEdBQUcsRUFBYjs7O0FBRUEsTUFBTUMsTUFBTSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUV4QyxNQUFNO0lBQUVDLEtBQUY7SUFBU0M7RUFBVCxJQUFzQkgsR0FBRyxDQUFDSSxJQUFoQzs7RUFDQSxNQUFNQyxhQUFhLEdBQUdYLGlCQUFBLENBQU9ZLFFBQVAsQ0FBZ0JILFFBQWhCLEVBQTBC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","map":{"version":3,"names":["sendGridKey","process","env","SENDGRID_KEY","resetSecret","RESET_PASSWORD_KEY","dotenv","config","salt","bcrypt","genSaltSync","Users","model","tokens","SignUp","req","res","email","password","body","hasedPassword","hashSync","checkAccount","findOne","where","json","userArray","newUser","create","dataValues","error","ErrorHandling","Login","user","dbpassword","compare","then","match","accessToken","generateAccessToken","refreshToken","jwt","sign","REFRESH_TOKEN_SECRET","push","err","ACCESS_TOKEN_SECRET","expiresIn","EXPIRES_IN","token","sendStatus","includes","verify","name","Logout","filter","ForgetPassword","status","resetLink","save","sendEmail","message","sgMail","setApiKey","msg","to","from","subject","html","clientURL","send","console","log","ResetPassword","params","hashPassword"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/","sources":["User.js"],"sourcesContent":["import dotenv from \"dotenv\";\nimport jwt from \"jsonwebtoken\";\nimport bcrypt from \"bcryptjs\";\nimport model from \"../models\";\n\nimport { ErrorHandling } from \"../middleware/Errors.js\";\nimport sgMail from '@sendgrid/mail'\n\nconst sendGridKey = process.env.SENDGRID_KEY;\nconst resetSecret = process.env.RESET_PASSWORD_KEY;\n\n\n\ndotenv.config();\nconst salt = bcrypt.genSaltSync(10);\n\nconst { Users } = model;\n\nexport var tokens = [];\n\nexport const SignUp = async (req, res) => {\n\n  const { email, password } = req.body;\n  const hasedPassword = bcrypt.hashSync(password, salt);\n  try {\n    const checkAccount = await Users.findOne({\n      where: {\n        email\n      },\n    });\n    if (checkAccount) return res.json(`${email}  Already Exists`);\n\n    const userArray = { email: email, password: hasedPassword };\n    const newUser = await Users.create(userArray);\n    return res.json(newUser.dataValues);\n\n  } catch (error) {\n\n    ErrorHandling(res);\n  }\n};\n\nexport const Login = async (req, res) => {\n  const { email, password } = req.body;\n  try {\n    const user = await Users.findOne({\n      where: { email: email },\n    });\n    if (!user) {\n\n      return ErrorHandling(res, 404)\n    }\n    const dbpassword = user.password;\n    bcrypt.compare(password, dbpassword).then((match) => {\n      if (!match) {\n        return ErrorHandling(res, 401);\n      } else {\n        //Authorization\n        const accessToken = generateAccessToken({ user });\n        const refreshToken = jwt.sign(\n          { user },\n          process.env.REFRESH_TOKEN_SECRET\n        );\n        tokens.push(refreshToken);\n        return res.json({\n          accessToken: accessToken,\n          refreshToken: refreshToken,\n        });\n      }\n    });\n  } catch (err) {\n    ErrorHandling(err, 500);\n  }\n};\nexport const generateAccessToken = (user) => {\n  return jwt.sign(user, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: process.env.EXPIRES_IN,\n  });\n};\n\nexport const token = (req, res) => {\n  const refreshToken = req.body.token;\n  if (refreshToken == null) return res.sendStatus(401);\n  if (!tokens.includes(refreshToken)) return res.sendStatus(403);\n  jwt.verify(refreshToken, process.env.REFRESH_TOKEN_SECRET, (error, user) => {\n    if (error) return res.sendStatus(403);\n    const accessToken = generateAccessToken({\n      name: user.name,\n      email: user.email,\n      password: user.password,\n    });\n    res.json({ accessToken: accessToken });\n  });\n};\n\nexport const Logout = async (req, res) => {\n  tokens = tokens.filter((token) => token !== req.body.token);\n  return res.sendStatus(204);\n};\n\nexport const ForgetPassword = async (req, res) => {\n  const { email } = req.body;\n\n  try {\n    // look for email in database\n    const user = await Users.findOne({\n      where: { email: email },\n    });\n    // if there is no user send back an error\n    if (!user) {\n      return res.status(404).json({ error: \"Invalid email\" });\n    }\n    // otherwise we need to create a temporary token that expires in 10 mins\n    const resetLink = jwt.sign({ user: user.email }, resetSecret, { expiresIn: '1d' });\n    user.resetLink = resetLink;\n    await user.save();\n\n    // we'll define this function below\n    sendEmail(user, resetLink);\n    return res.status(200).json({ message: \"Check your email\" });\n\n  } catch (error) {\n    return res.status(500).json({ message: error.message });\n  }\n}\n\nfunction sendEmail(user, token) {\n\n  sgMail.setApiKey(sendGridKey);\n\n\n  const msg = {\n    to: user.email,\n    from: \"talha.shakil@kwanso.com\", // your email\n    subject: \"Reset password requested\",\n    html: `\n     <a href=\"${process.env.clientURL}/reset-password/${token}\">${token}</a>\n   `\n\n  };\n\n  sgMail.send(msg)\n  console.log(\"Email sent\");\n\n}\n\nexport const ResetPassword = async (req, res) => {\n  try {\n    // Get the token from params\n    const { password } = req.body;\n    const resetLink = req.params.token;\n\n    const user = await Users.findOne({\n      where: {\n        resetLink\n      }\n    })\n\n    // if there is no user, send back an error\n    if (!user) {\n      return res.status(400).json({ message: 'We could not find a match for this link' });\n    }\n\n    jwt.verify(req.params.token, resetSecret, (error) => {\n      if (error) {\n        return res.status(400).json({ message: \"token is invalid\" })\n      }\n\n    })\n    const hashPassword = bcrypt.hashSync(password, 8);\n    // update user credentials and remove the temporary link from database before saving\n    user.password = hashPassword\n    user.resetLink = null;\n    await user.save();\n\n    return res.status(200).json({ message: 'Password updated' });\n  } catch (error) {\n\n    res.status(500).json({ message: error.message });\n\n  }\n}\n\n\n\n\n"],"mappings":"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"}},"mtime":1663671791400},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nvar _config = require(\"../config/config.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst basename = _path.default.basename(__filename);\n\nconst config = _config.development;\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new _sequelize.default(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new _sequelize.default(config.database, config.username, config.password, config);\n}\n\n_fs.default.readdirSync(__dirname).filter(file => file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\").forEach(file => {\n  // eslint-disable-next-line global-require,import/no-dynamic-require\n  const model = require(_path.default.join(__dirname, file)).default(sequelize, _sequelize.default.DataTypes);\n\n  db[model.name] = model;\n});\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = _sequelize.default;\nvar _default = db;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlbmFtZSIsInBhdGgiLCJfX2ZpbGVuYW1lIiwiY29uZmlnIiwiZGV2ZWxvcG1lbnQiLCJkYiIsInNlcXVlbGl6ZSIsInVzZV9lbnZfdmFyaWFibGUiLCJTZXF1ZWxpemUiLCJwcm9jZXNzIiwiZW52IiwiZGF0YWJhc2UiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZnMiLCJyZWFkZGlyU3luYyIsIl9fZGlybmFtZSIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibW9kZWwiLCJyZXF1aXJlIiwiam9pbiIsImRlZmF1bHQiLCJEYXRhVHlwZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IFNlcXVlbGl6ZSBmcm9tIFwic2VxdWVsaXplXCI7XG5pbXBvcnQgeyBkZXZlbG9wbWVudCB9IGZyb20gXCIuLi9jb25maWcvY29uZmlnLmpzXCI7XG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XG5jb25zdCBjb25maWcgPSBkZXZlbG9wbWVudDtcbmNvbnN0IGRiID0ge307XG5sZXQgc2VxdWVsaXplO1xuaWYgKGNvbmZpZy51c2VfZW52X3ZhcmlhYmxlKSB7XG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xufSBlbHNlIHtcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShcbiAgICBjb25maWcuZGF0YWJhc2UsXG4gICAgY29uZmlnLnVzZXJuYW1lLFxuICAgIGNvbmZpZy5wYXNzd29yZCxcbiAgICBjb25maWdcbiAgKTtcbn1cbmZzLnJlYWRkaXJTeW5jKF9fZGlybmFtZSlcbiAgLmZpbHRlcihcbiAgICAoZmlsZSkgPT5cbiAgICAgIGZpbGUuaW5kZXhPZihcIi5cIikgIT09IDAgJiYgZmlsZSAhPT0gYmFzZW5hbWUgJiYgZmlsZS5zbGljZSgtMykgPT09IFwiLmpzXCJcbiAgKVxuICAuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZSxpbXBvcnQvbm8tZHluYW1pYy1yZXF1aXJlXG4gICAgY29uc3QgbW9kZWwgPSByZXF1aXJlKHBhdGguam9pbihfX2Rpcm5hbWUsIGZpbGUpKS5kZWZhdWx0KFxuICAgICAgc2VxdWVsaXplLFxuICAgICAgU2VxdWVsaXplLkRhdGFUeXBlc1xuICAgICk7XG4gICAgZGJbbW9kZWwubmFtZV0gPSBtb2RlbDtcbiAgfSk7XG5PYmplY3Qua2V5cyhkYikuZm9yRWFjaCgobW9kZWxOYW1lKSA9PiB7XG4gIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xuICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKGRiKTtcbiAgfVxufSk7XG5kYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7XG5kYi5TZXF1ZWxpemUgPSBTZXF1ZWxpemU7XG5cbmV4cG9ydCBkZWZhdWx0IGRiO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQSxNQUFNQSxRQUFRLEdBQUdDLGFBQUEsQ0FBS0QsUUFBTCxDQUFjRSxVQUFkLENBQWpCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0MsbUJBQWY7QUFDQSxNQUFNQyxFQUFFLEdBQUcsRUFBWDtBQUNBLElBQUlDLFNBQUo7O0FBQ0EsSUFBSUgsTUFBTSxDQUFDSSxnQkFBWCxFQUE2QjtFQUMzQkQsU0FBUyxHQUFHLElBQUlFLGtCQUFKLENBQWNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZUCxNQUFNLENBQUNJLGdCQUFuQixDQUFkLEVBQW9ESixNQUFwRCxDQUFaO0FBQ0QsQ0FGRCxNQUVPO0VBQ0xHLFNBQVMsR0FBRyxJQUFJRSxrQkFBSixDQUNWTCxNQUFNLENBQUNRLFFBREcsRUFFVlIsTUFBTSxDQUFDUyxRQUZHLEVBR1ZULE1BQU0sQ0FBQ1UsUUFIRyxFQUlWVixNQUpVLENBQVo7QUFNRDs7QUFDRFcsV0FBQSxDQUFHQyxXQUFILENBQWVDLFNBQWYsRUFDR0MsTUFESCxDQUVLQyxJQUFELElBQ0VBLElBQUksQ0FBQ0MsT0FBTCxDQUFhLEdBQWIsTUFBc0IsQ0FBdEIsSUFBMkJELElBQUksS0FBS2xCLFFBQXBDLElBQWdEa0IsSUFBSSxDQUFDRSxLQUFMLENBQVcsQ0FBQyxDQUFaLE1BQW1CLEtBSHpFLEVBS0dDLE9BTEgsQ0FLWUgsSUFBRCxJQUFVO0VBQ2pCO0VBQ0EsTUFBTUksS0FBSyxHQUFHQyxPQUFPLENBQUN0QixhQUFBLENBQUt1QixJQUFMLENBQVVSLFNBQVYsRUFBcUJFLElBQXJCLENBQUQsQ0FBUCxDQUFvQ08sT0FBcEMsQ0FDWm5CLFNBRFksRUFFWkUsa0JBQUEsQ0FBVWtCLFNBRkUsQ0FBZDs7RUFJQXJCLEVBQUUsQ0FBQ2lCLEtBQUssQ0FBQ0ssSUFBUCxDQUFGLEdBQWlCTCxLQUFqQjtBQUNELENBWkg7O0FBYUFNLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZeEIsRUFBWixFQUFnQmdCLE9BQWhCLENBQXlCUyxTQUFELElBQWU7RUFDckMsSUFBSXpCLEVBQUUsQ0FBQ3lCLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtJQUMzQjFCLEVBQUUsQ0FBQ3lCLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCMUIsRUFBeEI7RUFDRDtBQUNGLENBSkQ7QUFLQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDRyxTQUFILEdBQWVBLGtCQUFmO2VBRWVILEUifQ==","map":{"version":3,"names":["basename","path","__filename","config","development","db","sequelize","use_env_variable","Sequelize","process","env","database","username","password","fs","readdirSync","__dirname","filter","file","indexOf","slice","forEach","model","require","join","default","DataTypes","name","Object","keys","modelName","associate"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["index.js"],"sourcesContent":["import fs from \"fs\";\nimport path from \"path\";\nimport Sequelize from \"sequelize\";\nimport { development } from \"../config/config.js\";\nconst basename = path.basename(__filename);\nconst config = development;\nconst db = {};\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(\n    config.database,\n    config.username,\n    config.password,\n    config\n  );\n}\nfs.readdirSync(__dirname)\n  .filter(\n    (file) =>\n      file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\"\n  )\n  .forEach((file) => {\n    // eslint-disable-next-line global-require,import/no-dynamic-require\n    const model = require(path.join(__dirname, file)).default(\n      sequelize,\n      Sequelize.DataTypes\n    );\n    db[model.name] = model;\n  });\nObject.keys(db).forEach((modelName) => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nexport default db;\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AACA,MAAMA,QAAQ,GAAGC,aAAA,CAAKD,QAAL,CAAcE,UAAd,CAAjB;;AACA,MAAMC,MAAM,GAAGC,mBAAf;AACA,MAAMC,EAAE,GAAG,EAAX;AACA,IAAIC,SAAJ;;AACA,IAAIH,MAAM,CAACI,gBAAX,EAA6B;EAC3BD,SAAS,GAAG,IAAIE,kBAAJ,CAAcC,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACI,gBAAnB,CAAd,EAAoDJ,MAApD,CAAZ;AACD,CAFD,MAEO;EACLG,SAAS,GAAG,IAAIE,kBAAJ,CACVL,MAAM,CAACQ,QADG,EAEVR,MAAM,CAACS,QAFG,EAGVT,MAAM,CAACU,QAHG,EAIVV,MAJU,CAAZ;AAMD;;AACDW,WAAA,CAAGC,WAAH,CAAeC,SAAf,EACGC,MADH,CAEKC,IAAD,IACEA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAKlB,QAApC,IAAgDkB,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAHzE,EAKGC,OALH,CAKYH,IAAD,IAAU;EACjB;EACA,MAAMI,KAAK,GAAGC,OAAO,CAACtB,aAAA,CAAKuB,IAAL,CAAUR,SAAV,EAAqBE,IAArB,CAAD,CAAP,CAAoCO,OAApC,CACZnB,SADY,EAEZE,kBAAA,CAAUkB,SAFE,CAAd;;EAIArB,EAAE,CAACiB,KAAK,CAACK,IAAP,CAAF,GAAiBL,KAAjB;AACD,CAZH;;AAaAM,MAAM,CAACC,IAAP,CAAYxB,EAAZ,EAAgBgB,OAAhB,CAAyBS,SAAD,IAAe;EACrC,IAAIzB,EAAE,CAACyB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;IAC3B1B,EAAE,CAACyB,SAAD,CAAF,CAAcC,SAAd,CAAwB1B,EAAxB;EACD;AACF,CAJD;AAKAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACG,SAAH,GAAeA,kBAAf;eAEeH,E"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.test = exports.production = exports.elasticSearch = exports.development = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst development = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false\n};\nexports.development = development;\nconst test = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false\n};\nexports.test = test;\nconst production = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false\n};\nexports.production = production;\nconst elasticSearch = {\n  username: process.env.Cloud_USERNAME,\n  password: process.env.Cloud_PASSWORD,\n  cloud: process.env.Cloud_NAME,\n  host: process.env.Cloud_HOST,\n  cloudID: process.env.Cloud_ID\n};\nexports.elasticSearch = elasticSearch;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJkZXZlbG9wbWVudCIsInVzZXJuYW1lIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVJOQU1FIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsImRhdGFiYXNlIiwiREJfTkFNRSIsImhvc3QiLCJEQl9IT1NUIiwiZGlhbGVjdCIsInBvcnQiLCJEQl9QT1JUIiwibG9nZ2luZyIsInRlc3QiLCJwcm9kdWN0aW9uIiwiZWxhc3RpY1NlYXJjaCIsIkNsb3VkX1VTRVJOQU1FIiwiQ2xvdWRfUEFTU1dPUkQiLCJjbG91ZCIsIkNsb3VkX05BTUUiLCJDbG91ZF9IT1NUIiwiY2xvdWRJRCIsIkNsb3VkX0lEIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL2NvbmZpZy8iLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmRvdGVudi5jb25maWcoKTtcbmV4cG9ydCBjb25zdCBkZXZlbG9wbWVudCA9IHtcbiAgdXNlcm5hbWU6IHByb2Nlc3MuZW52LkRCX1VTRVJOQU1FLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NULFxuICBkaWFsZWN0OiBcInBvc3RncmVzXCIsXG4gIHBvcnQ6IHByb2Nlc3MuZW52LkRCX1BPUlQsXG4gIGxvZ2dpbmc6IGZhbHNlLFxufTtcbmV4cG9ydCBjb25zdCB0ZXN0ID0ge1xuICB1c2VybmFtZTogcHJvY2Vzcy5lbnYuREJfVVNFUk5BTUUsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUsXG4gIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsXG4gIGRpYWxlY3Q6IFwicG9zdGdyZXNcIixcbiAgcG9ydDogcHJvY2Vzcy5lbnYuREJfUE9SVCxcbiAgbG9nZ2luZzogZmFsc2UsXG59O1xuZXhwb3J0IGNvbnN0IHByb2R1Y3Rpb24gPSB7XG4gIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5EQl9VU0VSTkFNRSxcbiAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JELFxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREJfTkFNRSxcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCxcbiAgZGlhbGVjdDogXCJwb3N0Z3Jlc1wiLFxuICBwb3J0OiBwcm9jZXNzLmVudi5EQl9QT1JULFxuICBsb2dnaW5nOiBmYWxzZSxcbn07XG5leHBvcnQgY29uc3QgZWxhc3RpY1NlYXJjaCA9IHtcbiAgdXNlcm5hbWU6IHByb2Nlc3MuZW52LkNsb3VkX1VTRVJOQU1FLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuQ2xvdWRfUEFTU1dPUkQsXG4gIGNsb3VkOiBwcm9jZXNzLmVudi5DbG91ZF9OQU1FLFxuICBob3N0OiBwcm9jZXNzLmVudi5DbG91ZF9IT1NULFxuICBjbG91ZElEOiBwcm9jZXNzLmVudi5DbG91ZF9JRCxcbn07XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0FBLGVBQUEsQ0FBT0MsTUFBUDs7QUFDTyxNQUFNQyxXQUFXLEdBQUc7RUFDekJDLFFBQVEsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFdBREc7RUFFekJDLFFBQVEsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLFdBRkc7RUFHekJDLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLLE9BSEc7RUFJekJDLElBQUksRUFBRVAsT0FBTyxDQUFDQyxHQUFSLENBQVlPLE9BSk87RUFLekJDLE9BQU8sRUFBRSxVQUxnQjtFQU16QkMsSUFBSSxFQUFFVixPQUFPLENBQUNDLEdBQVIsQ0FBWVUsT0FOTztFQU96QkMsT0FBTyxFQUFFO0FBUGdCLENBQXBCOztBQVNBLE1BQU1DLElBQUksR0FBRztFQUNsQmQsUUFBUSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FESjtFQUVsQkMsUUFBUSxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsV0FGSjtFQUdsQkMsUUFBUSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUssT0FISjtFQUlsQkMsSUFBSSxFQUFFUCxPQUFPLENBQUNDLEdBQVIsQ0FBWU8sT0FKQTtFQUtsQkMsT0FBTyxFQUFFLFVBTFM7RUFNbEJDLElBQUksRUFBRVYsT0FBTyxDQUFDQyxHQUFSLENBQVlVLE9BTkE7RUFPbEJDLE9BQU8sRUFBRTtBQVBTLENBQWI7O0FBU0EsTUFBTUUsVUFBVSxHQUFHO0VBQ3hCZixRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQURFO0VBRXhCQyxRQUFRLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxXQUZFO0VBR3hCQyxRQUFRLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxPQUhFO0VBSXhCQyxJQUFJLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTyxPQUpNO0VBS3hCQyxPQUFPLEVBQUUsVUFMZTtFQU14QkMsSUFBSSxFQUFFVixPQUFPLENBQUNDLEdBQVIsQ0FBWVUsT0FOTTtFQU94QkMsT0FBTyxFQUFFO0FBUGUsQ0FBbkI7O0FBU0EsTUFBTUcsYUFBYSxHQUFHO0VBQzNCaEIsUUFBUSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWWUsY0FESztFQUUzQmIsUUFBUSxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWWdCLGNBRks7RUFHM0JDLEtBQUssRUFBRWxCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZa0IsVUFIUTtFQUkzQlosSUFBSSxFQUFFUCxPQUFPLENBQUNDLEdBQVIsQ0FBWW1CLFVBSlM7RUFLM0JDLE9BQU8sRUFBRXJCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZcUI7QUFMTSxDQUF0QiJ9","map":{"version":3,"names":["dotenv","config","development","username","process","env","DB_USERNAME","password","DB_PASSWORD","database","DB_NAME","host","DB_HOST","dialect","port","DB_PORT","logging","test","production","elasticSearch","Cloud_USERNAME","Cloud_PASSWORD","cloud","Cloud_NAME","Cloud_HOST","cloudID","Cloud_ID"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/","sources":["config.js"],"sourcesContent":["import dotenv from \"dotenv\";\ndotenv.config();\nexport const development = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false,\n};\nexport const test = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false,\n};\nexport const production = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false,\n};\nexport const elasticSearch = {\n  username: process.env.Cloud_USERNAME,\n  password: process.env.Cloud_PASSWORD,\n  cloud: process.env.Cloud_NAME,\n  host: process.env.Cloud_HOST,\n  cloudID: process.env.Cloud_ID,\n};\n\n"],"mappings":";;;;;;;AAAA;;;;AACAA,eAAA,CAAOC,MAAP;;AACO,MAAMC,WAAW,GAAG;EACzBC,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADG;EAEzBC,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFG;EAGzBC,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHG;EAIzBC,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJO;EAKzBC,OAAO,EAAE,UALgB;EAMzBC,IAAI,EAAEV,OAAO,CAACC,GAAR,CAAYU,OANO;EAOzBC,OAAO,EAAE;AAPgB,CAApB;;AASA,MAAMC,IAAI,GAAG;EAClBd,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADJ;EAElBC,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFJ;EAGlBC,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHJ;EAIlBC,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJA;EAKlBC,OAAO,EAAE,UALS;EAMlBC,IAAI,EAAEV,OAAO,CAACC,GAAR,CAAYU,OANA;EAOlBC,OAAO,EAAE;AAPS,CAAb;;AASA,MAAME,UAAU,GAAG;EACxBf,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADE;EAExBC,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFE;EAGxBC,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHE;EAIxBC,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJM;EAKxBC,OAAO,EAAE,UALe;EAMxBC,IAAI,EAAEV,OAAO,CAACC,GAAR,CAAYU,OANM;EAOxBC,OAAO,EAAE;AAPe,CAAnB;;AASA,MAAMG,aAAa,GAAG;EAC3BhB,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYe,cADK;EAE3Bb,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYgB,cAFK;EAG3BC,KAAK,EAAElB,OAAO,CAACC,GAAR,CAAYkB,UAHQ;EAI3BZ,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYmB,UAJS;EAK3BC,OAAO,EAAErB,OAAO,CAACC,GAAR,CAAYqB;AALM,CAAtB"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/comments.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _default = (sequelize, DataTypes) => {\n  class Comments extends _sequelize.Model {\n    static associate(models) {\n      Comments.belongsTo(models.Posts, {\n        foreignKey: \"postId\",\n        as: \"Commented_on\"\n      });\n      Comments.belongsTo(models.Users, {\n        foreignKey: \"userId\",\n        as: \"Commented_By\"\n      });\n      Comments.hasMany(models.Comments, {\n        foreignKey: \"parentId\",\n        as: \"Replies\"\n      });\n      Comments.belongsTo(models.Comments, {\n        foreignKey: \"parentId\",\n        as: \"Replied_on\"\n      });\n    }\n\n  }\n\n  Comments.init({\n    id: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      primaryKey: true,\n      defaultValue: sequelize.fn(\"uuid_generate_v4\")\n    },\n    postId: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      references: {\n        model: \"Posts\",\n        key: \"id\"\n      }\n    },\n    userId: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      references: {\n        model: \"Users\",\n        key: \"id\"\n      }\n    },\n    parentId: {\n      type: DataTypes.UUID,\n      references: {\n        model: \"Comments\",\n        key: \"id\"\n      },\n      defaultValue: null\n    },\n    title: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    body: {\n      type: DataTypes.STRING,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: \"Comments\"\n  });\n  return Comments;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJDb21tZW50cyIsIk1vZGVsIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiUG9zdHMiLCJmb3JlaWduS2V5IiwiYXMiLCJVc2VycyIsImhhc01hbnkiLCJpbml0IiwiaWQiLCJ0eXBlIiwiVVVJRCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJkZWZhdWx0VmFsdWUiLCJmbiIsInBvc3RJZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsInVzZXJJZCIsInBhcmVudElkIiwidGl0bGUiLCJTVFJJTkciLCJib2R5IiwibW9kZWxOYW1lIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbImNvbW1lbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgTW9kZWwgfSBmcm9tIFwic2VxdWVsaXplXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBDb21tZW50cyBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgQ29tbWVudHMuYmVsb25nc1RvKG1vZGVscy5Qb3N0cywge1xuICAgICAgICBmb3JlaWduS2V5OiBcInBvc3RJZFwiLFxuICAgICAgICBhczogXCJDb21tZW50ZWRfb25cIixcbiAgICAgIH0pO1xuICAgICAgQ29tbWVudHMuYmVsb25nc1RvKG1vZGVscy5Vc2Vycywge1xuICAgICAgICBmb3JlaWduS2V5OiBcInVzZXJJZFwiLFxuICAgICAgICBhczogXCJDb21tZW50ZWRfQnlcIixcbiAgICAgIH0pO1xuICAgICAgQ29tbWVudHMuaGFzTWFueShtb2RlbHMuQ29tbWVudHMsIHtcbiAgICAgICAgZm9yZWlnbktleTogXCJwYXJlbnRJZFwiLFxuICAgICAgICBhczogXCJSZXBsaWVzXCIsXG4gICAgICB9KTtcbiAgICAgIENvbW1lbnRzLmJlbG9uZ3NUbyhtb2RlbHMuQ29tbWVudHMsIHtcbiAgICAgICAgZm9yZWlnbktleTogXCJwYXJlbnRJZFwiLFxuICAgICAgICBhczogXCJSZXBsaWVkX29uXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgQ29tbWVudHMuaW5pdChcbiAgICB7XG4gICAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBzZXF1ZWxpemUuZm4oXCJ1dWlkX2dlbmVyYXRlX3Y0XCIpLFxuICAgICAgfSxcbiAgICAgIHBvc3RJZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIlBvc3RzXCIsXG4gICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdXNlcklkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgbW9kZWw6IFwiVXNlcnNcIixcbiAgICAgICAgICBrZXk6IFwiaWRcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJlbnRJZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIkNvbW1lbnRzXCIsXG4gICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgIH0sXG4gICAgICB0aXRsZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IHsgdHlwZTogRGF0YVR5cGVzLlNUUklORywgYWxsb3dOdWxsOiBmYWxzZSB9LFxuICAgIH0sXG4gICAge1xuICAgICAgc2VxdWVsaXplLFxuICAgICAgbW9kZWxOYW1lOiBcIkNvbW1lbnRzXCIsXG4gICAgfVxuICApO1xuICByZXR1cm4gQ29tbWVudHM7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUNBOztlQUVlLENBQUNBLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN2QyxNQUFNQyxRQUFOLFNBQXVCQyxnQkFBdkIsQ0FBNkI7SUFDWCxPQUFUQyxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QkgsUUFBUSxDQUFDSSxTQUFULENBQW1CRCxNQUFNLENBQUNFLEtBQTFCLEVBQWlDO1FBQy9CQyxVQUFVLEVBQUUsUUFEbUI7UUFFL0JDLEVBQUUsRUFBRTtNQUYyQixDQUFqQztNQUlBUCxRQUFRLENBQUNJLFNBQVQsQ0FBbUJELE1BQU0sQ0FBQ0ssS0FBMUIsRUFBaUM7UUFDL0JGLFVBQVUsRUFBRSxRQURtQjtRQUUvQkMsRUFBRSxFQUFFO01BRjJCLENBQWpDO01BSUFQLFFBQVEsQ0FBQ1MsT0FBVCxDQUFpQk4sTUFBTSxDQUFDSCxRQUF4QixFQUFrQztRQUNoQ00sVUFBVSxFQUFFLFVBRG9CO1FBRWhDQyxFQUFFLEVBQUU7TUFGNEIsQ0FBbEM7TUFJQVAsUUFBUSxDQUFDSSxTQUFULENBQW1CRCxNQUFNLENBQUNILFFBQTFCLEVBQW9DO1FBQ2xDTSxVQUFVLEVBQUUsVUFEc0I7UUFFbENDLEVBQUUsRUFBRTtNQUY4QixDQUFwQztJQUlEOztFQWxCMEI7O0VBb0I3QlAsUUFBUSxDQUFDVSxJQUFULENBQ0U7SUFDRUMsRUFBRSxFQUFFO01BQ0ZDLElBQUksRUFBRWIsU0FBUyxDQUFDYyxJQURkO01BRUZDLFNBQVMsRUFBRSxLQUZUO01BR0ZDLFVBQVUsRUFBRSxJQUhWO01BSUZDLFlBQVksRUFBRWxCLFNBQVMsQ0FBQ21CLEVBQVYsQ0FBYSxrQkFBYjtJQUpaLENBRE47SUFPRUMsTUFBTSxFQUFFO01BQ05OLElBQUksRUFBRWIsU0FBUyxDQUFDYyxJQURWO01BRU5DLFNBQVMsRUFBRSxLQUZMO01BR05LLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsT0FERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhOLENBUFY7SUFlRUMsTUFBTSxFQUFFO01BQ05WLElBQUksRUFBRWIsU0FBUyxDQUFDYyxJQURWO01BRU5DLFNBQVMsRUFBRSxLQUZMO01BR05LLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsT0FERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhOLENBZlY7SUF1QkVFLFFBQVEsRUFBRTtNQUNSWCxJQUFJLEVBQUViLFNBQVMsQ0FBQ2MsSUFEUjtNQUVSTSxVQUFVLEVBQUU7UUFDVkMsS0FBSyxFQUFFLFVBREc7UUFFVkMsR0FBRyxFQUFFO01BRkssQ0FGSjtNQU1STCxZQUFZLEVBQUU7SUFOTixDQXZCWjtJQStCRVEsS0FBSyxFQUFFO01BQ0xaLElBQUksRUFBRWIsU0FBUyxDQUFDMEIsTUFEWDtNQUVMWCxTQUFTLEVBQUU7SUFGTixDQS9CVDtJQW1DRVksSUFBSSxFQUFFO01BQUVkLElBQUksRUFBRWIsU0FBUyxDQUFDMEIsTUFBbEI7TUFBMEJYLFNBQVMsRUFBRTtJQUFyQztFQW5DUixDQURGLEVBc0NFO0lBQ0VoQixTQURGO0lBRUU2QixTQUFTLEVBQUU7RUFGYixDQXRDRjtFQTJDQSxPQUFPM0IsUUFBUDtBQUNELEMifQ==","map":{"version":3,"names":["sequelize","DataTypes","Comments","Model","associate","models","belongsTo","Posts","foreignKey","as","Users","hasMany","init","id","type","UUID","allowNull","primaryKey","defaultValue","fn","postId","references","model","key","userId","parentId","title","STRING","body","modelName"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["comments.js"],"sourcesContent":["\"use strict\";\nimport { Model } from \"sequelize\";\n\nexport default (sequelize, DataTypes) => {\n  class Comments extends Model {\n    static associate(models) {\n      Comments.belongsTo(models.Posts, {\n        foreignKey: \"postId\",\n        as: \"Commented_on\",\n      });\n      Comments.belongsTo(models.Users, {\n        foreignKey: \"userId\",\n        as: \"Commented_By\",\n      });\n      Comments.hasMany(models.Comments, {\n        foreignKey: \"parentId\",\n        as: \"Replies\",\n      });\n      Comments.belongsTo(models.Comments, {\n        foreignKey: \"parentId\",\n        as: \"Replied_on\",\n      });\n    }\n  }\n  Comments.init(\n    {\n      id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        primaryKey: true,\n        defaultValue: sequelize.fn(\"uuid_generate_v4\"),\n      },\n      postId: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n          model: \"Posts\",\n          key: \"id\",\n        },\n      },\n      userId: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n          model: \"Users\",\n          key: \"id\",\n        },\n      },\n      parentId: {\n        type: DataTypes.UUID,\n        references: {\n          model: \"Comments\",\n          key: \"id\",\n        },\n        defaultValue: null,\n      },\n      title: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      body: { type: DataTypes.STRING, allowNull: false },\n    },\n    {\n      sequelize,\n      modelName: \"Comments\",\n    }\n  );\n  return Comments;\n};\n"],"mappings":"AAAA;;;;;;;AACA;;eAEe,CAACA,SAAD,EAAYC,SAAZ,KAA0B;EACvC,MAAMC,QAAN,SAAuBC,gBAAvB,CAA6B;IACX,OAATC,SAAS,CAACC,MAAD,EAAS;MACvBH,QAAQ,CAACI,SAAT,CAAmBD,MAAM,CAACE,KAA1B,EAAiC;QAC/BC,UAAU,EAAE,QADmB;QAE/BC,EAAE,EAAE;MAF2B,CAAjC;MAIAP,QAAQ,CAACI,SAAT,CAAmBD,MAAM,CAACK,KAA1B,EAAiC;QAC/BF,UAAU,EAAE,QADmB;QAE/BC,EAAE,EAAE;MAF2B,CAAjC;MAIAP,QAAQ,CAACS,OAAT,CAAiBN,MAAM,CAACH,QAAxB,EAAkC;QAChCM,UAAU,EAAE,UADoB;QAEhCC,EAAE,EAAE;MAF4B,CAAlC;MAIAP,QAAQ,CAACI,SAAT,CAAmBD,MAAM,CAACH,QAA1B,EAAoC;QAClCM,UAAU,EAAE,UADsB;QAElCC,EAAE,EAAE;MAF8B,CAApC;IAID;;EAlB0B;;EAoB7BP,QAAQ,CAACU,IAAT,CACE;IACEC,EAAE,EAAE;MACFC,IAAI,EAAEb,SAAS,CAACc,IADd;MAEFC,SAAS,EAAE,KAFT;MAGFC,UAAU,EAAE,IAHV;MAIFC,YAAY,EAAElB,SAAS,CAACmB,EAAV,CAAa,kBAAb;IAJZ,CADN;IAOEC,MAAM,EAAE;MACNN,IAAI,EAAEb,SAAS,CAACc,IADV;MAENC,SAAS,EAAE,KAFL;MAGNK,UAAU,EAAE;QACVC,KAAK,EAAE,OADG;QAEVC,GAAG,EAAE;MAFK;IAHN,CAPV;IAeEC,MAAM,EAAE;MACNV,IAAI,EAAEb,SAAS,CAACc,IADV;MAENC,SAAS,EAAE,KAFL;MAGNK,UAAU,EAAE;QACVC,KAAK,EAAE,OADG;QAEVC,GAAG,EAAE;MAFK;IAHN,CAfV;IAuBEE,QAAQ,EAAE;MACRX,IAAI,EAAEb,SAAS,CAACc,IADR;MAERM,UAAU,EAAE;QACVC,KAAK,EAAE,UADG;QAEVC,GAAG,EAAE;MAFK,CAFJ;MAMRL,YAAY,EAAE;IANN,CAvBZ;IA+BEQ,KAAK,EAAE;MACLZ,IAAI,EAAEb,SAAS,CAAC0B,MADX;MAELX,SAAS,EAAE;IAFN,CA/BT;IAmCEY,IAAI,EAAE;MAAEd,IAAI,EAAEb,SAAS,CAAC0B,MAAlB;MAA0BX,SAAS,EAAE;IAArC;EAnCR,CADF,EAsCE;IACEhB,SADF;IAEE6B,SAAS,EAAE;EAFb,CAtCF;EA2CA,OAAO3B,QAAP;AACD,C"}},"mtime":1663326264006},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _default = (sequelize, DataTypes) => {\n  class Posts extends _sequelize.Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      Posts.belongsTo(models.Users, {\n        foreignKey: \"userId\",\n        as: \"Posted_By\"\n      });\n      Posts.hasMany(models.Comments, {\n        foreignKey: \"postId\",\n        as: \"Comments\"\n      });\n    }\n\n  }\n\n  Posts.init({\n    id: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      primaryKey: true,\n      defaultValue: sequelize.fn(\"uuid_generate_v4\")\n    },\n    userId: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      references: {\n        model: \"Users\",\n        key: \"id\"\n      }\n    },\n    title: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    body: {\n      type: DataTypes.STRING,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: \"Posts\"\n  });\n  return Posts;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJQb3N0cyIsIk1vZGVsIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiVXNlcnMiLCJmb3JlaWduS2V5IiwiYXMiLCJoYXNNYW55IiwiQ29tbWVudHMiLCJpbml0IiwiaWQiLCJ0eXBlIiwiVVVJRCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJkZWZhdWx0VmFsdWUiLCJmbiIsInVzZXJJZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsInRpdGxlIiwiU1RSSU5HIiwiYm9keSIsIm1vZGVsTmFtZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJwb3N0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgTW9kZWwgfSBmcm9tIFwic2VxdWVsaXplXCI7XG5leHBvcnQgZGVmYXVsdCAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgY2xhc3MgUG9zdHMgZXh0ZW5kcyBNb2RlbCB7XG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cbiAgICAgKiBUaGUgYG1vZGVscy9pbmRleGAgZmlsZSB3aWxsIGNhbGwgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseS5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgUG9zdHMuYmVsb25nc1RvKG1vZGVscy5Vc2VycywgeyBmb3JlaWduS2V5OiBcInVzZXJJZFwiLCBhczogXCJQb3N0ZWRfQnlcIiB9KTtcbiAgICAgIFBvc3RzLmhhc01hbnkobW9kZWxzLkNvbW1lbnRzLCB7IGZvcmVpZ25LZXk6IFwicG9zdElkXCIsIGFzOiBcIkNvbW1lbnRzXCIgfSk7XG4gICAgfVxuICB9XG4gIFBvc3RzLmluaXQoXG4gICAge1xuICAgICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlVVSUQsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogc2VxdWVsaXplLmZuKFwidXVpZF9nZW5lcmF0ZV92NFwiKSxcbiAgICAgIH0sXG4gICAgICB1c2VySWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlVVSUQsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICBtb2RlbDogXCJVc2Vyc1wiLFxuICAgICAgICAgIGtleTogXCJpZFwiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHRpdGxlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgYm9keToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNlcXVlbGl6ZSxcbiAgICAgIG1vZGVsTmFtZTogXCJQb3N0c1wiLFxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIFBvc3RzO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFDQTs7ZUFDZSxDQUFDQSxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDdkMsTUFBTUMsS0FBTixTQUFvQkMsZ0JBQXBCLENBQTBCO0lBQ3hCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7SUFDb0IsT0FBVEMsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkJILEtBQUssQ0FBQ0ksU0FBTixDQUFnQkQsTUFBTSxDQUFDRSxLQUF2QixFQUE4QjtRQUFFQyxVQUFVLEVBQUUsUUFBZDtRQUF3QkMsRUFBRSxFQUFFO01BQTVCLENBQTlCO01BQ0FQLEtBQUssQ0FBQ1EsT0FBTixDQUFjTCxNQUFNLENBQUNNLFFBQXJCLEVBQStCO1FBQUVILFVBQVUsRUFBRSxRQUFkO1FBQXdCQyxFQUFFLEVBQUU7TUFBNUIsQ0FBL0I7SUFDRDs7RUFUdUI7O0VBVzFCUCxLQUFLLENBQUNVLElBQU4sQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsSUFBSSxFQUFFYixTQUFTLENBQUNjLElBRGQ7TUFFRkMsU0FBUyxFQUFFLEtBRlQ7TUFHRkMsVUFBVSxFQUFFLElBSFY7TUFJRkMsWUFBWSxFQUFFbEIsU0FBUyxDQUFDbUIsRUFBVixDQUFhLGtCQUFiO0lBSlosQ0FETjtJQU9FQyxNQUFNLEVBQUU7TUFDTk4sSUFBSSxFQUFFYixTQUFTLENBQUNjLElBRFY7TUFFTkMsU0FBUyxFQUFFLEtBRkw7TUFHTkssVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxPQURHO1FBRVZDLEdBQUcsRUFBRTtNQUZLO0lBSE4sQ0FQVjtJQWVFQyxLQUFLLEVBQUU7TUFDTFYsSUFBSSxFQUFFYixTQUFTLENBQUN3QixNQURYO01BRUxULFNBQVMsRUFBRTtJQUZOLENBZlQ7SUFtQkVVLElBQUksRUFBRTtNQUNKWixJQUFJLEVBQUViLFNBQVMsQ0FBQ3dCLE1BRFo7TUFFSlQsU0FBUyxFQUFFO0lBRlA7RUFuQlIsQ0FERixFQXlCRTtJQUNFaEIsU0FERjtJQUVFMkIsU0FBUyxFQUFFO0VBRmIsQ0F6QkY7RUE4QkEsT0FBT3pCLEtBQVA7QUFDRCxDIn0=","map":{"version":3,"names":["sequelize","DataTypes","Posts","Model","associate","models","belongsTo","Users","foreignKey","as","hasMany","Comments","init","id","type","UUID","allowNull","primaryKey","defaultValue","fn","userId","references","model","key","title","STRING","body","modelName"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["post.js"],"sourcesContent":["\"use strict\";\nimport { Model } from \"sequelize\";\nexport default (sequelize, DataTypes) => {\n  class Posts extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      Posts.belongsTo(models.Users, { foreignKey: \"userId\", as: \"Posted_By\" });\n      Posts.hasMany(models.Comments, { foreignKey: \"postId\", as: \"Comments\" });\n    }\n  }\n  Posts.init(\n    {\n      id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        primaryKey: true,\n        defaultValue: sequelize.fn(\"uuid_generate_v4\"),\n      },\n      userId: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n          model: \"Users\",\n          key: \"id\",\n        },\n      },\n      title: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      body: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Posts\",\n    }\n  );\n  return Posts;\n};\n"],"mappings":"AAAA;;;;;;;AACA;;eACe,CAACA,SAAD,EAAYC,SAAZ,KAA0B;EACvC,MAAMC,KAAN,SAAoBC,gBAApB,CAA0B;IACxB;AACJ;AACA;AACA;AACA;IACoB,OAATC,SAAS,CAACC,MAAD,EAAS;MACvBH,KAAK,CAACI,SAAN,CAAgBD,MAAM,CAACE,KAAvB,EAA8B;QAAEC,UAAU,EAAE,QAAd;QAAwBC,EAAE,EAAE;MAA5B,CAA9B;MACAP,KAAK,CAACQ,OAAN,CAAcL,MAAM,CAACM,QAArB,EAA+B;QAAEH,UAAU,EAAE,QAAd;QAAwBC,EAAE,EAAE;MAA5B,CAA/B;IACD;;EATuB;;EAW1BP,KAAK,CAACU,IAAN,CACE;IACEC,EAAE,EAAE;MACFC,IAAI,EAAEb,SAAS,CAACc,IADd;MAEFC,SAAS,EAAE,KAFT;MAGFC,UAAU,EAAE,IAHV;MAIFC,YAAY,EAAElB,SAAS,CAACmB,EAAV,CAAa,kBAAb;IAJZ,CADN;IAOEC,MAAM,EAAE;MACNN,IAAI,EAAEb,SAAS,CAACc,IADV;MAENC,SAAS,EAAE,KAFL;MAGNK,UAAU,EAAE;QACVC,KAAK,EAAE,OADG;QAEVC,GAAG,EAAE;MAFK;IAHN,CAPV;IAeEC,KAAK,EAAE;MACLV,IAAI,EAAEb,SAAS,CAACwB,MADX;MAELT,SAAS,EAAE;IAFN,CAfT;IAmBEU,IAAI,EAAE;MACJZ,IAAI,EAAEb,SAAS,CAACwB,MADZ;MAEJT,SAAS,EAAE;IAFP;EAnBR,CADF,EAyBE;IACEhB,SADF;IAEE2B,SAAS,EAAE;EAFb,CAzBF;EA8BA,OAAOzB,KAAP;AACD,C"}},"mtime":1663326264006},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _default = (sequelize, DataTypes) => {\n  class Users extends _sequelize.Model {\n    static associate(models) {\n      Users.hasMany(models.Posts, {\n        foreignKey: \"userId\",\n        as: \"Posts\"\n      });\n      Users.hasMany(models.Comments, {\n        foreignKey: \"userId\",\n        as: \"Comments\"\n      });\n    }\n\n  }\n\n  Users.init({\n    id: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      primaryKey: true,\n      defaultValue: sequelize.fn(\"uuid_generate_v4\")\n    },\n    name: {\n      type: DataTypes.STRING\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    resetLink: {\n      type: DataTypes.STRING\n    }\n  }, {\n    sequelize,\n    modelName: \"Users\"\n  });\n  return Users;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJVc2VycyIsIk1vZGVsIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaGFzTWFueSIsIlBvc3RzIiwiZm9yZWlnbktleSIsImFzIiwiQ29tbWVudHMiLCJpbml0IiwiaWQiLCJ0eXBlIiwiVVVJRCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJkZWZhdWx0VmFsdWUiLCJmbiIsIm5hbWUiLCJTVFJJTkciLCJlbWFpbCIsInBhc3N3b3JkIiwicmVzZXRMaW5rIiwibW9kZWxOYW1lIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbInVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBNb2RlbCB9IGZyb20gXCJzZXF1ZWxpemVcIjtcbmV4cG9ydCBkZWZhdWx0IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBVc2VycyBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgVXNlcnMuaGFzTWFueShtb2RlbHMuUG9zdHMsIHsgZm9yZWlnbktleTogXCJ1c2VySWRcIiwgYXM6IFwiUG9zdHNcIiB9KTtcbiAgICAgIFVzZXJzLmhhc01hbnkobW9kZWxzLkNvbW1lbnRzLCB7IGZvcmVpZ25LZXk6IFwidXNlcklkXCIsIGFzOiBcIkNvbW1lbnRzXCIgfSk7XG4gICAgfVxuICB9XG4gIFVzZXJzLmluaXQoXG4gICAge1xuICAgICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlVVSUQsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogc2VxdWVsaXplLmZuKFwidXVpZF9nZW5lcmF0ZV92NFwiKSxcbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkdcbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgcmVzZXRMaW5rOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICB9LFxuXG4gICAgfSxcbiAgICB7XG4gICAgICBzZXF1ZWxpemUsXG4gICAgICBtb2RlbE5hbWU6IFwiVXNlcnNcIixcbiAgICB9XG4gICk7XG4gIHJldHVybiBVc2Vycztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FBQ0E7O2VBQ2UsQ0FBQ0EsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3ZDLE1BQU1DLEtBQU4sU0FBb0JDLGdCQUFwQixDQUEwQjtJQUNSLE9BQVRDLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCSCxLQUFLLENBQUNJLE9BQU4sQ0FBY0QsTUFBTSxDQUFDRSxLQUFyQixFQUE0QjtRQUFFQyxVQUFVLEVBQUUsUUFBZDtRQUF3QkMsRUFBRSxFQUFFO01BQTVCLENBQTVCO01BQ0FQLEtBQUssQ0FBQ0ksT0FBTixDQUFjRCxNQUFNLENBQUNLLFFBQXJCLEVBQStCO1FBQUVGLFVBQVUsRUFBRSxRQUFkO1FBQXdCQyxFQUFFLEVBQUU7TUFBNUIsQ0FBL0I7SUFDRDs7RUFKdUI7O0VBTTFCUCxLQUFLLENBQUNTLElBQU4sQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsSUFBSSxFQUFFWixTQUFTLENBQUNhLElBRGQ7TUFFRkMsU0FBUyxFQUFFLEtBRlQ7TUFHRkMsVUFBVSxFQUFFLElBSFY7TUFJRkMsWUFBWSxFQUFFakIsU0FBUyxDQUFDa0IsRUFBVixDQUFhLGtCQUFiO0lBSlosQ0FETjtJQU9FQyxJQUFJLEVBQUU7TUFDSk4sSUFBSSxFQUFFWixTQUFTLENBQUNtQjtJQURaLENBUFI7SUFVRUMsS0FBSyxFQUFFO01BQ0xSLElBQUksRUFBRVosU0FBUyxDQUFDbUIsTUFEWDtNQUVMTCxTQUFTLEVBQUU7SUFGTixDQVZUO0lBY0VPLFFBQVEsRUFBRTtNQUNSVCxJQUFJLEVBQUVaLFNBQVMsQ0FBQ21CLE1BRFI7TUFFUkwsU0FBUyxFQUFFO0lBRkgsQ0FkWjtJQWtCRVEsU0FBUyxFQUFFO01BQ1RWLElBQUksRUFBRVosU0FBUyxDQUFDbUI7SUFEUDtFQWxCYixDQURGLEVBd0JFO0lBQ0VwQixTQURGO0lBRUV3QixTQUFTLEVBQUU7RUFGYixDQXhCRjtFQTZCQSxPQUFPdEIsS0FBUDtBQUNELEMifQ==","map":{"version":3,"names":["sequelize","DataTypes","Users","Model","associate","models","hasMany","Posts","foreignKey","as","Comments","init","id","type","UUID","allowNull","primaryKey","defaultValue","fn","name","STRING","email","password","resetLink","modelName"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["user.js"],"sourcesContent":["\"use strict\";\nimport { Model } from \"sequelize\";\nexport default (sequelize, DataTypes) => {\n  class Users extends Model {\n    static associate(models) {\n      Users.hasMany(models.Posts, { foreignKey: \"userId\", as: \"Posts\" });\n      Users.hasMany(models.Comments, { foreignKey: \"userId\", as: \"Comments\" });\n    }\n  }\n  Users.init(\n    {\n      id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        primaryKey: true,\n        defaultValue: sequelize.fn(\"uuid_generate_v4\"),\n      },\n      name: {\n        type: DataTypes.STRING\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      password: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      resetLink: {\n        type: DataTypes.STRING,\n      },\n\n    },\n    {\n      sequelize,\n      modelName: \"Users\",\n    }\n  );\n  return Users;\n};\n"],"mappings":"AAAA;;;;;;;AACA;;eACe,CAACA,SAAD,EAAYC,SAAZ,KAA0B;EACvC,MAAMC,KAAN,SAAoBC,gBAApB,CAA0B;IACR,OAATC,SAAS,CAACC,MAAD,EAAS;MACvBH,KAAK,CAACI,OAAN,CAAcD,MAAM,CAACE,KAArB,EAA4B;QAAEC,UAAU,EAAE,QAAd;QAAwBC,EAAE,EAAE;MAA5B,CAA5B;MACAP,KAAK,CAACI,OAAN,CAAcD,MAAM,CAACK,QAArB,EAA+B;QAAEF,UAAU,EAAE,QAAd;QAAwBC,EAAE,EAAE;MAA5B,CAA/B;IACD;;EAJuB;;EAM1BP,KAAK,CAACS,IAAN,CACE;IACEC,EAAE,EAAE;MACFC,IAAI,EAAEZ,SAAS,CAACa,IADd;MAEFC,SAAS,EAAE,KAFT;MAGFC,UAAU,EAAE,IAHV;MAIFC,YAAY,EAAEjB,SAAS,CAACkB,EAAV,CAAa,kBAAb;IAJZ,CADN;IAOEC,IAAI,EAAE;MACJN,IAAI,EAAEZ,SAAS,CAACmB;IADZ,CAPR;IAUEC,KAAK,EAAE;MACLR,IAAI,EAAEZ,SAAS,CAACmB,MADX;MAELL,SAAS,EAAE;IAFN,CAVT;IAcEO,QAAQ,EAAE;MACRT,IAAI,EAAEZ,SAAS,CAACmB,MADR;MAERL,SAAS,EAAE;IAFH,CAdZ;IAkBEQ,SAAS,EAAE;MACTV,IAAI,EAAEZ,SAAS,CAACmB;IADP;EAlBb,CADF,EAwBE;IACEpB,SADF;IAEEwB,SAAS,EAAE;EAFb,CAxBF;EA6BA,OAAOtB,KAAP;AACD,C"}},"mtime":1663585595192},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/Errors.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorHandling = void 0;\n\nconst ErrorHandling = (res, status = 500) => {\n  // console.log(\">>>>>>>>>>>>>>>>>>>>>res\", res)\n  const error = {\n    status,\n    message: \"\"\n  };\n\n  switch (status) {\n    case 400:\n      error.status = 400;\n      error.message = \"Bad request\";\n      break;\n\n    case 401:\n      error.status = 401;\n      error.message = \"Invalid Authentication Credentials\";\n      break;\n\n    case 402:\n      error.status = 402;\n      error.message = \"Payment Required\";\n      break;\n\n    case 403:\n      error.status = 403;\n      error.message = \"Forbidden response\";\n\n    default:\n      404;\n      error.status = 404;\n      error.message = \"User Not Found\";\n  }\n\n  return res.json(error);\n};\n\nexports.ErrorHandling = ErrorHandling;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFcnJvckhhbmRsaW5nIiwicmVzIiwic3RhdHVzIiwiZXJyb3IiLCJtZXNzYWdlIiwianNvbiJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiRXJyb3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFcnJvckhhbmRsaW5nID0gKHJlcywgc3RhdHVzID0gNTAwKSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKFwiPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+cmVzXCIsIHJlcylcbiAgY29uc3QgZXJyb3IgPSB7IHN0YXR1cywgbWVzc2FnZTogXCJcIiB9XG5cbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlIDQwMDpcbiAgICAgIGVycm9yLnN0YXR1cyA9IDQwMDtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSBcIkJhZCByZXF1ZXN0XCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQwMTpcbiAgICAgIGVycm9yLnN0YXR1cyA9IDQwMTtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSBcIkludmFsaWQgQXV0aGVudGljYXRpb24gQ3JlZGVudGlhbHNcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNDAyOlxuICAgICAgZXJyb3Iuc3RhdHVzID0gNDAyO1xuICAgICAgZXJyb3IubWVzc2FnZSA9IFwiUGF5bWVudCBSZXF1aXJlZFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0MDM6XG4gICAgICBlcnJvci5zdGF0dXMgPSA0MDM7XG4gICAgICBlcnJvci5tZXNzYWdlID0gXCJGb3JiaWRkZW4gcmVzcG9uc2VcIjtcbiAgICBkZWZhdWx0OiA0MDQ7XG4gICAgICBlcnJvci5zdGF0dXMgPSA0MDRcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSBcIlVzZXIgTm90IEZvdW5kXCI7XG4gIH1cblxuICByZXR1cm4gcmVzLmpzb24oZXJyb3IpO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLGFBQWEsR0FBRyxDQUFDQyxHQUFELEVBQU1DLE1BQU0sR0FBRyxHQUFmLEtBQXVCO0VBQ2xEO0VBQ0EsTUFBTUMsS0FBSyxHQUFHO0lBQUVELE1BQUY7SUFBVUUsT0FBTyxFQUFFO0VBQW5CLENBQWQ7O0VBRUEsUUFBUUYsTUFBUjtJQUNFLEtBQUssR0FBTDtNQUNFQyxLQUFLLENBQUNELE1BQU4sR0FBZSxHQUFmO01BQ0FDLEtBQUssQ0FBQ0MsT0FBTixHQUFnQixhQUFoQjtNQUNBOztJQUNGLEtBQUssR0FBTDtNQUNFRCxLQUFLLENBQUNELE1BQU4sR0FBZSxHQUFmO01BQ0FDLEtBQUssQ0FBQ0MsT0FBTixHQUFnQixvQ0FBaEI7TUFDQTs7SUFDRixLQUFLLEdBQUw7TUFDRUQsS0FBSyxDQUFDRCxNQUFOLEdBQWUsR0FBZjtNQUNBQyxLQUFLLENBQUNDLE9BQU4sR0FBZ0Isa0JBQWhCO01BQ0E7O0lBQ0YsS0FBSyxHQUFMO01BQ0VELEtBQUssQ0FBQ0QsTUFBTixHQUFlLEdBQWY7TUFDQUMsS0FBSyxDQUFDQyxPQUFOLEdBQWdCLG9CQUFoQjs7SUFDRjtNQUFTO01BQ1BELEtBQUssQ0FBQ0QsTUFBTixHQUFlLEdBQWY7TUFDQUMsS0FBSyxDQUFDQyxPQUFOLEdBQWdCLGdCQUFoQjtFQWxCSjs7RUFxQkEsT0FBT0gsR0FBRyxDQUFDSSxJQUFKLENBQVNGLEtBQVQsQ0FBUDtBQUNELENBMUJNIn0=","map":{"version":3,"names":["ErrorHandling","res","status","error","message","json"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/","sources":["Errors.js"],"sourcesContent":["export const ErrorHandling = (res, status = 500) => {\n  // console.log(\">>>>>>>>>>>>>>>>>>>>>res\", res)\n  const error = { status, message: \"\" }\n\n  switch (status) {\n    case 400:\n      error.status = 400;\n      error.message = \"Bad request\";\n      break;\n    case 401:\n      error.status = 401;\n      error.message = \"Invalid Authentication Credentials\";\n      break;\n    case 402:\n      error.status = 402;\n      error.message = \"Payment Required\";\n      break;\n    case 403:\n      error.status = 403;\n      error.message = \"Forbidden response\";\n    default: 404;\n      error.status = 404\n      error.message = \"User Not Found\";\n  }\n\n  return res.json(error);\n}"],"mappings":";;;;;;;AAAO,MAAMA,aAAa,GAAG,CAACC,GAAD,EAAMC,MAAM,GAAG,GAAf,KAAuB;EAClD;EACA,MAAMC,KAAK,GAAG;IAAED,MAAF;IAAUE,OAAO,EAAE;EAAnB,CAAd;;EAEA,QAAQF,MAAR;IACE,KAAK,GAAL;MACEC,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,aAAhB;MACA;;IACF,KAAK,GAAL;MACED,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,oCAAhB;MACA;;IACF,KAAK,GAAL;MACED,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,kBAAhB;MACA;;IACF,KAAK,GAAL;MACED,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,oBAAhB;;IACF;MAAS;MACPD,KAAK,CAACD,MAAN,GAAe,GAAf;MACAC,KAAK,CAACC,OAAN,GAAgB,gBAAhB;EAlBJ;;EAqBA,OAAOH,GAAG,CAACI,IAAJ,CAASF,KAAT,CAAP;AACD,CA1BM"}},"mtime":1663322808296},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _Post = require(\"../controllers/Post.js\");\n\nvar _Authentication = require(\"../middleware/Authentication.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post(\"/\", _Authentication.Authentication, _Post.AddPost);\nrouter.put(\"/:id/:pid\", _Authentication.Authentication, _Post.updatePosts);\nrouter.delete(\"/:id/:pid\", _Authentication.Authentication, _Post.deletePosts);\nrouter.get(\"/:title\", _Post.searchPosts);\nrouter.get(\"/\", _Authentication.Authentication, _Post.myPosts);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsIkF1dGhlbnRpY2F0aW9uIiwiQWRkUG9zdCIsInB1dCIsInVwZGF0ZVBvc3RzIiwiZGVsZXRlIiwiZGVsZXRlUG9zdHMiLCJnZXQiLCJzZWFyY2hQb3N0cyIsIm15UG9zdHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiUG9zdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHtcbiAgQWRkUG9zdCxcbiAgZGVsZXRlUG9zdHMsXG4gIG15UG9zdHMsXG4gIHNlYXJjaFBvc3RzLFxuICB1cGRhdGVQb3N0cyxcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1Bvc3QuanNcIjtcbmltcG9ydCB7IEF1dGhlbnRpY2F0aW9uIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvQXV0aGVudGljYXRpb24uanNcIjtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvXCIsIEF1dGhlbnRpY2F0aW9uLCBBZGRQb3N0KTtcbnJvdXRlci5wdXQoXCIvOmlkLzpwaWRcIiwgQXV0aGVudGljYXRpb24sIHVwZGF0ZVBvc3RzKTtcbnJvdXRlci5kZWxldGUoXCIvOmlkLzpwaWRcIiwgQXV0aGVudGljYXRpb24sIGRlbGV0ZVBvc3RzKTtcbnJvdXRlci5nZXQoXCIvOnRpdGxlXCIsIHNlYXJjaFBvc3RzKTtcblxucm91dGVyLmdldChcIi9cIiwgQXV0aGVudGljYXRpb24sIG15UG9zdHMpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFPQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxHQUFaLEVBQWlCQyw4QkFBakIsRUFBaUNDLGFBQWpDO0FBQ0FMLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLFdBQVgsRUFBd0JGLDhCQUF4QixFQUF3Q0csaUJBQXhDO0FBQ0FQLE1BQU0sQ0FBQ1EsTUFBUCxDQUFjLFdBQWQsRUFBMkJKLDhCQUEzQixFQUEyQ0ssaUJBQTNDO0FBQ0FULE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLFNBQVgsRUFBc0JDLGlCQUF0QjtBQUVBWCxNQUFNLENBQUNVLEdBQVAsQ0FBVyxHQUFYLEVBQWdCTiw4QkFBaEIsRUFBZ0NRLGFBQWhDO2VBRWVaLE0ifQ==","map":{"version":3,"names":["router","express","Router","post","Authentication","AddPost","put","updatePosts","delete","deletePosts","get","searchPosts","myPosts"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/","sources":["Post.js"],"sourcesContent":["import express from \"express\";\nimport {\n  AddPost,\n  deletePosts,\n  myPosts,\n  searchPosts,\n  updatePosts,\n} from \"../controllers/Post.js\";\nimport { Authentication } from \"../middleware/Authentication.js\";\n\nconst router = express.Router();\n\nrouter.post(\"/\", Authentication, AddPost);\nrouter.put(\"/:id/:pid\", Authentication, updatePosts);\nrouter.delete(\"/:id/:pid\", Authentication, deletePosts);\nrouter.get(\"/:title\", searchPosts);\n\nrouter.get(\"/\", Authentication, myPosts);\n\nexport default router;\n"],"mappings":";;;;;;;AAAA;;AACA;;AAOA;;;;AAEA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,8BAAjB,EAAiCC,aAAjC;AACAL,MAAM,CAACM,GAAP,CAAW,WAAX,EAAwBF,8BAAxB,EAAwCG,iBAAxC;AACAP,MAAM,CAACQ,MAAP,CAAc,WAAd,EAA2BJ,8BAA3B,EAA2CK,iBAA3C;AACAT,MAAM,CAACU,GAAP,CAAW,SAAX,EAAsBC,iBAAtB;AAEAX,MAAM,CAACU,GAAP,CAAW,GAAX,EAAgBN,8BAAhB,EAAgCQ,aAAhC;eAEeZ,M"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updatePosts = exports.searchPosts = exports.myPosts = exports.getPosts = exports.deletePosts = exports.AddPost = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nvar _elasticsearch = _interopRequireDefault(require(\"../config/elasticsearch.js\"));\n\nvar _Errors = require(\"../middleware/Errors.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  Users,\n  Posts,\n  Comments\n} = _models.default;\n\nconst AddPost = async (req, res) => {\n  const {\n    userId,\n    title,\n    body\n  } = req.body;\n\n  try {\n    const addNewPost = await Posts.create({\n      userId: userId,\n      title: title,\n      body: body\n    });\n    const C_post = await _elasticsearch.default.index({\n      index: \"posts\",\n      body: addNewPost\n    });\n    return res.json(C_post);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.AddPost = AddPost;\n\nconst getPosts = async (req, res) => {\n  try {\n    const getAll = await Posts.findAll({\n      include: {\n        model: Comments,\n        as: 'Comments'\n      }\n    });\n    res.json(getAll);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.getPosts = getPosts;\n\nconst updatePosts = async (req, res) => {\n  const {\n    id,\n    pid\n  } = req.params;\n\n  try {\n    const updatePost = await Posts.update({ ...req.body\n    }, {\n      where: {\n        id: id\n      }\n    });\n    const update = await Posts.findOne({\n      where: {\n        id: id\n      }\n    });\n    const newValues = Object.assign(update, { ...req.body\n    });\n    const U_post = await _elasticsearch.default.update({\n      index: \"posts\",\n      id: pid,\n      body: {\n        doc: newValues\n      }\n    });\n    return res.json(`Updated Successfully Id = ${id}`);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.updatePosts = updatePosts;\n\nconst deletePosts = async (req, res) => {\n  try {\n    const {\n      id,\n      pid\n    } = req.params;\n    const deletePosts = await Posts.destroy({\n      where: {\n        id: id\n      }\n    });\n    const D_posts = await _elasticsearch.default.delete({\n      index: \"posts\",\n      id: pid\n    });\n    return res.json(`Successfully Deleted Id = ${id}`);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.deletePosts = deletePosts;\n\nconst searchPosts = async (req, res) => {\n  let query = {\n    index: \"posts\",\n    body: {\n      query: {\n        query_string: {\n          query: req.params.title,\n          default_field: \"*\"\n        }\n      }\n    }\n  };\n\n  try {\n    const C_post = await _elasticsearch.default.search(query);\n    return res.json(C_post.body.hits.hits);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.searchPosts = searchPosts;\n\nconst myPosts = async (req, res) => {\n  try {\n    const LoginDetails = await Users.findAll({\n      where: {\n        email: req.user.user.email\n      }\n    });\n    if (!LoginDetails) return res.json(`Un Authorized Access`);else {\n      const myPosts = await Posts.findAll({\n        where: {\n          userId: LoginDetails[0].id\n        }\n      });\n      if (!myPosts) return res.json(`You haven't Posted Anything!!`);else return res.json(myPosts);\n    }\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.myPosts = myPosts;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VycyIsIlBvc3RzIiwiQ29tbWVudHMiLCJtb2RlbCIsIkFkZFBvc3QiLCJyZXEiLCJyZXMiLCJ1c2VySWQiLCJ0aXRsZSIsImJvZHkiLCJhZGROZXdQb3N0IiwiY3JlYXRlIiwiQ19wb3N0IiwiY2xpZW50IiwiaW5kZXgiLCJqc29uIiwiZXJyb3IiLCJFcnJvckhhbmRsaW5nIiwiZ2V0UG9zdHMiLCJnZXRBbGwiLCJmaW5kQWxsIiwiaW5jbHVkZSIsImFzIiwidXBkYXRlUG9zdHMiLCJpZCIsInBpZCIsInBhcmFtcyIsInVwZGF0ZVBvc3QiLCJ1cGRhdGUiLCJ3aGVyZSIsImZpbmRPbmUiLCJuZXdWYWx1ZXMiLCJPYmplY3QiLCJhc3NpZ24iLCJVX3Bvc3QiLCJkb2MiLCJkZWxldGVQb3N0cyIsImRlc3Ryb3kiLCJEX3Bvc3RzIiwiZGVsZXRlIiwic2VhcmNoUG9zdHMiLCJxdWVyeSIsInF1ZXJ5X3N0cmluZyIsImRlZmF1bHRfZmllbGQiLCJzZWFyY2giLCJoaXRzIiwibXlQb3N0cyIsIkxvZ2luRGV0YWlscyIsImVtYWlsIiwidXNlciJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlBvc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVsIGZyb20gJy4uL21vZGVscyc7XG5pbXBvcnQgY2xpZW50IGZyb20gJy4uL2NvbmZpZy9lbGFzdGljc2VhcmNoLmpzJztcbmltcG9ydCB7IEVycm9ySGFuZGxpbmcgfSBmcm9tICcuLi9taWRkbGV3YXJlL0Vycm9ycy5qcyc7XG5cbmNvbnN0IHsgIFVzZXJzLFBvc3RzLENvbW1lbnRzIH0gPSBtb2RlbDtcblxuZXhwb3J0IGNvbnN0IEFkZFBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IHVzZXJJZCwgdGl0bGUsIGJvZHkgfSA9IHJlcS5ib2R5O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZGROZXdQb3N0ID0gYXdhaXQgUG9zdHMuY3JlYXRlKHtcbiAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgYm9keTogYm9keSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgQ19wb3N0ID0gYXdhaXQgY2xpZW50LmluZGV4KHtcbiAgICAgICAgaW5kZXg6IFwicG9zdHNcIixcbiAgICAgICAgYm9keTogYWRkTmV3UG9zdCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKENfcG9zdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIEVycm9ySGFuZGxpbmcocmVzKTtcbiAgICB9XG4gIH1cblxuZXhwb3J0IGNvbnN0IGdldFBvc3RzID0gYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGdldEFsbCA9IGF3YWl0IFBvc3RzLmZpbmRBbGwoe1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBDb21tZW50cyxcbiAgICAgICAgICAgICAgICBhczogJ0NvbW1lbnRzJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLmpzb24oZ2V0QWxsKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBFcnJvckhhbmRsaW5nKHJlcyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGlkLCBwaWQgfSA9IHJlcS5wYXJhbXM7XG4gIHRyeSB7XG4gICAgY29uc3QgdXBkYXRlUG9zdCA9IGF3YWl0IFBvc3RzLnVwZGF0ZSh7Li4ucmVxLmJvZHl9LHt3aGVyZToge1xuICAgICAgaWQ6IGlkXG4gICAgfX0pO1xuICAgIGNvbnN0IHVwZGF0ZSA9IGF3YWl0IFBvc3RzLmZpbmRPbmUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgaWQ6IGlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgbmV3VmFsdWVzID0gT2JqZWN0LmFzc2lnbih1cGRhdGUsey4uLnJlcS5ib2R5fSlcbiAgICBjb25zdCBVX3Bvc3QgPSBhd2FpdCBjbGllbnQudXBkYXRlKHtcbiAgICAgIGluZGV4OiBcInBvc3RzXCIsXG4gICAgICBpZDogcGlkLFxuICAgICAgYm9keToge1xuICAgICAgICBkb2M6IG5ld1ZhbHVlc1xuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHJlcy5qc29uKGBVcGRhdGVkIFN1Y2Nlc3NmdWxseSBJZCA9ICR7aWR9YCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVQb3N0cyA9IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGlkLCBwaWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgZGVsZXRlUG9zdHMgPSBhd2FpdCBQb3N0cy5kZXN0cm95KHsgd2hlcmU6IHsgaWQ6IGlkIH0gfSk7XG4gICAgY29uc3QgRF9wb3N0cyA9IGF3YWl0IGNsaWVudC5kZWxldGUoe1xuICAgICAgaW5kZXg6IFwicG9zdHNcIixcbiAgICAgIGlkOiBwaWRcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmpzb24oYFN1Y2Nlc3NmdWxseSBEZWxldGVkIElkID0gJHtpZH1gKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBFcnJvckhhbmRsaW5nKHJlcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNlYXJjaFBvc3RzID0gYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIGxldCBxdWVyeSA9IHtcbiAgICAgICAgaW5kZXg6IFwicG9zdHNcIixcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmc6IHtcbiAgICAgICAgICAgICAgcXVlcnk6ICByZXEucGFyYW1zLnRpdGxlLFxuICAgICAgICAgICAgICBkZWZhdWx0X2ZpZWxkOiBcIipcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IENfcG9zdCA9IGF3YWl0IGNsaWVudC5zZWFyY2gocXVlcnkpO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oQ19wb3N0LmJvZHkuaGl0cy5oaXRzKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEVycm9ySGFuZGxpbmcocmVzKTtcbiAgICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IG15UG9zdHMgPSBhc3luYyhyZXEscmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgICBjb25zdCBMb2dpbkRldGFpbHMgPSBhd2FpdCBVc2Vycy5maW5kQWxsKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBlbWFpbDogcmVxLnVzZXIudXNlci5lbWFpbFxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgaWYoIUxvZ2luRGV0YWlscykgcmV0dXJuIHJlcy5qc29uKGBVbiBBdXRob3JpemVkIEFjY2Vzc2ApXG4gICAgICBlbHNle1xuICAgICAgICAgIGNvbnN0IG15UG9zdHMgPSBhd2FpdCBQb3N0cy5maW5kQWxsKHtcbiAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgIHVzZXJJZDogTG9naW5EZXRhaWxzWzBdLmlkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZighbXlQb3N0cykgcmV0dXJuIHJlcy5qc29uKGBZb3UgaGF2ZW4ndCBQb3N0ZWQgQW55dGhpbmchIWApO1xuICAgICAgICAgIGVsc2UgcmV0dXJuIHJlcy5qc29uKG15UG9zdHMpO1xuICAgICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICB9XG59Il0sIm1hcHBpbmdz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","map":{"version":3,"names":["Users","Posts","Comments","model","AddPost","req","res","userId","title","body","addNewPost","create","C_post","client","index","json","error","ErrorHandling","getPosts","getAll","findAll","include","as","updatePosts","id","pid","params","updatePost","update","where","findOne","newValues","Object","assign","U_post","doc","deletePosts","destroy","D_posts","delete","searchPosts","query","query_string","default_field","search","hits","myPosts","LoginDetails","email","user"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/","sources":["Post.js"],"sourcesContent":["import model from '../models';\nimport client from '../config/elasticsearch.js';\nimport { ErrorHandling } from '../middleware/Errors.js';\n\nconst {  Users,Posts,Comments } = model;\n\nexport const AddPost = async (req, res) => {\n    const { userId, title, body } = req.body;\n    try {\n      const addNewPost = await Posts.create({\n        userId: userId,\n        title: title,\n        body: body,\n      });\n      const C_post = await client.index({\n        index: \"posts\",\n        body: addNewPost,\n      });\n      return res.json(C_post);\n    } catch (error) {\n      ErrorHandling(res);\n    }\n  }\n\nexport const getPosts = async(req,res) => {\n    try {\n        const getAll = await Posts.findAll({\n            include: {\n                model: Comments,\n                as: 'Comments'\n            }\n        });\n        res.json(getAll);\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\n\nexport const updatePosts = async (req, res) => {\n    const { id, pid } = req.params;\n  try {\n    const updatePost = await Posts.update({...req.body},{where: {\n      id: id\n    }});\n    const update = await Posts.findOne({\n      where: {\n        id: id\n      }\n    });\n    const newValues = Object.assign(update,{...req.body})\n    const U_post = await client.update({\n      index: \"posts\",\n      id: pid,\n      body: {\n        doc: newValues\n      }\n    })\n    return res.json(`Updated Successfully Id = ${id}`);\n  } catch (error) {\n    ErrorHandling(res);\n  }\n}\n\nexport const deletePosts = async(req,res) => {\n  try {\n    const { id, pid } = req.params;\n    const deletePosts = await Posts.destroy({ where: { id: id } });\n    const D_posts = await client.delete({\n      index: \"posts\",\n      id: pid\n    });\n    return res.json(`Successfully Deleted Id = ${id}`);\n  } catch (error) {\n    ErrorHandling(res);\n  }\n}\n\nexport const searchPosts = async(req,res) => {\n    let query = {\n        index: \"posts\",\n        body: {\n          query: {\n            query_string: {\n              query:  req.params.title,\n              default_field: \"*\",\n            },\n          },\n        }\n      };\n      try {\n        const C_post = await client.search(query);\n        return res.json(C_post.body.hits.hits);\n      } catch (error) {\n        ErrorHandling(res);\n      }\n}\n\nexport const myPosts = async(req,res) => {\n  try {\n      const LoginDetails = await Users.findAll({\n        where: {\n          email: req.user.user.email\n        }\n      })\n      if(!LoginDetails) return res.json(`Un Authorized Access`)\n      else{\n          const myPosts = await Posts.findAll({\n              where: {\n                  userId: LoginDetails[0].id\n              }\n          });\n          if(!myPosts) return res.json(`You haven't Posted Anything!!`);\n          else return res.json(myPosts);\n      }\n  } catch (error) {\n      ErrorHandling(res);\n  }\n}"],"mappings":"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"}},"mtime":1663326264006},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/elasticsearch.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst {\n  Client\n} = require(\"@elastic/elasticsearch\");\n\nconst client = new Client({\n  node: \"http://localhost:9200\"\n});\nvar _default = client;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGllbnQiLCJyZXF1aXJlIiwiY2xpZW50Iiwibm9kZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJlbGFzdGljc2VhcmNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgQ2xpZW50IH0gPSByZXF1aXJlKFwiQGVsYXN0aWMvZWxhc3RpY3NlYXJjaFwiKTtcbmNvbnN0IGNsaWVudCA9IG5ldyBDbGllbnQoe1xuICBub2RlOiBcImh0dHA6Ly9sb2NhbGhvc3Q6OTIwMFwiLFxufSk7XG5leHBvcnQgZGVmYXVsdCBjbGllbnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTTtFQUFFQTtBQUFGLElBQWFDLE9BQU8sQ0FBQyx3QkFBRCxDQUExQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUcsSUFBSUYsTUFBSixDQUFXO0VBQ3hCRyxJQUFJLEVBQUU7QUFEa0IsQ0FBWCxDQUFmO2VBR2VELE0ifQ==","map":{"version":3,"names":["Client","require","client","node"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/","sources":["elasticsearch.js"],"sourcesContent":["const { Client } = require(\"@elastic/elasticsearch\");\nconst client = new Client({\n  node: \"http://localhost:9200\",\n});\nexport default client;"],"mappings":";;;;;;;AAAA,MAAM;EAAEA;AAAF,IAAaC,OAAO,CAAC,wBAAD,CAA1B;;AACA,MAAMC,MAAM,GAAG,IAAIF,MAAJ,CAAW;EACxBG,IAAI,EAAE;AADkB,CAAX,CAAf;eAGeD,M"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/Authentication.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authentication = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst Authentication = (req, res, next) => {\n  const authHeader = req.headers['authorization'];\n  const token = authHeader && authHeader.split(' ')[1];\n  if (token == null) return res.sendStatus(401);\n\n  _jsonwebtoken.default.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, user) => {\n    if (err) return res.json(`User is not Authorized Access Denied!`);\n    req.user = user;\n    next();\n  });\n};\n\nexports.Authentication = Authentication;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJBdXRoZW50aWNhdGlvbiIsInJlcSIsInJlcyIsIm5leHQiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsInRva2VuIiwic3BsaXQiLCJzZW5kU3RhdHVzIiwiand0IiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJlcnIiLCJ1c2VyIiwianNvbiJdLCJzb3VyY2VSb290IjoiL2hvbWUvdGFsaGEtc2hha2lsL0Rlc2t0b3AvVHJhaW5pbmcvYmxvZy1wb3N0LXByb2plY3QvcGFja2FnZXMvYXBpL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBjb25zdCBBdXRoZW50aWNhdGlvbiA9IChyZXEscmVzLG5leHQpID0+IHtcbiAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXTtcbiAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIgJiYgYXV0aEhlYWRlci5zcGxpdCgnICcpWzFdO1xuICAgIGlmKHRva2VuID09IG51bGwpIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDEpO1xuICAgIGp3dC52ZXJpZnkodG9rZW4scHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwoZXJyLHVzZXIpID0+IHtcbiAgICAgICAgaWYoZXJyKSByZXR1cm4gcmVzLmpzb24oYFVzZXIgaXMgbm90IEF1dGhvcml6ZWQgQWNjZXNzIERlbmllZCFgKTtcbiAgICAgICAgcmVxLnVzZXIgPSB1c2VyO1xuICAgICAgICBuZXh0KCk7XG4gICAgfSlcbn1cblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQUEsZUFBQSxDQUFPQyxNQUFQOztBQUVPLE1BQU1DLGNBQWMsR0FBRyxDQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBU0MsSUFBVCxLQUFrQjtFQUM1QyxNQUFNQyxVQUFVLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZLGVBQVosQ0FBbkI7RUFDQSxNQUFNQyxLQUFLLEdBQUdGLFVBQVUsSUFBSUEsVUFBVSxDQUFDRyxLQUFYLENBQWlCLEdBQWpCLEVBQXNCLENBQXRCLENBQTVCO0VBQ0EsSUFBR0QsS0FBSyxJQUFJLElBQVosRUFBa0IsT0FBT0osR0FBRyxDQUFDTSxVQUFKLENBQWUsR0FBZixDQUFQOztFQUNsQkMscUJBQUEsQ0FBSUMsTUFBSixDQUFXSixLQUFYLEVBQWlCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsbUJBQTdCLEVBQWlELENBQUNDLEdBQUQsRUFBS0MsSUFBTCxLQUFjO0lBQzNELElBQUdELEdBQUgsRUFBUSxPQUFPWixHQUFHLENBQUNjLElBQUosQ0FBVSx1Q0FBVixDQUFQO0lBQ1JmLEdBQUcsQ0FBQ2MsSUFBSixHQUFXQSxJQUFYO0lBQ0FaLElBQUk7RUFDUCxDQUpEO0FBS0gsQ0FUTSJ9","map":{"version":3,"names":["dotenv","config","Authentication","req","res","next","authHeader","headers","token","split","sendStatus","jwt","verify","process","env","ACCESS_TOKEN_SECRET","err","user","json"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/","sources":["Authentication.js"],"sourcesContent":["import dotenv from 'dotenv';\nimport jwt from 'jsonwebtoken';\n\ndotenv.config();\n\nexport const Authentication = (req,res,next) => {\n    const authHeader = req.headers['authorization'];\n    const token = authHeader && authHeader.split(' ')[1];\n    if(token == null) return res.sendStatus(401);\n    jwt.verify(token,process.env.ACCESS_TOKEN_SECRET,(err,user) => {\n        if(err) return res.json(`User is not Authorized Access Denied!`);\n        req.user = user;\n        next();\n    })\n}\n\n"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,eAAA,CAAOC,MAAP;;AAEO,MAAMC,cAAc,GAAG,CAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,KAAkB;EAC5C,MAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;EACA,MAAMC,KAAK,GAAGF,UAAU,IAAIA,UAAU,CAACG,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAA5B;EACA,IAAGD,KAAK,IAAI,IAAZ,EAAkB,OAAOJ,GAAG,CAACM,UAAJ,CAAe,GAAf,CAAP;;EAClBC,qBAAA,CAAIC,MAAJ,CAAWJ,KAAX,EAAiBK,OAAO,CAACC,GAAR,CAAYC,mBAA7B,EAAiD,CAACC,GAAD,EAAKC,IAAL,KAAc;IAC3D,IAAGD,GAAH,EAAQ,OAAOZ,GAAG,CAACc,IAAJ,CAAU,uCAAV,CAAP;IACRf,GAAG,CAACc,IAAJ,GAAWA,IAAX;IACAZ,IAAI;EACP,CAJD;AAKH,CATM"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/Comment.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _Comment = require(\"../controllers/Comment.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _Comment.getComments);\nrouter.post(\"/\", _Comment.addComment);\nrouter.put(\"/:id\", _Comment.updateComment);\nrouter.delete(\"/:id\", _Comment.deleteComment);\nrouter.get(\"/replies\", _Comment.getRepliesfromComment);\nrouter.post(\"/addReply\", _Comment.addReply);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiZ2V0Q29tbWVudHMiLCJwb3N0IiwiYWRkQ29tbWVudCIsInB1dCIsInVwZGF0ZUNvbW1lbnQiLCJkZWxldGUiLCJkZWxldGVDb21tZW50IiwiZ2V0UmVwbGllc2Zyb21Db21tZW50IiwiYWRkUmVwbHkiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiQ29tbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IGFkZENvbW1lbnQsIGFkZFJlcGx5LCBkZWxldGVDb21tZW50LCBnZXRDb21tZW50cywgZ2V0UmVwbGllc2Zyb21Db21tZW50LCB1cGRhdGVDb21tZW50IH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29tbWVudC5qcyc7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLGdldENvbW1lbnRzKTtcbnJvdXRlci5wb3N0KFwiL1wiLGFkZENvbW1lbnQpO1xucm91dGVyLnB1dChcIi86aWRcIix1cGRhdGVDb21tZW50KTtcbnJvdXRlci5kZWxldGUoXCIvOmlkXCIsZGVsZXRlQ29tbWVudCk7XG5yb3V0ZXIuZ2V0KFwiL3JlcGxpZXNcIixnZXRSZXBsaWVzZnJvbUNvbW1lbnQpO1xucm91dGVyLnBvc3QoXCIvYWRkUmVwbHlcIixhZGRSZXBseSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWVDLG9CQUFmO0FBQ0FKLE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLEdBQVosRUFBZ0JDLG1CQUFoQjtBQUNBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxNQUFYLEVBQWtCQyxzQkFBbEI7QUFDQVIsTUFBTSxDQUFDUyxNQUFQLENBQWMsTUFBZCxFQUFxQkMsc0JBQXJCO0FBQ0FWLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFVBQVgsRUFBc0JRLDhCQUF0QjtBQUNBWCxNQUFNLENBQUNLLElBQVAsQ0FBWSxXQUFaLEVBQXdCTyxpQkFBeEI7ZUFFZVosTSJ9","map":{"version":3,"names":["router","express","Router","get","getComments","post","addComment","put","updateComment","delete","deleteComment","getRepliesfromComment","addReply"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/","sources":["Comment.js"],"sourcesContent":["import express from 'express';\nimport { addComment, addReply, deleteComment, getComments, getRepliesfromComment, updateComment } from '../controllers/Comment.js';\nconst router = express.Router();\n\nrouter.get(\"/\",getComments);\nrouter.post(\"/\",addComment);\nrouter.put(\"/:id\",updateComment);\nrouter.delete(\"/:id\",deleteComment);\nrouter.get(\"/replies\",getRepliesfromComment);\nrouter.post(\"/addReply\",addReply);\n\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAeC,oBAAf;AACAJ,MAAM,CAACK,IAAP,CAAY,GAAZ,EAAgBC,mBAAhB;AACAN,MAAM,CAACO,GAAP,CAAW,MAAX,EAAkBC,sBAAlB;AACAR,MAAM,CAACS,MAAP,CAAc,MAAd,EAAqBC,sBAArB;AACAV,MAAM,CAACG,GAAP,CAAW,UAAX,EAAsBQ,8BAAtB;AACAX,MAAM,CAACK,IAAP,CAAY,WAAZ,EAAwBO,iBAAxB;eAEeZ,M"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/Comment.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateComment = exports.getRepliesfromComment = exports.getComments = exports.deleteComment = exports.addReply = exports.addComment = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nvar _Errors = require(\"../middleware/Errors.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  Comments\n} = _models.default;\n\nconst addComment = async (req, res) => {\n  const {\n    postId,\n    userId,\n    title,\n    body\n  } = req.body;\n\n  try {\n    const addC = await Comments.create({\n      postId: postId,\n      userId: userId,\n      title: title,\n      body: body\n    });\n    res.json(addC);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.addComment = addComment;\n\nconst getComments = async (req, res) => {\n  try {\n    const getAll = await Comments.findAll();\n    res.json(getAll);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.getComments = getComments;\n\nconst updateComment = async (req, res) => {\n  const update = { ...req.body\n  };\n  const {\n    id\n  } = req.params;\n\n  try {\n    const updateC = await Comments.update(update, {\n      where: {\n        id: id\n      }\n    });\n    res.json(`Successfully Updated Id = ${id}`);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.updateComment = updateComment;\n\nconst deleteComment = async (req, res) => {\n  const {\n    id\n  } = req.params;\n\n  try {\n    const deleteC = await Comments.destroy({\n      where: {\n        id: id\n      }\n    });\n    res.json(`Successfully Deleted Id = ${id}`);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.deleteComment = deleteComment;\n\nconst getRepliesfromComment = async (req, res) => {\n  try {\n    const replies = await Comments.findAll({\n      include: {\n        model: Comments,\n        as: 'Replies'\n      }\n    });\n    res.json(replies);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.getRepliesfromComment = getRepliesfromComment;\n\nconst addReply = async (req, res) => {\n  const {\n    userId,\n    postId,\n    parentId,\n    title,\n    body\n  } = req.body;\n\n  try {\n    const addReply = await Comments.create({\n      userId: userId,\n      postId: postId,\n      parentId: parentId,\n      title: title,\n      body: body\n    });\n    return res.json(addReply);\n  } catch (error) {\n    (0, _Errors.ErrorHandling)(res);\n  }\n};\n\nexports.addReply = addReply;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb21tZW50cyIsIm1vZGVsIiwiYWRkQ29tbWVudCIsInJlcSIsInJlcyIsInBvc3RJZCIsInVzZXJJZCIsInRpdGxlIiwiYm9keSIsImFkZEMiLCJjcmVhdGUiLCJqc29uIiwiZXJyb3IiLCJFcnJvckhhbmRsaW5nIiwiZ2V0Q29tbWVudHMiLCJnZXRBbGwiLCJmaW5kQWxsIiwidXBkYXRlQ29tbWVudCIsInVwZGF0ZSIsImlkIiwicGFyYW1zIiwidXBkYXRlQyIsIndoZXJlIiwiZGVsZXRlQ29tbWVudCIsImRlbGV0ZUMiLCJkZXN0cm95IiwiZ2V0UmVwbGllc2Zyb21Db21tZW50IiwicmVwbGllcyIsImluY2x1ZGUiLCJhcyIsImFkZFJlcGx5IiwicGFyZW50SWQiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJDb21tZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbCBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHsgRXJyb3JIYW5kbGluZyB9IGZyb20gJy4uL21pZGRsZXdhcmUvRXJyb3JzLmpzJztcblxuY29uc3QgeyBDb21tZW50cyB9ID0gbW9kZWw7XG5cbmV4cG9ydCBjb25zdCBhZGRDb21tZW50ID0gYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIGNvbnN0IHsgcG9zdElkLCB1c2VySWQsdGl0bGUsYm9keSB9ID0gcmVxLmJvZHk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWRkQyA9IGF3YWl0IENvbW1lbnRzLmNyZWF0ZSh7cG9zdElkOiBwb3N0SWQsdXNlcklkOiB1c2VySWQsdGl0bGU6IHRpdGxlLGJvZHk6IGJvZHl9KTtcbiAgICAgICAgcmVzLmpzb24oYWRkQyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICAgIH0gXG59XG5cbmV4cG9ydCBjb25zdCBnZXRDb21tZW50cyA9IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBnZXRBbGwgPSBhd2FpdCBDb21tZW50cy5maW5kQWxsKCk7XG4gICAgICAgIHJlcy5qc29uKGdldEFsbCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNvbW1lbnQgPSBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlID0gey4uLnJlcS5ib2R5fTtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUMgPSBhd2FpdCBDb21tZW50cy51cGRhdGUodXBkYXRlLHt3aGVyZToge2lkOiBpZH19KVxuICAgICAgICByZXMuanNvbihgU3VjY2Vzc2Z1bGx5IFVwZGF0ZWQgSWQgPSAke2lkfWApXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgRXJyb3JIYW5kbGluZyhyZXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNvbW1lbnQgPSBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVsZXRlQyA9IGF3YWl0IENvbW1lbnRzLmRlc3Ryb3koe3doZXJlOiB7aWQ6IGlkfX0pXG4gICAgICAgIHJlcy5qc29uKGBTdWNjZXNzZnVsbHkgRGVsZXRlZCBJZCA9ICR7aWR9YCkgOyAgICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBFcnJvckhhbmRsaW5nKHJlcyk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGdldFJlcGxpZXNmcm9tQ29tbWVudCA9IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXBsaWVzICA9IGF3YWl0IENvbW1lbnRzLmZpbmRBbGwoe1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBDb21tZW50cyxcbiAgICAgICAgICAgICAgICBhczogJ1JlcGxpZXMnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5qc29uKHJlcGxpZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEVycm9ySGFuZGxpbmcocmVzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBhZGRSZXBseSA9IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICBjb25zdCB7IHVzZXJJZCxwb3N0SWQscGFyZW50SWQsdGl0bGUsYm9keSB9ID0gcmVxLmJvZHk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWRkUmVwbHkgPSBhd2FpdCBDb21tZW50cy5jcmVhdGUoe3VzZXJJZDogdXNlcklkLHBvc3RJZDogcG9zdElkLHBhcmVudElkOiBwYXJlbnRJZCx0aXRsZTogdGl0bGUsYm9keTogYm9keX0pO1xuICAgICAgICAgcmV0dXJuICAgcmVzLmpzb24oYWRkUmVwbHkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEVycm9ySGFuZGxpbmcocmVzKTtcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNO0VBQUVBO0FBQUYsSUFBZUMsZUFBckI7O0FBRU8sTUFBTUMsVUFBVSxHQUFHLE9BQU1DLEdBQU4sRUFBVUMsR0FBVixLQUFrQjtFQUN4QyxNQUFNO0lBQUVDLE1BQUY7SUFBVUMsTUFBVjtJQUFpQkMsS0FBakI7SUFBdUJDO0VBQXZCLElBQWdDTCxHQUFHLENBQUNLLElBQTFDOztFQUNBLElBQUk7SUFDQSxNQUFNQyxJQUFJLEdBQUcsTUFBTVQsUUFBUSxDQUFDVSxNQUFULENBQWdCO01BQUNMLE1BQU0sRUFBRUEsTUFBVDtNQUFnQkMsTUFBTSxFQUFFQSxNQUF4QjtNQUErQkMsS0FB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","map":{"version":3,"names":["Comments","model","addComment","req","res","postId","userId","title","body","addC","create","json","error","ErrorHandling","getComments","getAll","findAll","updateComment","update","id","params","updateC","where","deleteComment","deleteC","destroy","getRepliesfromComment","replies","include","as","addReply","parentId"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/controllers/","sources":["Comment.js"],"sourcesContent":["import model from '../models';\nimport { ErrorHandling } from '../middleware/Errors.js';\n\nconst { Comments } = model;\n\nexport const addComment = async(req,res) => {\n    const { postId, userId,title,body } = req.body;\n    try {\n        const addC = await Comments.create({postId: postId,userId: userId,title: title,body: body});\n        res.json(addC);\n    } catch (error) {\n        ErrorHandling(res);\n    } \n}\n\nexport const getComments = async(req,res) => {\n    try {\n        const getAll = await Comments.findAll();\n        res.json(getAll);\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\n\nexport const updateComment = async(req,res) => {\n    const update = {...req.body};\n    const { id } = req.params;\n    try {\n        const updateC = await Comments.update(update,{where: {id: id}})\n        res.json(`Successfully Updated Id = ${id}`)\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\n\nexport const deleteComment = async(req,res) => {\n    const {id} = req.params;\n    try {\n        const deleteC = await Comments.destroy({where: {id: id}})\n        res.json(`Successfully Deleted Id = ${id}`) ;       \n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\nexport const getRepliesfromComment = async(req,res) => {\n    try {\n        const replies  = await Comments.findAll({\n            include: {\n                model: Comments,\n                as: 'Replies'\n            }\n        })\n        res.json(replies);\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}\n\nexport const addReply = async(req,res) => {\n    const { userId,postId,parentId,title,body } = req.body;\n    try {\n        const addReply = await Comments.create({userId: userId,postId: postId,parentId: parentId,title: title,body: body});\n         return   res.json(addReply);\n    } catch (error) {\n        ErrorHandling(res);\n    }\n}"],"mappings":"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"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/Pagination.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _Post = require(\"../controllers/Post.js\");\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nvar _Pagination = require(\"../middleware/Pagination.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nconst {\n  Posts\n} = _models.default;\nrouter.get(\"/allPosts\", _Post.getPosts);\nrouter.get(\"/paginated\", (0, _Pagination.PaginatedResults)(Posts), _Pagination.getData);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiUG9zdHMiLCJtb2RlbCIsImdldCIsImdldFBvc3RzIiwiUGFnaW5hdGVkUmVzdWx0cyIsImdldERhdGEiXSwic291cmNlUm9vdCI6Ii9ob21lL3RhbGhhLXNoYWtpbC9EZXNrdG9wL1RyYWluaW5nL2Jsb2ctcG9zdC1wcm9qZWN0L3BhY2thZ2VzL2FwaS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiUGFnaW5hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IGdldFBvc3RzIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvUG9zdC5qcyc7XG5pbXBvcnQgbW9kZWwgZnJvbSAnLi4vbW9kZWxzJztcbmltcG9ydCB7IFBhZ2luYXRlZFJlc3VsdHMsZ2V0RGF0YSB9IGZyb20gJy4uL21pZGRsZXdhcmUvUGFnaW5hdGlvbi5qcyc7XG5cblxuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuY29uc3QgeyBQb3N0cyB9ID0gbW9kZWw7XG5cbnJvdXRlci5nZXQoXCIvYWxsUG9zdHNcIixnZXRQb3N0cyk7XG5yb3V0ZXIuZ2V0KFwiL3BhZ2luYXRlZFwiLCBQYWdpbmF0ZWRSZXN1bHRzKFBvc3RzKSxnZXREYXRhKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBSUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBQSxDQUFRQyxNQUFSLEVBQWY7O0FBQ0EsTUFBTTtFQUFFQztBQUFGLElBQVlDLGVBQWxCO0FBRUFKLE1BQU0sQ0FBQ0ssR0FBUCxDQUFXLFdBQVgsRUFBdUJDLGNBQXZCO0FBQ0FOLE1BQU0sQ0FBQ0ssR0FBUCxDQUFXLFlBQVgsRUFBeUIsSUFBQUUsNEJBQUEsRUFBaUJKLEtBQWpCLENBQXpCLEVBQWlESyxtQkFBakQ7ZUFFZVIsTSJ9","map":{"version":3,"names":["router","express","Router","Posts","model","get","getPosts","PaginatedResults","getData"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/routes/","sources":["Pagination.js"],"sourcesContent":["import express from 'express';\nimport { getPosts } from '../controllers/Post.js';\nimport model from '../models';\nimport { PaginatedResults,getData } from '../middleware/Pagination.js';\n\n\n\nconst router = express.Router();\nconst { Posts } = model;\n\nrouter.get(\"/allPosts\",getPosts);\nrouter.get(\"/paginated\", PaginatedResults(Posts),getData);\n\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAIA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AACA,MAAM;EAAEC;AAAF,IAAYC,eAAlB;AAEAJ,MAAM,CAACK,GAAP,CAAW,WAAX,EAAuBC,cAAvB;AACAN,MAAM,CAACK,GAAP,CAAW,YAAX,EAAyB,IAAAE,4BAAA,EAAiBJ,KAAjB,CAAzB,EAAiDK,mBAAjD;eAEeR,M"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/Pagination.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PaginatedResults = PaginatedResults;\nexports.getData = exports.compare = void 0;\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getData = (req, res) => {\n  const data = res.paginatedResults;\n  return res.json(data);\n};\n\nexports.getData = getData;\n\nfunction PaginatedResults(model) {\n  return async (req, res, next) => {\n    const limit = parseInt(req.query.limit);\n    const cursor = req.query.cursor;\n    let results = {};\n\n    try {\n      results.data = await model.findAll({\n        where: {\n          createdAt: {\n            [_sequelize.default.Op.gte]: cursor\n          }\n        },\n        limit: limit,\n        order: [['createdAt', 'ASC']]\n      });\n      results.next = await compare(cursor, 'gt', limit, model);\n      results.prev = await compare(cursor, 'lt', limit, model);\n      res.paginatedResults = results;\n      next();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\n\nconst compare = async (cursor, condition, limit, model) => {\n  if (condition === 'gt') {\n    const {\n      count,\n      rows\n    } = await model.findAndCountAll({\n      where: {\n        createdAt: {\n          [_sequelize.default.Op.gt]: cursor\n        }\n      },\n      limit: limit,\n      order: [['createdAt', 'ASC']]\n    });\n\n    if (count <= limit) {\n      return null;\n    } else {\n      return rows[rows.length - 1].createdAt;\n    }\n  } else {\n    const {\n      count,\n      rows\n    } = await model.findAndCountAll({\n      where: {\n        createdAt: {\n          [_sequelize.default.Op.lt]: cursor\n        }\n      },\n      limit: limit,\n      order: [['createdAt', 'DESC']]\n    });\n\n    if (count === 0) {\n      return null;\n    } else {\n      return rows[rows.length - 1].createdAt;\n    }\n  }\n};\n\nexports.compare = compare;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXREYXRhIiwicmVxIiwicmVzIiwiZGF0YSIsInBhZ2luYXRlZFJlc3VsdHMiLCJqc29uIiwiUGFnaW5hdGVkUmVzdWx0cyIsIm1vZGVsIiwibmV4dCIsImxpbWl0IiwicGFyc2VJbnQiLCJxdWVyeSIsImN1cnNvciIsInJlc3VsdHMiLCJmaW5kQWxsIiwid2hlcmUiLCJjcmVhdGVkQXQiLCJzZXF1ZWxpemUiLCJPcCIsImd0ZSIsIm9yZGVyIiwiY29tcGFyZSIsInByZXYiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjb25kaXRpb24iLCJjb3VudCIsInJvd3MiLCJmaW5kQW5kQ291bnRBbGwiLCJndCIsImxlbmd0aCIsImx0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL21pZGRsZXdhcmUvIiwic291cmNlcyI6WyJQYWdpbmF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXF1ZWxpemUgZnJvbSBcInNlcXVlbGl6ZVwiO1xuXG5leHBvcnQgY29uc3QgZ2V0RGF0YSA9IChyZXEscmVzKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHJlcy5wYWdpbmF0ZWRSZXN1bHRzO1xuICAgIHJldHVybiByZXMuanNvbihkYXRhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2luYXRlZFJlc3VsdHMobW9kZWwpIHtcbiAgICByZXR1cm4gIGFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHJlcS5xdWVyeS5saW1pdCk7XG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHJlcS5xdWVyeS5jdXJzb3I7XG4gICAgICAgIGxldCByZXN1bHRzID0ge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdHMuZGF0YSA9IGF3YWl0IG1vZGVsLmZpbmRBbGwoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDoge1tzZXF1ZWxpemUuT3AuZ3RlXTogY3Vyc29yfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGltaXQ6IGxpbWl0LFxuICAgICAgICAgICAgICAgIG9yZGVyOiBbWydjcmVhdGVkQXQnLCdBU0MnXV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzdWx0cy5uZXh0ID0gYXdhaXQgY29tcGFyZShjdXJzb3IsJ2d0JyxsaW1pdCxtb2RlbCk7XG4gICAgICAgICAgICByZXN1bHRzLnByZXYgPSBhd2FpdCBjb21wYXJlKGN1cnNvciwnbHQnLGxpbWl0LG1vZGVsKTtcbiAgICAgICAgICAgIHJlcy5wYWdpbmF0ZWRSZXN1bHRzID0gcmVzdWx0cztcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgY29tcGFyZSA9IGFzeW5jKGN1cnNvcixjb25kaXRpb24sbGltaXQsbW9kZWwpID0+IHtcbiAgICBpZihjb25kaXRpb24gPT09J2d0Jyl7XG4gICAgY29uc3QgeyBjb3VudCAsIHJvd3MgfSA9IGF3YWl0IG1vZGVsLmZpbmRBbmRDb3VudEFsbCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgICAgICAgICBbc2VxdWVsaXplLk9wLmd0XTogY3Vyc29yXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICAgICBsaW1pdDogbGltaXQsXG4gICAgICAgICAgICBvcmRlcjogW1snY3JlYXRlZEF0JywnQVNDJ11dXG4gICAgfSlcbiAgICBpZihjb3VudCA8PSAgbGltaXQpe1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgcmV0dXJuIHJvd3Nbcm93cy5sZW5ndGgtMV0uY3JlYXRlZEF0O1xuICAgIH1cbn1cbmVsc2V7XG4gICAgY29uc3QgeyBjb3VudCAsIHJvd3MgfSA9IGF3YWl0IG1vZGVsLmZpbmRBbmRDb3VudEFsbCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgICAgICAgICBbc2VxdWVsaXplLk9wLmx0XTogY3Vyc29yXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxpbWl0OiBsaW1pdCxcbiAgICAgICAgb3JkZXI6IFtbJ2NyZWF0ZWRBdCcsJ0RFU0MnXV1cbiAgICB9KVxuICAgIGlmKGNvdW50ID09PSAwKXtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAgIHJldHVybiByb3dzW3Jvd3MubGVuZ3RoLTFdLmNyZWF0ZWRBdDtcbiAgICB9XG59XG5cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUVPLE1BQU1BLE9BQU8sR0FBRyxDQUFDQyxHQUFELEVBQUtDLEdBQUwsS0FBYTtFQUNoQyxNQUFNQyxJQUFJLEdBQUdELEdBQUcsQ0FBQ0UsZ0JBQWpCO0VBQ0EsT0FBT0YsR0FBRyxDQUFDRyxJQUFKLENBQVNGLElBQVQsQ0FBUDtBQUNILENBSE07Ozs7QUFLQSxTQUFTRyxnQkFBVCxDQUEwQkMsS0FBMUIsRUFBaUM7RUFDcEMsT0FBUSxPQUFNTixHQUFOLEVBQVVDLEdBQVYsRUFBY00sSUFBZCxLQUF1QjtJQUMzQixNQUFNQyxLQUFLLEdBQUdDLFFBQVEsQ0FBQ1QsR0FBRyxDQUFDVSxLQUFKLENBQVVGLEtBQVgsQ0FBdEI7SUFDQSxNQUFNRyxNQUFNLEdBQUdYLEdBQUcsQ0FBQ1UsS0FBSixDQUFVQyxNQUF6QjtJQUNBLElBQUlDLE9BQU8sR0FBRyxFQUFkOztJQUNBLElBQUk7TUFDQUEsT0FBTyxDQUFDVixJQUFSLEdBQWUsTUFBTUksS0FBSyxDQUFDTyxPQUFOLENBQWM7UUFDL0JDLEtBQUssRUFBRTtVQUNIQyxTQUFTLEVBQUU7WUFBQyxDQUFDQyxrQkFBQSxDQUFVQyxFQUFWLENBQWFDLEdBQWQsR0FBb0JQO1VBQXJCO1FBRFIsQ0FEd0I7UUFJL0JILEtBQUssRUFBRUEsS0FKd0I7UUFLL0JXLEtBQUssRUFBRSxDQUFDLENBQUMsV0FBRCxFQUFhLEtBQWIsQ0FBRDtNQUx3QixDQUFkLENBQXJCO01BT0FQLE9BQU8sQ0FBQ0wsSUFBUixHQUFlLE1BQU1hLE9BQU8sQ0FBQ1QsTUFBRCxFQUFRLElBQVIsRUFBYUgsS0FBYixFQUFtQkYsS0FBbkIsQ0FBNUI7TUFDQU0sT0FBTyxDQUFDUyxJQUFSLEdBQWUsTUFBTUQsT0FBTyxDQUFDVCxNQUFELEVBQVEsSUFBUixFQUFhSCxLQUFiLEVBQW1CRixLQUFuQixDQUE1QjtNQUNBTCxHQUFHLENBQUNFLGdCQUFKLEdBQXVCUyxPQUF2QjtNQUNBTCxJQUFJO0lBQ1AsQ0FaRCxDQVlFLE9BQU9lLEtBQVAsRUFBYztNQUNaQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBWjtJQUNIO0VBQ0osQ0FuQkQ7QUFvQkg7O0FBRU0sTUFBTUYsT0FBTyxHQUFHLE9BQU1ULE1BQU4sRUFBYWMsU0FBYixFQUF1QmpCLEtBQXZCLEVBQTZCRixLQUE3QixLQUF1QztFQUMxRCxJQUFHbUIsU0FBUyxLQUFJLElBQWhCLEVBQXFCO0lBQ3JCLE1BQU07TUFBRUMsS0FBRjtNQUFVQztJQUFWLElBQW1CLE1BQU1yQixLQUFLLENBQUNzQixlQUFOLENBQXNCO01BQ2pEZCxLQUFLLEVBQUU7UUFDSEMsU0FBUyxFQUFFO1VBQ1AsQ0FBQ0Msa0JBQUEsQ0FBVUMsRUFBVixDQUFhWSxFQUFkLEdBQW1CbEI7UUFEWjtNQURSLENBRDBDO01BTTdDSCxLQUFLLEVBQUVBLEtBTnNDO01BTzdDVyxLQUFLLEVBQUUsQ0FBQyxDQUFDLFdBQUQsRUFBYSxLQUFiLENBQUQ7SUFQc0MsQ0FBdEIsQ0FBL0I7O0lBU0EsSUFBR08sS0FBSyxJQUFLbEIsS0FBYixFQUFtQjtNQUNmLE9BQU8sSUFBUDtJQUNILENBRkQsTUFHSTtNQUNBLE9BQU9tQixJQUFJLENBQUNBLElBQUksQ0FBQ0csTUFBTCxHQUFZLENBQWIsQ0FBSixDQUFvQmYsU0FBM0I7SUFDSDtFQUNKLENBaEJHLE1BaUJBO0lBQ0EsTUFBTTtNQUFFVyxLQUFGO01BQVVDO0lBQVYsSUFBbUIsTUFBTXJCLEtBQUssQ0FBQ3NCLGVBQU4sQ0FBc0I7TUFDakRkLEtBQUssRUFBRTtRQUNIQyxTQUFTLEVBQUU7VUFDUCxDQUFDQyxrQkFBQSxDQUFVQyxFQUFWLENBQWFjLEVBQWQsR0FBbUJwQjtRQURaO01BRFIsQ0FEMEM7TUFNakRILEtBQUssRUFBRUEsS0FOMEM7TUFPakRXLEtBQUssRUFBRSxDQUFDLENBQUMsV0FBRCxFQUFhLE1BQWIsQ0FBRDtJQVAwQyxDQUF0QixDQUEvQjs7SUFTQSxJQUFHTyxLQUFLLEtBQUssQ0FBYixFQUFlO01BQ1gsT0FBTyxJQUFQO0lBQ0gsQ0FGRCxNQUdJO01BQ0EsT0FBT0MsSUFBSSxDQUFDQSxJQUFJLENBQUNHLE1BQUwsR0FBWSxDQUFiLENBQUosQ0FBb0JmLFNBQTNCO0lBQ0g7RUFDSjtBQUVBLENBcENNIn0=","map":{"version":3,"names":["getData","req","res","data","paginatedResults","json","PaginatedResults","model","next","limit","parseInt","query","cursor","results","findAll","where","createdAt","sequelize","Op","gte","order","compare","prev","error","console","log","condition","count","rows","findAndCountAll","gt","length","lt"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/middleware/","sources":["Pagination.js"],"sourcesContent":["import sequelize from \"sequelize\";\n\nexport const getData = (req,res) => {\n    const data = res.paginatedResults;\n    return res.json(data);\n}\n\nexport function PaginatedResults(model) {\n    return  async(req,res,next) => {\n        const limit = parseInt(req.query.limit);\n        const cursor = req.query.cursor;\n        let results = {}\n        try {\n            results.data = await model.findAll({\n                where: {\n                    createdAt: {[sequelize.Op.gte]: cursor}\n                },\n                limit: limit,\n                order: [['createdAt','ASC']]\n            });\n            results.next = await compare(cursor,'gt',limit,model);\n            results.prev = await compare(cursor,'lt',limit,model);\n            res.paginatedResults = results;\n            next();\n        } catch (error) {\n            console.log(error)\n        }\n    }\n}\n\nexport const compare = async(cursor,condition,limit,model) => {\n    if(condition ==='gt'){\n    const { count , rows } = await model.findAndCountAll({\n        where: {\n            createdAt: {\n                [sequelize.Op.gt]: cursor\n            }\n        },\n            limit: limit,\n            order: [['createdAt','ASC']]\n    })\n    if(count <=  limit){\n        return null;\n    }\n    else{\n        return rows[rows.length-1].createdAt;\n    }\n}\nelse{\n    const { count , rows } = await model.findAndCountAll({\n        where: {\n            createdAt: {\n                [sequelize.Op.lt]: cursor\n            }\n        },\n        limit: limit,\n        order: [['createdAt','DESC']]\n    })\n    if(count === 0){\n        return null;\n    }\n    else{\n        return rows[rows.length-1].createdAt;\n    }\n}\n\n}\n"],"mappings":";;;;;;;;AAAA;;;;AAEO,MAAMA,OAAO,GAAG,CAACC,GAAD,EAAKC,GAAL,KAAa;EAChC,MAAMC,IAAI,GAAGD,GAAG,CAACE,gBAAjB;EACA,OAAOF,GAAG,CAACG,IAAJ,CAASF,IAAT,CAAP;AACH,CAHM;;;;AAKA,SAASG,gBAAT,CAA0BC,KAA1B,EAAiC;EACpC,OAAQ,OAAMN,GAAN,EAAUC,GAAV,EAAcM,IAAd,KAAuB;IAC3B,MAAMC,KAAK,GAAGC,QAAQ,CAACT,GAAG,CAACU,KAAJ,CAAUF,KAAX,CAAtB;IACA,MAAMG,MAAM,GAAGX,GAAG,CAACU,KAAJ,CAAUC,MAAzB;IACA,IAAIC,OAAO,GAAG,EAAd;;IACA,IAAI;MACAA,OAAO,CAACV,IAAR,GAAe,MAAMI,KAAK,CAACO,OAAN,CAAc;QAC/BC,KAAK,EAAE;UACHC,SAAS,EAAE;YAAC,CAACC,kBAAA,CAAUC,EAAV,CAAaC,GAAd,GAAoBP;UAArB;QADR,CADwB;QAI/BH,KAAK,EAAEA,KAJwB;QAK/BW,KAAK,EAAE,CAAC,CAAC,WAAD,EAAa,KAAb,CAAD;MALwB,CAAd,CAArB;MAOAP,OAAO,CAACL,IAAR,GAAe,MAAMa,OAAO,CAACT,MAAD,EAAQ,IAAR,EAAaH,KAAb,EAAmBF,KAAnB,CAA5B;MACAM,OAAO,CAACS,IAAR,GAAe,MAAMD,OAAO,CAACT,MAAD,EAAQ,IAAR,EAAaH,KAAb,EAAmBF,KAAnB,CAA5B;MACAL,GAAG,CAACE,gBAAJ,GAAuBS,OAAvB;MACAL,IAAI;IACP,CAZD,CAYE,OAAOe,KAAP,EAAc;MACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACH;EACJ,CAnBD;AAoBH;;AAEM,MAAMF,OAAO,GAAG,OAAMT,MAAN,EAAac,SAAb,EAAuBjB,KAAvB,EAA6BF,KAA7B,KAAuC;EAC1D,IAAGmB,SAAS,KAAI,IAAhB,EAAqB;IACrB,MAAM;MAAEC,KAAF;MAAUC;IAAV,IAAmB,MAAMrB,KAAK,CAACsB,eAAN,CAAsB;MACjDd,KAAK,EAAE;QACHC,SAAS,EAAE;UACP,CAACC,kBAAA,CAAUC,EAAV,CAAaY,EAAd,GAAmBlB;QADZ;MADR,CAD0C;MAM7CH,KAAK,EAAEA,KANsC;MAO7CW,KAAK,EAAE,CAAC,CAAC,WAAD,EAAa,KAAb,CAAD;IAPsC,CAAtB,CAA/B;;IASA,IAAGO,KAAK,IAAKlB,KAAb,EAAmB;MACf,OAAO,IAAP;IACH,CAFD,MAGI;MACA,OAAOmB,IAAI,CAACA,IAAI,CAACG,MAAL,GAAY,CAAb,CAAJ,CAAoBf,SAA3B;IACH;EACJ,CAhBG,MAiBA;IACA,MAAM;MAAEW,KAAF;MAAUC;IAAV,IAAmB,MAAMrB,KAAK,CAACsB,eAAN,CAAsB;MACjDd,KAAK,EAAE;QACHC,SAAS,EAAE;UACP,CAACC,kBAAA,CAAUC,EAAV,CAAac,EAAd,GAAmBpB;QADZ;MADR,CAD0C;MAMjDH,KAAK,EAAEA,KAN0C;MAOjDW,KAAK,EAAE,CAAC,CAAC,WAAD,EAAa,MAAb,CAAD;IAP0C,CAAtB,CAA/B;;IASA,IAAGO,KAAK,KAAK,CAAb,EAAe;MACX,OAAO,IAAP;IACH,CAFD,MAGI;MACA,OAAOC,IAAI,CAACA,IAAI,CAACG,MAAL,GAAY,CAAb,CAAJ,CAAoBf,SAA3B;IACH;EACJ;AAEA,CApCM"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.test = exports.production = exports.elasticSearch = exports.development = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst development = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false\n};\nexports.development = development;\nconst test = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false\n};\nexports.test = test;\nconst production = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false\n};\nexports.production = production;\nconst elasticSearch = {\n  username: process.env.Cloud_USERNAME,\n  password: process.env.Cloud_PASSWORD,\n  cloud: process.env.Cloud_NAME,\n  host: process.env.Cloud_HOST,\n  cloudID: process.env.Cloud_ID\n};\nexports.elasticSearch = elasticSearch;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJkZXZlbG9wbWVudCIsInVzZXJuYW1lIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVJOQU1FIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsImRhdGFiYXNlIiwiREJfTkFNRSIsImhvc3QiLCJEQl9IT1NUIiwiZGlhbGVjdCIsInBvcnQiLCJEQl9QT1JUIiwibG9nZ2luZyIsInRlc3QiLCJwcm9kdWN0aW9uIiwiZWxhc3RpY1NlYXJjaCIsIkNsb3VkX1VTRVJOQU1FIiwiQ2xvdWRfUEFTU1dPUkQiLCJjbG91ZCIsIkNsb3VkX05BTUUiLCJDbG91ZF9IT1NUIiwiY2xvdWRJRCIsIkNsb3VkX0lEIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL2NvbmZpZy8iLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmRvdGVudi5jb25maWcoKTtcbmV4cG9ydCBjb25zdCBkZXZlbG9wbWVudCA9IHtcbiAgdXNlcm5hbWU6IHByb2Nlc3MuZW52LkRCX1VTRVJOQU1FLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NULFxuICBkaWFsZWN0OiBcInBvc3RncmVzXCIsXG4gIHBvcnQ6IHByb2Nlc3MuZW52LkRCX1BPUlQsXG4gIGxvZ2dpbmc6IGZhbHNlLFxufTtcbmV4cG9ydCBjb25zdCB0ZXN0ID0ge1xuICB1c2VybmFtZTogcHJvY2Vzcy5lbnYuREJfVVNFUk5BTUUsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUsXG4gIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsXG4gIGRpYWxlY3Q6IFwicG9zdGdyZXNcIixcbiAgcG9ydDogcHJvY2Vzcy5lbnYuREJfUE9SVCxcbiAgbG9nZ2luZzogZmFsc2UsXG59O1xuZXhwb3J0IGNvbnN0IHByb2R1Y3Rpb24gPSB7XG4gIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5EQl9VU0VSTkFNRSxcbiAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JELFxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREJfTkFNRSxcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCxcbiAgZGlhbGVjdDogXCJwb3N0Z3Jlc1wiLFxuICBwb3J0OiBwcm9jZXNzLmVudi5EQl9QT1JULFxuICBsb2dnaW5nOiBmYWxzZSxcbn07XG5leHBvcnQgY29uc3QgZWxhc3RpY1NlYXJjaCA9IHtcbiAgdXNlcm5hbWU6IHByb2Nlc3MuZW52LkNsb3VkX1VTRVJOQU1FLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuQ2xvdWRfUEFTU1dPUkQsXG4gIGNsb3VkOiBwcm9jZXNzLmVudi5DbG91ZF9OQU1FLFxuICBob3N0OiBwcm9jZXNzLmVudi5DbG91ZF9IT1NULFxuICBjbG91ZElEOiBwcm9jZXNzLmVudi5DbG91ZF9JRCxcbn07XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0FBLGVBQUEsQ0FBT0MsTUFBUDs7QUFDTyxNQUFNQyxXQUFXLEdBQUc7RUFDekJDLFFBQVEsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFdBREc7RUFFekJDLFFBQVEsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLFdBRkc7RUFHekJDLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLLE9BSEc7RUFJekJDLElBQUksRUFBRVAsT0FBTyxDQUFDQyxHQUFSLENBQVlPLE9BSk87RUFLekJDLE9BQU8sRUFBRSxVQUxnQjtFQU16QkMsSUFBSSxFQUFFVixPQUFPLENBQUNDLEdBQVIsQ0FBWVUsT0FOTztFQU96QkMsT0FBTyxFQUFFO0FBUGdCLENBQXBCOztBQVNBLE1BQU1DLElBQUksR0FBRztFQUNsQmQsUUFBUSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FESjtFQUVsQkMsUUFBUSxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsV0FGSjtFQUdsQkMsUUFBUSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUssT0FISjtFQUlsQkMsSUFBSSxFQUFFUCxPQUFPLENBQUNDLEdBQVIsQ0FBWU8sT0FKQTtFQUtsQkMsT0FBTyxFQUFFLFVBTFM7RUFNbEJDLElBQUksRUFBRVYsT0FBTyxDQUFDQyxHQUFSLENBQVlVLE9BTkE7RUFPbEJDLE9BQU8sRUFBRTtBQVBTLENBQWI7O0FBU0EsTUFBTUUsVUFBVSxHQUFHO0VBQ3hCZixRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQURFO0VBRXhCQyxRQUFRLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxXQUZFO0VBR3hCQyxRQUFRLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxPQUhFO0VBSXhCQyxJQUFJLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTyxPQUpNO0VBS3hCQyxPQUFPLEVBQUUsVUFMZTtFQU14QkMsSUFBSSxFQUFFVixPQUFPLENBQUNDLEdBQVIsQ0FBWVUsT0FOTTtFQU94QkMsT0FBTyxFQUFFO0FBUGUsQ0FBbkI7O0FBU0EsTUFBTUcsYUFBYSxHQUFHO0VBQzNCaEIsUUFBUSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWWUsY0FESztFQUUzQmIsUUFBUSxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWWdCLGNBRks7RUFHM0JDLEtBQUssRUFBRWxCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZa0IsVUFIUTtFQUkzQlosSUFBSSxFQUFFUCxPQUFPLENBQUNDLEdBQVIsQ0FBWW1CLFVBSlM7RUFLM0JDLE9BQU8sRUFBRXJCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZcUI7QUFMTSxDQUF0QiJ9","map":{"version":3,"names":["dotenv","config","development","username","process","env","DB_USERNAME","password","DB_PASSWORD","database","DB_NAME","host","DB_HOST","dialect","port","DB_PORT","logging","test","production","elasticSearch","Cloud_USERNAME","Cloud_PASSWORD","cloud","Cloud_NAME","Cloud_HOST","cloudID","Cloud_ID"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/config/","sources":["config.js"],"sourcesContent":["import dotenv from \"dotenv\";\ndotenv.config();\nexport const development = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false,\n};\nexport const test = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false,\n};\nexport const production = {\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  host: process.env.DB_HOST,\n  dialect: \"postgres\",\n  port: process.env.DB_PORT,\n  logging: false,\n};\nexport const elasticSearch = {\n  username: process.env.Cloud_USERNAME,\n  password: process.env.Cloud_PASSWORD,\n  cloud: process.env.Cloud_NAME,\n  host: process.env.Cloud_HOST,\n  cloudID: process.env.Cloud_ID,\n};\n\n"],"mappings":";;;;;;;AAAA;;;;AACAA,eAAA,CAAOC,MAAP;;AACO,MAAMC,WAAW,GAAG;EACzBC,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADG;EAEzBC,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFG;EAGzBC,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHG;EAIzBC,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJO;EAKzBC,OAAO,EAAE,UALgB;EAMzBC,IAAI,EAAEV,OAAO,CAACC,GAAR,CAAYU,OANO;EAOzBC,OAAO,EAAE;AAPgB,CAApB;;AASA,MAAMC,IAAI,GAAG;EAClBd,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADJ;EAElBC,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFJ;EAGlBC,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHJ;EAIlBC,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJA;EAKlBC,OAAO,EAAE,UALS;EAMlBC,IAAI,EAAEV,OAAO,CAACC,GAAR,CAAYU,OANA;EAOlBC,OAAO,EAAE;AAPS,CAAb;;AASA,MAAME,UAAU,GAAG;EACxBf,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADE;EAExBC,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFE;EAGxBC,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHE;EAIxBC,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJM;EAKxBC,OAAO,EAAE,UALe;EAMxBC,IAAI,EAAEV,OAAO,CAACC,GAAR,CAAYU,OANM;EAOxBC,OAAO,EAAE;AAPe,CAAnB;;AASA,MAAMG,aAAa,GAAG;EAC3BhB,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYe,cADK;EAE3Bb,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYgB,cAFK;EAG3BC,KAAK,EAAElB,OAAO,CAACC,GAAR,CAAYkB,UAHQ;EAI3BZ,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYmB,UAJS;EAK3BC,OAAO,EAAErB,OAAO,CAACC,GAAR,CAAYqB;AALM,CAAtB"}},"mtime":1663218561430},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/database/migrations/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/database/migrations/20220919072131-create-user-improvement.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"'use strict';\n\nmodule.exports = {\n  async up(queryInterface, Sequelize) {\n    await queryInterface.addColumn('Users', 'resetLink', {\n      type: Sequelize.STRING\n    });\n  },\n\n  async down(queryInterface, Sequelize) {//await queryInterface.dropTable('UserImprovements');\n  }\n\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidXAiLCJxdWVyeUludGVyZmFjZSIsIlNlcXVlbGl6ZSIsImFkZENvbHVtbiIsInR5cGUiLCJTVFJJTkciLCJkb3duIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL2RhdGFiYXNlL21pZ3JhdGlvbnMvIiwic291cmNlcyI6WyIyMDIyMDkxOTA3MjEzMS1jcmVhdGUtdXNlci1pbXByb3ZlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXN5bmMgdXAocXVlcnlJbnRlcmZhY2UsIFNlcXVlbGl6ZSkge1xuICAgIGF3YWl0IHF1ZXJ5SW50ZXJmYWNlLmFkZENvbHVtbignVXNlcnMnLCAncmVzZXRMaW5rJywge1xuICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklOR1xuICAgIH1cbiAgICApO1xuICB9LFxuICBhc3luYyBkb3duKHF1ZXJ5SW50ZXJmYWNlLCBTZXF1ZWxpemUpIHtcbiAgICAvL2F3YWl0IHF1ZXJ5SW50ZXJmYWNlLmRyb3BUYWJsZSgnVXNlckltcHJvdmVtZW50cycpO1xuICB9XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmLE1BQU1DLEVBQU4sQ0FBU0MsY0FBVCxFQUF5QkMsU0FBekIsRUFBb0M7SUFDbEMsTUFBTUQsY0FBYyxDQUFDRSxTQUFmLENBQXlCLE9BQXpCLEVBQWtDLFdBQWxDLEVBQStDO01BQ25EQyxJQUFJLEVBQUVGLFNBQVMsQ0FBQ0c7SUFEbUMsQ0FBL0MsQ0FBTjtFQUlELENBTmM7O0VBT2YsTUFBTUMsSUFBTixDQUFXTCxjQUFYLEVBQTJCQyxTQUEzQixFQUFzQyxDQUNwQztFQUNEOztBQVRjLENBQWpCIn0=","map":{"version":3,"names":["module","exports","up","queryInterface","Sequelize","addColumn","type","STRING","down"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/database/migrations/","sources":["20220919072131-create-user-improvement.js"],"sourcesContent":["'use strict';\nmodule.exports = {\n  async up(queryInterface, Sequelize) {\n    await queryInterface.addColumn('Users', 'resetLink', {\n      type: Sequelize.STRING\n    }\n    );\n  },\n  async down(queryInterface, Sequelize) {\n    //await queryInterface.dropTable('UserImprovements');\n  }\n};"],"mappings":"AAAA;;AACAA,MAAM,CAACC,OAAP,GAAiB;EACf,MAAMC,EAAN,CAASC,cAAT,EAAyBC,SAAzB,EAAoC;IAClC,MAAMD,cAAc,CAACE,SAAf,CAAyB,OAAzB,EAAkC,WAAlC,EAA+C;MACnDC,IAAI,EAAEF,SAAS,CAACG;IADmC,CAA/C,CAAN;EAID,CANc;;EAOf,MAAMC,IAAN,CAAWL,cAAX,EAA2BC,SAA3B,EAAsC,CACpC;EACD;;AATc,CAAjB"}},"mtime":1663572603975},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/userimprovement.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbInVzZXJpbXByb3ZlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIiXSwibWFwcGluZ3MiOiIifQ==","map":{"version":3,"names":[],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["userimprovement.js"],"sourcesContent":[""],"mappings":""}},"mtime":1663585419879},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/database/migrations/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/database/migrations/20220919105342-create-user-improvement.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"'use strict';\n\nmodule.exports = {\n  async up(queryInterface, Sequelize) {\n    await queryInterface.changeColumn('Users', 'name', {\n      type: Sequelize.STRING\n    });\n  },\n\n  async down(queryInterface, Sequelize) {// await queryInterface.dropTable('UserImprovements');\n  }\n\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidXAiLCJxdWVyeUludGVyZmFjZSIsIlNlcXVlbGl6ZSIsImNoYW5nZUNvbHVtbiIsInR5cGUiLCJTVFJJTkciLCJkb3duIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL2RhdGFiYXNlL21pZ3JhdGlvbnMvIiwic291cmNlcyI6WyIyMDIyMDkxOTEwNTM0Mi1jcmVhdGUtdXNlci1pbXByb3ZlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXN5bmMgdXAocXVlcnlJbnRlcmZhY2UsIFNlcXVlbGl6ZSkge1xuICAgIGF3YWl0IHF1ZXJ5SW50ZXJmYWNlLmNoYW5nZUNvbHVtbignVXNlcnMnLCAnbmFtZScsIHtcbiAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkdcbiAgICB9KVxuICB9LFxuICBhc3luYyBkb3duKHF1ZXJ5SW50ZXJmYWNlLCBTZXF1ZWxpemUpIHtcbiAgICAvLyBhd2FpdCBxdWVyeUludGVyZmFjZS5kcm9wVGFibGUoJ1VzZXJJbXByb3ZlbWVudHMnKTtcbiAgfVxufTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZixNQUFNQyxFQUFOLENBQVNDLGNBQVQsRUFBeUJDLFNBQXpCLEVBQW9DO0lBQ2xDLE1BQU1ELGNBQWMsQ0FBQ0UsWUFBZixDQUE0QixPQUE1QixFQUFxQyxNQUFyQyxFQUE2QztNQUNqREMsSUFBSSxFQUFFRixTQUFTLENBQUNHO0lBRGlDLENBQTdDLENBQU47RUFHRCxDQUxjOztFQU1mLE1BQU1DLElBQU4sQ0FBV0wsY0FBWCxFQUEyQkMsU0FBM0IsRUFBc0MsQ0FDcEM7RUFDRDs7QUFSYyxDQUFqQiJ9","map":{"version":3,"names":["module","exports","up","queryInterface","Sequelize","changeColumn","type","STRING","down"],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/database/migrations/","sources":["20220919105342-create-user-improvement.js"],"sourcesContent":["'use strict';\nmodule.exports = {\n  async up(queryInterface, Sequelize) {\n    await queryInterface.changeColumn('Users', 'name', {\n      type: Sequelize.STRING\n    })\n  },\n  async down(queryInterface, Sequelize) {\n    // await queryInterface.dropTable('UserImprovements');\n  }\n};"],"mappings":"AAAA;;AACAA,MAAM,CAACC,OAAP,GAAiB;EACf,MAAMC,EAAN,CAASC,cAAT,EAAyBC,SAAzB,EAAoC;IAClC,MAAMD,cAAc,CAACE,YAAf,CAA4B,OAA5B,EAAqC,MAArC,EAA6C;MACjDC,IAAI,EAAEF,SAAS,CAACG;IADiC,CAA7C,CAAN;EAGD,CALc;;EAMf,MAAMC,IAAN,CAAWL,cAAX,EAA2BC,SAA3B,EAAsC,CACpC;EACD;;AARc,CAAjB"}},"mtime":1663585676599},"{\"assumptions\":{},\"sourceRoot\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"filename\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/userimprovement.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIvaG9tZS90YWxoYS1zaGFraWwvRGVza3RvcC9UcmFpbmluZy9ibG9nLXBvc3QtcHJvamVjdC9wYWNrYWdlcy9hcGkvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbInVzZXJpbXByb3ZlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIiXSwibWFwcGluZ3MiOiIifQ==","map":{"version":3,"names":[],"sourceRoot":"/home/talha-shakil/Desktop/Training/blog-post-project/packages/api/src/models/","sources":["userimprovement.js"],"sourcesContent":[""],"mappings":""}},"mtime":1663585419879}}